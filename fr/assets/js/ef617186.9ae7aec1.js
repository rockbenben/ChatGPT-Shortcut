"use strict";(self.webpackChunkchatgpt_shortcut=self.webpackChunkchatgpt_shortcut||[]).push([["8900"],{86209(e,n,r){r.r(n),r.d(n,{metadata:()=>i,default:()=>a,frontMatter:()=>t,contentTitle:()=>l,toc:()=>u,assets:()=>c});var i=JSON.parse('{"id":"deploy","title":"D\xe9ploiement AI Short - Vercel/Docker Facile","description":"D\xe9ployez votre propre biblioth\xe9que de prompts. Guide complet pour Vercel et Docker, incluant la configuration et les mises \xe0 jour auto.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/deploy.md","sourceDirName":".","slug":"/deploy","permalink":"/fr/docs/deploy","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"sidebar_label":"D\xe9ploiement","title":"D\xe9ploiement AI Short - Vercel/Docker Facile","description":"D\xe9ployez votre propre biblioth\xe9que de prompts. Guide complet pour Vercel et Docker, incluant la configuration et les mises \xe0 jour auto."},"sidebar":"docs","previous":{"title":"FAQ de l\'extension","permalink":"/fr/docs/extension/faq"},"next":{"title":"AiShort Privacy Policy","permalink":"/fr/docs/privacy-policy"}}'),o=r(74848),s=r(28453);let t={sidebar_label:"D\xe9ploiement",title:"D\xe9ploiement AI Short - Vercel/Docker Facile",description:"D\xe9ployez votre propre biblioth\xe9que de prompts. Guide complet pour Vercel et Docker, incluant la configuration et les mises \xe0 jour auto."},l="D\xe9ploiement du projet",c={},u=[{value:"Configuration et personnalisation",id:"configuration-et-personnalisation",level:2},{value:"Instructions de d\xe9ploiement",id:"instructions-de-d\xe9ploiement",level:2},{value:"D\xe9ploiement local",id:"d\xe9ploiement-local",level:3},{value:"D\xe9ploiement Vercel",id:"d\xe9ploiement-vercel",level:3},{value:"D\xe9ploiement Cloudflare Pages",id:"d\xe9ploiement-cloudflare-pages",level:3},{value:"D\xe9ploiement Docker",id:"d\xe9ploiement-docker",level:3},{value:"Activer les mises \xe0 jour synchronis\xe9es",id:"activer-les-mises-\xe0-jour-synchronis\xe9es",level:2},{value:"Activer la mise \xe0 jour automatique",id:"activer-la-mise-\xe0-jour-automatique",level:3},{value:"Mise \xe0 jour manuelle du code",id:"mise-\xe0-jour-manuelle-du-code",level:3}];function d(e){let n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"d\xe9ploiement-du-projet",children:"D\xe9ploiement du projet"})}),"\n",(0,o.jsx)(n.h2,{id:"configuration-et-personnalisation",children:"Configuration et personnalisation"}),"\n",(0,o.jsx)(n.p,{children:"AI Short est un projet open source qui vous permet de modifier librement le titre, la description, les prompts et d'autres contenus du site web selon vos besoins. Voici les options de modification courantes et les instructions d'op\xe9ration :"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Modifier le titre et la description du site web"}),"\nPour changer le titre et la description du site web, veuillez \xe9diter le fichier de configuration ",(0,o.jsx)(n.code,{children:"docusaurus.config.js"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Modifier les instructions d'utilisation et l'introduction du projet"}),"\nLes instructions d'utilisation et les fichiers d'introduction du projet se trouvent dans le r\xe9pertoire ",(0,o.jsx)(n.code,{children:"docs"}),". Ouvrez les fichiers pertinents dans ce r\xe9pertoire pour effectuer les modifications n\xe9cessaires."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Modifier les prompts de la page d'accueil"}),"\nLes prompts de la page d'accueil sont stock\xe9s dans le fichier ",(0,o.jsx)(n.code,{children:"src/data/prompt.json"}),". Si vous devez modifier des prompts pour une langue sp\xe9cifique, comme le chinois, vous pouvez \xe9diter directement le fichier ",(0,o.jsx)(n.code,{children:"src/data/prompt_zh.json"}),". Lors de l'ajout d'un nouveau prompt, le format est le suivant :"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "zh": {\n    "title": "custom prompt",\n    "prompt": "custom prompt",\n    "description": "custom description",\n    "remark": "custom mark"\n  },\n  "website": null,\n  "tags": ["music"],\n  "id": 500,\n  "weight": 1\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Note"})," : Il est recommand\xe9 de d\xe9finir l'",(0,o.jsx)(n.code,{children:"id"})," \xe0 500 ou plus. Les prompts nouvellement ajout\xe9s n'auront pas de page d\xe9di\xe9e ni de section de commentaires. Si vous devez ajouter une page d\xe9di\xe9e pour un prompt, vous pouvez copier le fichier mod\xe8le dans le r\xe9pertoire ",(0,o.jsx)(n.code,{children:"src/data/pages/prompt"})," pour le modifier."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Backend personnalis\xe9"}),"\nLe projet actuel est connect\xe9 \xe0 un syst\xe8me backend partag\xe9. Si vous souhaitez cr\xe9er votre propre backend, vous pouvez consulter les instructions de l'interface dans le dossier ",(0,o.jsx)(n.code,{children:"src/api"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"Structure du module API :"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"src/api/\n\u251C\u2500\u2500 index.ts       # Entr\xe9e d'exportation unifi\xe9e\n\u251C\u2500\u2500 config.ts      # Configuration de l'URL de l'API\n\u251C\u2500\u2500 client.ts      # Client Axios (y compris les intercepteurs d'authentification)\n\u251C\u2500\u2500 auth.ts        # API d'authentification (Connexion/Inscription/OAuth)\n\u251C\u2500\u2500 prompts.ts     # CRUD de prompts + Recherche + Vote\n\u251C\u2500\u2500 favorites.ts   # Op\xe9rations favoris\n\u251C\u2500\u2500 myspace.ts     # Donn\xe9es de mon espace (source de donn\xe9es principale)\n\u251C\u2500\u2500 comments.ts    # Syst\xe8me de commentaires\n\u2514\u2500\u2500 user.ts        # Informations utilisateur\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"M\xe9canisme de cache"})," : Le projet utilise ",(0,o.jsx)(n.code,{children:"lscache"})," combin\xe9 avec des ETags pour impl\xe9menter un cache intelligent. Lorsque le serveur renvoie 304 Not Modified, les donn\xe9es en cache local sont directement r\xe9utilis\xe9es pour r\xe9duire la transmission de donn\xe9es."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Support multilingue et d\xe9ploiement"}),"\nUne fois les modifications multilingues termin\xe9es, vous pouvez utiliser le script ",(0,o.jsx)(n.code,{children:"CodeUpdateHandler.py"})," pour le traitement par lots. Ex\xe9cutez la commande suivante :"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"python CodeUpdateHandler.py\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Ce script divisera le fichier ",(0,o.jsx)(n.code,{children:"prompt.json"})," selon des r\xe8gles pr\xe9d\xe9finies et mettra \xe0 jour de mani\xe8re synchrone la page principale et les pages de prompts en vedette pour chaque version linguistique."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"instructions-de-d\xe9ploiement",children:"Instructions de d\xe9ploiement"}),"\n",(0,o.jsx)(n.p,{children:"Exigences syst\xe8me :"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://nodejs.org/",children:"Node.js 20.0"})," ou version ult\xe9rieure."]}),"\n",(0,o.jsx)(n.li,{children:"macOS, Windows (y compris WSL) et Linux sont pris en charge."}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"d\xe9ploiement-local",children:"D\xe9ploiement local"}),"\n",(0,o.jsxs)(n.p,{children:["Assurez-vous d'avoir install\xe9 ",(0,o.jsx)(n.a,{href:"https://nodejs.org/",children:"Node.js"}),"."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"# Installation\nyarn\n\n# D\xe9veloppement local\nyarn start\n\n# Build : Cette commande g\xe9n\xe8re du contenu statique dans le r\xe9pertoire `build`\nyarn build\n\n# Mettez \xe0 jour le `defaultLocale` dans le fichier `docusaurus.config.js`, puis effectuez un build pour la langue souhait\xe9e.\nyarn build --locale zh\nyarn build --locale en\nyarn build --locale ja\nyarn build --locale ko\nyarn build --locale es\nyarn build --locale fr\nyarn build --locale de\nyarn build --locale it\nyarn build --locale ru\nyarn build --locale pt\nyarn build --locale hi\nyarn build --locale ar\nyarn build --locale bn\n\n# D\xe9ploiement pour plusieurs langues\nyarn build --locale zh && yarn build --locale en\n"})}),"\n",(0,o.jsx)(n.h3,{id:"d\xe9ploiement-vercel",children:"D\xe9ploiement Vercel"}),"\n",(0,o.jsx)(n.p,{children:"Cliquez sur le bouton ci-dessous pour d\xe9ployer ChatGPT-Shortcut sur la plateforme Vercel en un clic :"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Frockbenben%2FChatGPT-Shortcut%2Ftree%2Fmain",children:(0,o.jsx)(n.img,{src:"https://vercel.com/button",alt:"Vercel"})})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Note"})," : La version gratuite de Vercel peut signaler une erreur en raison d'une m\xe9moire insuffisante. Si vous rencontrez cette situation, vous pouvez choisir de d\xe9ployer une seule langue. Les op\xe9rations sp\xe9cifiques sont les suivantes :"]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Entrez dans le projet Vercel que vous venez de d\xe9ployer et ouvrez ",(0,o.jsx)(n.strong,{children:"Settings"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Dans la section ",(0,o.jsx)(n.strong,{children:"Build & Deployment"}),", trouvez ",(0,o.jsx)(n.strong,{children:"Build Command"}),", puis cliquez sur ",(0,o.jsx)(n.strong,{children:"Override"})," \xe0 droite."]}),"\n",(0,o.jsxs)(n.li,{children:["Modifiez la commande de d\xe9ploiement. Par exemple, si vous devez d\xe9ployer la version chinoise, vous pouvez utiliser ",(0,o.jsx)(n.code,{children:"yarn build --locale zh"})," ; si vous devez d\xe9ployer la version portugaise, utilisez ",(0,o.jsx)(n.code,{children:"yarn build --locale pt"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"d\xe9ploiement-cloudflare-pages",children:"D\xe9ploiement Cloudflare Pages"}),"\n",(0,o.jsx)(n.p,{children:"Cliquez sur le bouton ou le lien ci-dessous pour faire un Fork de ce projet, puis suivez les instructions pour d\xe9ployer sur Cloudflare Pages :"}),"\n",(0,o.jsxs)(n.p,{children:["\u{1F449} ",(0,o.jsx)(n.a,{href:"https://github.com/rockbenben/ChatGPT-Shortcut/fork",children:"Faire un Fork de ce projet"})]}),"\n",(0,o.jsx)(n.p,{children:"\xc9tapes de d\xe9ploiement :"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Connectez-vous \xe0 ",(0,o.jsx)(n.a,{href:"https://pages.cloudflare.com/",children:"Cloudflare Pages"})," et s\xe9lectionnez ",(0,o.jsx)(n.strong,{children:'"Create a project"'}),"."]}),"\n",(0,o.jsx)(n.li,{children:"Liez le d\xe9p\xf4t que vous venez de forker."}),"\n",(0,o.jsxs)(n.li,{children:["Configurez les commandes de build :","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Build command"})," : ",(0,o.jsx)(n.code,{children:"yarn build --locale zh"})," (Choisissez la locale appropri\xe9e selon la langue \xe0 d\xe9ployer, ex: pour le portuguais utilisez ",(0,o.jsx)(n.code,{children:"yarn build --locale pt"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Output directory"})," : ",(0,o.jsx)(n.code,{children:"build"}),"."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["Cliquez sur ",(0,o.jsx)(n.strong,{children:"Deploy"})," et attendez que Cloudflare Pages termine le build et le d\xe9ploiement."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Cloudflare Pages d\xe9clenchera \xe9galement automatiquement des builds et des d\xe9ploiements chaque fois que vous pousserez du nouveau code."}),"\n",(0,o.jsx)(n.h3,{id:"d\xe9ploiement-docker",children:"D\xe9ploiement Docker"}),"\n",(0,o.jsx)(n.p,{children:"Si vous \xeates familier avec Docker, vous pouvez d\xe9ployer rapidement en utilisant la commande suivante :"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# ghcr.io\ndocker run -d -p 3000:3000 --name chatgpt-shortcut ghcr.io/rockbenben/chatgpt-shortcut:latest\n\n# docker hub\ndocker run -d -p 3000:3000 --name chatgpt-shortcut rockben/chatgpt-shortcut:latest\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Alternativement, vous pouvez \xe9galement utiliser ",(0,o.jsx)(n.code,{children:"docker-compose"})," :"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yml",children:'services:\n  chatgpt-shortcut:\n    container_name: chatgpt-shortcut\n    image: ghcr.io/rockbenben/chatgpt-shortcut:latest\n    ports:\n      - "3000:3000"\n    restart: unless-stopped\n'})}),"\n",(0,o.jsx)(n.h2,{id:"activer-les-mises-\xe0-jour-synchronis\xe9es",children:"Activer les mises \xe0 jour synchronis\xe9es"}),"\n",(0,o.jsx)(n.p,{children:"Si vous avez d\xe9ploy\xe9 votre propre projet sur Vercel en un clic, vous pourriez rencontrer un probl\xe8me o\xf9 il indique toujours que des mises \xe0 jour sont disponibles. Cela est d\xfb au fait que Vercel cr\xe9e un nouveau projet pour vous par d\xe9faut au lieu de forker ce projet, ce qui fait \xe9chouer la d\xe9tection des mises \xe0 jour. Il est recommand\xe9 de red\xe9ployer en suivant ces \xe9tapes :"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Supprimez le d\xe9p\xf4t original ;"}),"\n",(0,o.jsx)(n.li,{children:"Utilisez le bouton fork dans le coin sup\xe9rieur droit de la page pour forker ce projet ;"}),"\n",(0,o.jsxs)(n.li,{children:["Res\xe9lectionnez le projet que vous venez de forker dans la section Import Git Repository de la ",(0,o.jsx)(n.a,{href:"https://vercel.com/new",children:"Page Nouveau Projet Vercel"})," et d\xe9ployez."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"activer-la-mise-\xe0-jour-automatique",children:"Activer la mise \xe0 jour automatique"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"Si vous rencontrez une erreur d'ex\xe9cution Upstream Sync, veuillez ex\xe9cuter manuellement Sync Fork une fois !"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Apr\xe8s avoir fork\xe9 le projet, en raison des limitations de GitHub, vous devez activer manuellement les Workflows sur la page Actions de votre projet fork\xe9 et activer l'Action Upstream Sync. Une fois activ\xe9, les mises \xe0 jour s'ex\xe9cuteront automatiquement chaque jour :"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://img.newzone.top/2023-05-19-11-57-59.png?imageMogr2/format/webp",alt:"Mise \xe0 jour automatique"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://img.newzone.top/2023-05-19-11-59-26.png?imageMogr2/format/webp",alt:"Activer la mise \xe0 jour automatique"})}),"\n",(0,o.jsx)(n.h3,{id:"mise-\xe0-jour-manuelle-du-code",children:"Mise \xe0 jour manuelle du code"}),"\n",(0,o.jsxs)(n.p,{children:["Si vous souhaitez mettre \xe0 jour manuellement imm\xe9diatement, vous pouvez consulter la ",(0,o.jsx)(n.a,{href:"https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks/syncing-a-fork",children:"documentation GitHub"})," pour apprendre comment synchroniser un projet fork\xe9 avec le code original."]}),"\n",(0,o.jsx)(n.p,{children:"Vous pouvez donner une \xe9toile (star)/suivre (watch) \xe0 ce projet, ou suivre l'auteur pour recevoir des notifications de nouvelles mises \xe0 jour de fonctionnalit\xe9s \xe0 temps."})]})}function a(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453(e,n,r){r.d(n,{R:()=>t,x:()=>l});var i=r(96540);let o={},s=i.createContext(o);function t(e){let n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);