"use strict";(self.webpackChunkchatgpt_shortcut=self.webpackChunkchatgpt_shortcut||[]).push([["7746"],{66552:function(e,s,r){r.d(s,{A:()=>a});let a={showcaseCardBody:"showcaseCardBody_fqoj",showcaseCardHeader:"showcaseCardHeader_Wgbd",showcaseCardImage:"showcaseCardImage_cKtS",shortEllipsisMy:"shortEllipsisMy_clBa",shortEllipsis:"shortEllipsis_LL0g",showcaseCardTitle:"showcaseCardTitle_zvaY",svgIconFavorite:"svgIconFavorite_CmdZ",showcaseCardSrcBtn:"showcaseCardSrcBtn_o3AD",cardFooter:"cardFooter_tbwZ",tag:"tag_dHH4",textLabel:"textLabel_NAck",colorLabel:"colorLabel_xnnh",descriptionWrapper:"descriptionWrapper_fj5a",clickable:"clickable_BzJT",nonClickable:"nonClickable_M5zF",gradientOverlay:"gradientOverlay_B2ZG",downIcon:"downIcon_hOwl",showcaseCardLink:"showcaseCardLink_iYYT"}},26976:function(e,s,r){r.d(s,{A:()=>a});let a={showcaseFavorite:"showcaseFavorite_HPRp",showcaseList:"showcaseList_Cwj2",filterCheckbox:"filterCheckbox_Uhtk",checkboxList:"checkboxList_autc",checkboxListItem:"checkboxListItem_CI1c",activeItem:"activeItem_EpEL",searchContainer:"searchContainer_FQjg",showcaseFavoriteHeader:"showcaseFavoriteHeader_hNPk",svgIconFavoriteXs:"svgIconFavoriteXs_Yxtr",svgIconFavorite:"svgIconFavorite_skrm",onToggleButton:"onToggleButton_ckPE"}},93382:function(e,s,r){r.d(s,{L:()=>i,Y:()=>t});var a=r(43789);let t={favorite:{label:(0,a.T)({message:"\u6536\u85CF"}),description:(0,a.T)({message:"\u6536\u85CF",id:"showcase.tag.favorite.description"}),color:"#e9669e"},write:{label:(0,a.T)({message:"\u5199\u4F5C\u8F85\u52A9"}),description:(0,a.T)({message:"\u5BF9\u6587\u7AE0\u7684\u8BED\u6CD5\u548C\u98CE\u683C\u8FDB\u884C\u6DA6\u8272\uFF0C\u4EE5\u5E2E\u52A9\u4F60\u5B8C\u6210\u5199\u4F5C",id:"showcase.tag.write.description"}),color:"#75581e"},article:{label:(0,a.T)({message:"\u6587\u7AE0/\u62A5\u544A"}),description:(0,a.T)({message:"\u5C0F\u8BF4\u3001\u8BBA\u6587\u3001\u65B0\u95FB\u3001\u5267\u672C\u3001\u62A5\u544A\u7B49\u6709\u4E00\u5B9A\u6837\u5F0F\u7684\u6587\u7AE0",id:"showcase.tag.article.description"}),color:"#dfd545"},code:{label:(0,a.T)({message:"IT/\u7F16\u7A0B"}),description:(0,a.T)({message:"\u867D\u7136\u8BF4\u662F\u7F16\u7A0B\uFF0C\u4F46 ChatGPT \u662F\u6309\u7167\u8981\u6C42\u7ED9\u51FA\u7F16\u7A0B\u6B65\u9AA4\u7684\u5EFA\u8BAE\u6216\u7B80\u5355\u7684\u6837\u4F8B\u4EE3\u7801\uFF0C\u8FD9\u4E9B\u4EE3\u7801\u53EA\u80FD\u4F5C\u4E3A\u6D4B\u8BD5\uFF0C\u4ECD\u7136\u9700\u8981\u7A0B\u5E8F\u5458\u6765\u4FEE\u6539\u3002",id:"showcase.tag.code.description"}),color:"#8c2f00"},ai:{label:(0,a.T)({message:"AI"}),description:(0,a.T)({message:"AI",id:"showcase.tag.ai.description"}),color:"#ff6100"},living:{label:(0,a.T)({message:"\u751F\u6D3B\u8D28\u91CF"}),description:(0,a.T)({message:"\u5065\u8EAB\u3001\u8425\u517B\u3001\u53A8\u5E08\u3001\u5316\u5986\u3001\u9020\u578B",id:"showcase.tag.living.description"}),color:"#cf92e0"},interesting:{label:(0,a.T)({message:"\u8DA3\u5473\u77E5\u8BC6"}),description:(0,a.T)({message:"\u8DA3\u5473\u77E5\u8BC6",id:"showcase.tag.interesting.description"}),color:"#127f82"},life:{label:(0,a.T)({message:"\u81EA\u52A9\u767E\u79D1"}),description:(0,a.T)({message:"\u751F\u6D3B\u77E5\u8BC6/\u81EA\u52A9\u767E\u79D1",id:"showcase.tag.life.description"}),color:"#a44fb7"},social:{label:(0,a.T)({message:"\u5FC3\u7406/\u793E\u4EA4"}),description:(0,a.T)({message:"\u5FC3\u7406/\u793E\u4EA4",id:"showcase.tag.social.description"}),color:"#ee3308"},philosophy:{label:(0,a.T)({message:"\u54F2\u5B66/\u5B97\u6559"}),description:(0,a.T)({message:"\u54F2\u5B66/\u5B97\u6559",id:"showcase.tag.philosophy.description"}),color:"#ffcaa9"},mind:{label:(0,a.T)({message:"\u53D1\u6563\u601D\u7EF4"}),description:(0,a.T)({message:"\u8D28\u7591\u3001\u601D\u8003\u3001\u8054\u60F3\u3001\u5F52\u7EB3",id:"showcase.tag.mind.description"}),color:"#86699e"},pedagogy:{label:(0,a.T)({message:"\u6559\u80B2/\u5B66\u751F"}),description:(0,a.T)({message:"\u4E0E\u5B66\u751F\u6559\u80B2\u76F8\u5173\u7684\u5185\u5BB9",id:"showcase.tag.pedagogy.description"}),color:"#fe0999"},academic:{label:(0,a.T)({message:"\u5B66\u672F/\u6559\u5E08"}),description:(0,a.T)({message:"\u4E0E\u5B66\u672F\u6216\u5B66\u6821\u76F8\u5173\u7684\u4EBA\u548C\u4E8B\u7269",id:"showcase.tag.academic.description"}),color:"#fe6829"},games:{label:(0,a.T)({message:"\u6E38\u620F"}),description:(0,a.T)({message:"\u6E38\u620F",id:"showcase.tag.games.description"}),color:"#574C57"},tool:{label:(0,a.T)({message:"\u5DE5\u5177"}),description:(0,a.T)({message:"\u5DE5\u5177",id:"showcase.tag.tool.description"}),color:"#4267b2"},interpreter:{label:(0,a.T)({message:"\u7EC8\u7AEF/\u89E3\u91CA\u5668"}),description:(0,a.T)({message:"\u7EC8\u7AEF/\u89E3\u91CA\u5668",id:"showcase.tag.interpreter.description"}),color:"#ffa11c"},language:{label:(0,a.T)({message:"\u8BED\u8A00/\u7FFB\u8BD1"}),description:(0,a.T)({message:"\u8BED\u8A00\u751F\u6210\u3001\u8F6C\u6362\u3001\u7FFB\u8BD1\u3001\u8BC6\u522B\u7B49\u591A\u79CD\u5DE5\u5177",id:"showcase.tag.language.description"}),color:"#39ca30"},speech:{label:(0,a.T)({message:"\u8FA9\u8BBA/\u6F14\u8BB2"}),description:(0,a.T)({message:"\u8FA9\u8BBA/\u6F14\u8BB2",id:"showcase.tag.speech.description"}),color:"#9c1d10"},comments:{label:(0,a.T)({message:"\u70B9\u8BC4/\u8BC4\u9274"}),description:(0,a.T)({message:"\u70B9\u8BC4/\u8BC4\u9274",id:"showcase.tag.comments.description"}),color:"#eeef99"},text:{label:(0,a.T)({message:"\u6587\u672C/\u8BCD\u8BED"}),description:(0,a.T)({message:"\u6587\u672C/\u8BCD\u8BED",id:"showcase.tag.text.description"}),color:"#554236"},company:{label:(0,a.T)({message:"\u4F01\u4E1A\u804C\u80FD"}),description:(0,a.T)({message:"\u4E00\u822C\u4F01\u4E1A\u5185\u7684\u5C97\u4F4D",id:"showcase.tag.company.description"}),color:"#124f4e"},seo:{label:(0,a.T)({message:"SEO"}),description:(0,a.T)({message:"\u6587\u672C/\u5173\u952E\u8BCD\u62D3\u5C55\u751F\u6210",id:"showcase.tag.seo.description"}),color:"#BC9F77"},doctor:{label:(0,a.T)({message:"\u533B\u751F"}),description:(0,a.T)({message:"\u533B\u751F",id:"showcase.tag.doctor.description"}),color:"#0e7774"},finance:{label:(0,a.T)({message:"\u91D1\u878D\u987E\u95EE"}),description:(0,a.T)({message:"\u91D1\u878D\u884C\u4E1A\u7684\u5C97\u4F4D",id:"showcase.tag.finance.description"}),color:"#14cfc3"},music:{label:(0,a.T)({message:"\u97F3\u4E50"}),description:(0,a.T)({message:"\u97F3\u4E50",id:"showcase.tag.music.description"}),color:"#5cecdc"},professional:{label:(0,a.T)({message:"\u884C\u4E1A\u987E\u95EE"}),description:(0,a.T)({message:"\u5F8B\u5E08\u3001\u8336\u827A\u5E08\u7B49\u9700\u8981\u4E13\u4E1A\u77E5\u8BC6\u7684\u5C97\u4F4D",id:"showcase.tag.professional.description"}),color:"#ffcfc3"},contribute:{label:(0,a.T)({message:"\u6295\u7A3F"}),description:(0,a.T)({message:"\u6765\u81EA\u5927\u5BB6\u7684\u6295\u7A3F\u4F5C\u54C1\uFF0C\u80FD\u5E2E\u52A9\u6211\u4EEC\u5F00\u62D3\u601D\u8DEF",id:"showcase.tag.contribute.description"}),color:"#cecd21"}},i=Object.keys(t)},7194:function(e,s,r){r.d(s,{Ay:()=>f,Kx:()=>j,aq:()=>A});var a=r(74848),t=r(96540),i=r(69774),o=r(13341),l=r(56347),n=r(43789),c=r(60782),d=r(80520),m=r(76677),h=r(22559),p=r(74922),u=r(26976),g=r(46524);let x="name",A=()=>(0,a.jsx)(c.A,{as:"h2",className:"text--center",children:(0,a.jsx)(n.A,{id:"showcase.usersList.noResult",children:"\uD83D\uDE12 \u627E\u4E0D\u5230\u7ED3\u679C\uFF0C\u8BF7\u7F29\u77ED\u641C\u7D22\u8BCD"})});function j(e="default"){let s=(0,l.zy)(),{i18n:r}=(0,o.A)(),a=r.currentLocale.split("-")[0],[i,n]=(0,t.useState)("OR"),[c,d]=(0,t.useState)([]),[m,h]=(0,t.useState)(null),[u,x]=(0,t.useState)([]),[A,f]=(0,t.useState)([]),{userAuth:y}=(0,t.useContext)(p.c);return(0,t.useEffect)(()=>{let e=new URLSearchParams(s.search),r=e.getAll("tags"),a=e.get("name"),t=e.get("operator")||"OR";d(r),h(a),n(t)},[s.search]),(0,t.useEffect)(()=>{!async function(){if(0===c.length&&!m){x([]),f([]);return}let s=m?m.toLowerCase():"";try{if("default"===e){let e=await (0,g.eg)(c,m,a,i);console.log("\u641C\u7D22\u7ED3\u679C",e),x(e),y&&0===c.length&&Promise.all([y.data.userprompts?(0,g.oO)("userprompts",y.data.userprompts):Promise.resolve([]),y.data.favorites&&y.data.favorites.commLoves?(0,g.oO)("commus",y.data.favorites.commLoves):Promise.resolve([])]).then(([e,r])=>[...e,...r].filter(e=>e.title.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)||e.remark&&e.remark.toLowerCase().includes(s)||e.notes&&e.notes.toLowerCase().includes(s))).then(e=>{f(e)})}else"myfavor"===e?y?.data?.favorites?Promise.resolve().then(async()=>{let e=await (0,g.eg)(c,m,a,i),s=y.data.favorites.loves?e.filter(e=>y.data.favorites.loves.includes(e.id)):[];return(x(s),console.log("\u7528\u6237\u6536\u85CF\u7684\u63D0\u793A\u8BCD",s),y.data.favorites.commLoves)?await (0,g.oO)("commus",y.data.favorites.commLoves):[]}).then(e=>{let r=e.filter(e=>e.title.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)||e.remark&&e.remark.toLowerCase().includes(s)||e.notes&&e.notes.toLowerCase().includes(s));f(r)}):(x([]),f([])):"myprompts"===e&&(y?.data?.userprompts?Promise.resolve().then(async()=>await (0,g.oO)("userprompts",y.data.userprompts)).then(e=>{let r=e.filter(e=>e.title.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)||e.remark&&e.remark.toLowerCase().includes(s)||e.notes&&e.notes.toLowerCase().includes(s));f(r)}):f([]))}catch(e){console.error("Error fetching and filtering prompts:",e),x([]),f([])}}()},[c,m,i,a,e]),{filteredCommus:A,filteredCards:u,isFiltered:c.length>0||null!==m}}let f=function({setShowUserPrompts:e=e=>{},setShowUserFavs:s=e=>{}}){let r=(0,l.W6)(),o=(0,l.zy)(),c=(0,t.useRef)(null),[p,g]=(0,t.useState)(null),A=(0,t.useCallback)(()=>!!i.A.canUseDOM&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),[]);(0,t.useEffect)(()=>{g(new URLSearchParams(o.search).get(x)),!A()&&c.current?.input&&c.current.input.focus()},[o]);let j=(0,t.useCallback)(()=>{let a=new URLSearchParams(o.search);a.delete(x),p&&a.set(x,p),r.push({...o,search:a.toString(),state:function(){if(i.A.canUseDOM)return{scrollTopPosition:window.scrollY,focusedElementId:document.activeElement?.id}}()}),e(!1),s(!1)},[p,o,r]);return(0,t.useEffect)(()=>{""===p&&j()},[p,j]),(0,a.jsx)("div",{className:u.A.searchContainer,children:(0,a.jsx)(d.A,{ref:c,id:"searchbar",placeholder:(0,n.T)({message:"Search for prompts...",id:"showcase.searchBar.placeholder"}),value:p??void 0,onChange:e=>{g(e.target.value)},onPressEnter:j,allowClear:!0,autoFocus:!A(),suffix:(0,a.jsx)(m.Ay,{icon:(0,a.jsx)(h.A,{}),onClick:j,type:"primary"})})})}},84829:function(e,s,r){r.d(s,{A:()=>N,Y:()=>F});var a=r(74848),t=r(96540),i=r(39836),o=r(85332),l=r(29312),n=r(48284),c=r(76677),d=r(12801),m=r(43789),h=r(68702),p=r(83622),u=r(93861),g=r(78557),x=r(91436),A=r(10268),j=r(70625),f=r(93382),y=r(62360),w=r(66552),C=r(46524),v=r(74922),b=r(13341),k=r(42993);let T=t.forwardRef(({label:e,color:s,description:r},t)=>(0,a.jsxs)("li",{ref:t,className:w.A.tag,title:r,children:[(0,a.jsx)("span",{className:w.A.textLabel,children:e.toLowerCase()}),(0,a.jsx)("span",{className:w.A.colorLabel,style:{backgroundColor:s}})]})),F=({tags:e})=>{let s=(e||[]).map(e=>({tag:e,...f.Y[e]})),r=(0,y.U)(s,e=>f.L.indexOf(e.tag));return(0,a.jsx)(a.Fragment,{children:r.map((e,s)=>(0,a.jsx)(o.A,{title:e.description,id:`showcase_card_tag_${e.tag}`,children:(0,a.jsx)(T,{...e},s)},s))})},N=t.memo(({user:e,isDescription:s,copyCount:r})=>{let{userAuth:f,refreshUserAuth:y}=(0,t.useContext)(v.c),{i18n:T}=(0,b.A)(),N=T.currentLocale.split("-")[0],L=(0,t.useMemo)(()=>({title:e[N].title,remark:e[N].remark,prompt:e[N].prompt,description:e[N].description}),[e,N]),S="en"!==N&&L.description!==L.prompt,[I,_]=(0,t.useState)(!1),[E,P]=(0,t.useState)(!1),{copied:O,updateCopy:B}=(0,h.C)(),[D,M]=(0,t.useState)(()=>S?s?L.prompt:L.description:L.prompt);(0,t.useEffect)(()=>{_(f?.data?.favorites?.loves?.includes(e.id)||!1)},[f]),(0,t.useEffect)(()=>{M(s?L.prompt:L.description),P(!1)},[s,L.prompt,L.description]);let R=(0,t.useCallback)(()=>{S&&M(e=>e===L.prompt?L.description:L.prompt)},[S,L.prompt,L.description]),q=S?D:L.prompt,H=(0,t.useCallback)(()=>{B(L.prompt,e.id)},[B,L.prompt,e.id]),U=(0,t.useCallback)(()=>{P(e=>!e)},[]),z=(0,t.useCallback)(async()=>{try{let s,r;if(f?.data?.favorites)s=f.data.favorites.loves||[],r=f.data.favorites.id,s.push(e.id);else{let a=await (0,C.vN)([e.id]);s=[e.id],r=a.data.id}l.Ay.success("Added to favorites successfully!"),await (0,C.O)(r,s),(0,C.oO)("cards",s,N),y()}catch(e){console.error(e)}},[f?.data?.favorites,e.id,N,y]),$=(0,t.useCallback)(async()=>{try{let s=f.data.favorites.loves||[],r=f.data.favorites.id,a=s.indexOf(e.id);a>-1&&(s.splice(a,1),l.Ay.success("Removed from favorites successfully!")),await (0,C.O)(r,s),y()}catch(e){console.error(e)}},[f,e.id,y]);return(0,a.jsxs)("li",{className:"card shadow--md",children:[(0,a.jsxs)("div",{className:(0,i.A)("card__body"),children:[(0,a.jsxs)("div",{className:(0,i.A)(w.A.showcaseCardHeader),children:[(0,a.jsxs)("div",{className:w.A.showcaseCardTitle,children:[(0,a.jsxs)(d.A,{href:`/prompt/${e.id}`,className:w.A.showcaseCardLink,children:[L.title," "]}),(0,a.jsx)("span",{className:w.A.showcaseCardBody,children:r>0&&`\u{1F525}${(0,k.B4)(r)}`})]}),(0,a.jsxs)(n.A.Compact,{children:[f&&(0,a.jsx)(o.A,{title:I?(0,a.jsx)(m.A,{children:"\u70B9\u51FB\u79FB\u9664\u6536\u85CF"}):(0,m.T)({message:"\u6536\u85CF"}),children:(0,a.jsx)(c.Ay,{onClick:I?$:z,children:I?(0,a.jsx)(p.A,{twoToneColor:"#eb2f96"}):(0,a.jsx)(u.A,{})})}),!f&&e.tags?.includes("favorite")&&(0,a.jsx)(c.Ay,{type:"text",disabled:!0,children:(0,a.jsx)(p.A,{twoToneColor:"#eb2f96"})}),(0,a.jsx)(o.A,{title:(0,m.T)({id:"theme.CodeBlock.copy",message:"\u590D\u5236"}),children:(0,a.jsx)(c.Ay,{onClick:H,children:O?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.A,{})," ",(0,a.jsx)(m.A,{id:"theme.CodeBlock.copied",children:"\u5DF2\u590D\u5236"})]}):(0,a.jsx)(x.A,{})})})]})]}),(0,a.jsxs)("p",{className:w.A.showcaseCardBody,style:{maxHeight:68},children:["\uD83D\uDC49 ",L.remark]}),(0,a.jsxs)("div",{className:w.A.descriptionWrapper,children:[(0,a.jsx)("p",{onClick:S?R:void 0,className:(0,i.A)(w.A.showcaseCardBody,{[w.A.clickable]:S}),children:E?q:(0,k.xv)(q)}),!E&&q.length>k.E2&&(0,a.jsx)("div",{className:w.A.gradientOverlay,children:(0,a.jsx)(o.A,{title:(0,a.jsx)(m.A,{children:"\u52A0\u8F7D\u66F4\u591A"}),children:(0,a.jsx)(A.A,{onClick:U,className:w.A.downIcon})})})]})]}),(0,a.jsxs)("ul",{className:(0,i.A)("card__footer",w.A.cardFooter),style:{listStyle:"none"},children:[(0,a.jsx)(F,{tags:e.tags}),e.website&&(0,a.jsx)("li",{style:{marginLeft:"auto"},children:(0,a.jsx)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)(j.A,{})})})]})]},L.title)})},26100:function(e,s,r){r.d(s,{A:()=>_});var a=r(74848),t=r(96540),i=r(39836),o=r(68702),l=r(43789),n=r(12801),c=r(13341),d=r(84829),m=r(66552),h=r(26976),p=r(48284),u=r(85332),g=r(76677),x=r(29312),A=r(76077),j=r(83622),f=r(78557),y=r(91436),w=r(10268),C=r(70625),v=r(36450),b=r(43627),k=r(74979),T=r(46524),F=r(74922),N=r(42993),L=r(2404),S=r.n(L);let I=({item:e,isCard:s,currentLanguage:r,isFiltered:c,removeBookmark:h})=>{let{attributes:x,listeners:A,setNodeRef:v,transform:T,transition:F}=(0,b.gl)({id:e.id}),{copied:L,copyText:S,updateCopy:I}=(0,o.C)(),[_,E]=(0,t.useState)(!1),[P,O]=(0,t.useState)(s?e[r].prompt:e.description),B=s&&"en"!==r&&e[r].description!==e[r].prompt,D=(0,N.Nl)(e),M=()=>{E(!_)},R=()=>{s?B&&O(s=>s===e[r].prompt?e[r].description:e[r].prompt):e.notes&&O(s=>s===e.description?e.notes:e.description)},q={transform:k.Ks.Transform.toString(T),transition:F,cursor:c?"default":"grab"};return(0,a.jsxs)("li",{ref:v,className:"card shadow--md",style:q,children:[(0,a.jsxs)("div",{className:(0,i.A)("card__body"),style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:(0,i.A)(m.A.showcaseCardHeader),children:[(0,a.jsx)("div",{className:`${m.A.showcaseCardTitle} ${m.A.shortEllipsis}`,...x,...c?{}:A,children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.A,{href:"/prompt/"+e.id,className:m.A.showcaseCardLink,children:[e[r].title," "]}),(0,a.jsx)("span",{className:m.A.showcaseCardBody,children:D>0&&`\u{1F525}${(0,N.B4)(D)}`})]}):(0,a.jsxs)("span",{className:m.A.showcaseCardLink,children:[e.title," "]})}),(0,a.jsxs)(p.A.Compact,{children:[(0,a.jsx)(u.A,{title:(0,a.jsx)(l.A,{children:"\u70B9\u51FB\u79FB\u9664\u6536\u85CF"}),children:(0,a.jsx)(g.Ay,{onClick:()=>h(e.id,!s),children:(0,a.jsx)(j.A,{twoToneColor:"#eb2f96"})})}),(0,a.jsx)(u.A,{title:(0,l.T)({id:"theme.CodeBlock.copy",message:"\u590D\u5236"}),children:(0,a.jsx)(g.Ay,{onClick:()=>{s?I(e[r].prompt,e.id):S(e.description)},children:L?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.A,{})," ",(0,a.jsx)(l.A,{id:"theme.CodeBlock.copied",children:"\u5DF2\u590D\u5236"})]}):(0,a.jsx)(y.A,{})})})]})]}),s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:m.A.showcaseCardBody,style:{maxHeight:68},...x,...c?{}:A,children:["\uD83D\uDC49 ",e[r].remark]}),(0,a.jsxs)("div",{className:m.A.descriptionWrapper,children:[(0,a.jsx)("p",{onClick:B?R:void 0,className:(0,i.A)(m.A.showcaseCardBody,{[m.A.clickable]:B}),children:_?P:(0,N.xv)(P)}),!_&&P.length>N.E2&&(0,a.jsx)("div",{className:m.A.gradientOverlay,children:(0,a.jsx)(u.A,{title:(0,a.jsx)(l.A,{children:"\u52A0\u8F7D\u66F4\u591A"}),children:(0,a.jsx)(w.A,{onClick:M,className:m.A.downIcon})})})]})]}):(0,a.jsxs)(a.Fragment,{children:[e.remark&&(0,a.jsxs)("p",{className:m.A.showcaseCardBody,style:{maxHeight:68},...x,...c?{}:A,children:["\uD83D\uDC49 ",e.remark]}),(0,a.jsxs)("div",{className:m.A.descriptionWrapper,children:[(0,a.jsx)("p",{onClick:R,className:`${m.A.showcaseCardBody} ${e.notes?m.A.clickable:m.A.nonClickable}`,children:_?P:(0,N.xv)(P)}),!_&&P.length>N.E2&&(0,a.jsx)("div",{className:m.A.gradientOverlay,children:(0,a.jsx)(u.A,{title:(0,a.jsx)(l.A,{children:"\u52A0\u8F7D\u66F4\u591A"}),children:(0,a.jsx)(w.A,{onClick:M,className:m.A.downIcon})})})]})]})]}),!s&&(0,a.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},...x,...c?{}:A,children:(0,a.jsxs)("span",{style:{fontSize:"12px",color:"#999",marginLeft:"6px"},children:["@",e.owner]})})]}),s&&(0,a.jsxs)("ul",{className:(0,i.A)("card__footer",m.A.cardFooter),style:{listStyle:"none"},children:[(0,a.jsx)(d.Y,{tags:e.tags}),e.website&&(0,a.jsx)("li",{style:{marginLeft:"auto"},children:(0,a.jsx)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)(C.A,{})})})]})]})},_=t.memo(function({filteredCommus:e=[],filteredCards:s=[],isFiltered:r=!1}){let{userAuth:o,refreshUserAuth:l}=(0,t.useContext)(F.c),[n,d]=x.Ay.useMessage(),{i18n:m}=(0,c.A)(),p=m.currentLocale.split("-")[0],[u,g]=(0,t.useState)([]),[j,f]=(0,t.useState)([]),[y,w]=(0,t.useState)(!1),[C,k]=(0,t.useState)(null),N=(0,v.FR)((0,v.MS)(v.AN),(0,v.MS)(v.uN,{coordinateGetter:b.JR}));(0,t.useEffect)(()=>{if(!o?.data)return;let a=o.data?.favorites?.loves||[],t=o.data?.favorites?.commLoves||[];(async()=>{try{if(r)f(e),g(s);else{let e=await (0,T.oO)("cards",a,p);g(e);let s=await (0,T.oO)("commus",t);f(s)}}catch(e){console.error(e)}})()},[o,p,r,e,s]);let L=(0,t.useCallback)(async(e,s=!1)=>{try{let r=s?o.data.favorites.commLoves||[]:o.data.favorites.loves||[],a=o.data.favorites.id,t=r.indexOf(e);t>-1&&(r.splice(t,1),n.open({type:"success",content:"Removed from favorites successfully!"})),s&&localStorage.removeItem(`commus_${e}`),await (0,T.O)(a,r,s),l()}catch(e){console.error(e)}},[o,l]);return((0,t.useEffect)(()=>{if(y){let e=j.map(e=>e.id),s=u.map(e=>e.id);(0,T.Pi)("commLoves",e),(0,T.Pi)("loves",s),(0,T.uz)("favorites.commLoves",e),(0,T.uz)("favorites.loves",s),w(!1)}},[j,u]),o?.data)?(0,a.jsxs)(a.Fragment,{children:[d,u?.length||j?.length?(0,a.jsx)(v.Mp,{sensors:N,collisionDetection:v.fp,onDragStart:e=>{k(e.active.id)},onDragEnd:e=>{let{active:s,over:r}=e;r&&(s.id!==r.id&&(w(!0),j.some(e=>e.id===s.id)?f(e=>{let a=e.findIndex(e=>e.id===s.id),t=e.findIndex(e=>e.id===r.id);return(0,b.be)(e,a,t)}):g(e=>{let a=e.findIndex(e=>e.id===s.id),t=e.findIndex(e=>e.id===r.id);return(0,b.be)(e,a,t)})),k(null))},children:(0,a.jsxs)("ul",{className:(0,i.A)("clean-list",h.A.showcaseList),children:[j?.length>0&&(0,a.jsx)(b.gB,{items:j.map(e=>e.id),children:j.map(e=>(0,a.jsx)(I,{item:e,isCard:!1,currentLanguage:p,isFiltered:r,removeBookmark:L},e.id))}),u?.length>0&&(0,a.jsx)(b.gB,{items:u.map(e=>e.id),children:u.map(e=>(0,a.jsx)(I,{item:e,isCard:!0,currentLanguage:p,isFiltered:r,removeBookmark:L},e.id))})]})}):(0,a.jsx)("ul",{className:(0,i.A)("clean-list",h.A.showcaseList),children:(0,a.jsx)("li",{className:"card shadow--md",children:(0,a.jsx)("div",{className:(0,i.A)("card__body"),children:(0,a.jsx)("p",{children:"You haven't favorited any prompts yet."})})})})]}):(0,a.jsx)(A.A,{})},function(e,s){return e.isFiltered===s.isFiltered&&S()(e.filteredCommus,s.filteredCommus)&&S()(e.filteredCards,s.filteredCards)})},93715:function(e,s,r){r.d(s,{A:()=>B});var a=r(74848),t=r(96540),i=r(39836),o=r(43789),l=r(68702),n=r(86248),c=r(85332),d=r(76677),m=r(29312),h=r(25002),p=r(15437),u=r(76077),g=r(80520),x=r(67639),A=r(56523),j=r(23219),f=r(78557),y=r(91436),w=r(10268),C=r(82311),v=r(91213),b=r(39108),k=r(36450),T=r(43627),F=r(74979),N=r(66552),L=r(26976),S=r(42993),I=r(2404),_=r.n(I),E=r(46524),P=r(74922);let O=({UserPrompt:e,isFiltered:s,handleDeletePrompt:r,handleEditPrompt:m})=>{let{attributes:h,listeners:p,setNodeRef:u,transform:g,transition:x}=(0,T.gl)({id:e.id}),[A,b]=(0,t.useState)(!1),[k,L]=(0,t.useState)(e.description),{copied:I,copyText:_}=(0,l.C)(),E=k||e.description,P={transform:F.Ks.Transform.toString(g),transition:x,cursor:s?"default":"grab"};return(0,a.jsx)("li",{ref:u,className:"card shadow--md",style:P,children:(0,a.jsxs)("div",{className:(0,i.A)("card__body"),style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:(0,i.A)(N.A.showcaseCardHeader),children:[(0,a.jsxs)("div",{className:`${N.A.showcaseCardTitle} ${N.A.shortEllipsisMy}`,...h,...s?{}:p,children:[(0,a.jsxs)("span",{className:N.A.showcaseCardLink,style:{color:"var(--ifm-color-primary)"},children:[e.title," "]}),e.upvoteDifference>0&&(0,a.jsxs)(n.A,{color:"green",children:["+",e.upvoteDifference]}),!1===e.share&&(0,a.jsx)(n.A,{color:"blue",icon:(0,a.jsx)(j.A,{})})]}),(0,a.jsx)(c.A,{title:(0,o.T)({id:"theme.CodeBlock.copy",message:"\u590D\u5236"}),children:(0,a.jsx)(d.Ay,{onClick:()=>_(e.description),children:I?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.A,{})," ",(0,a.jsx)(o.A,{id:"theme.CodeBlock.copied",children:"\u5DF2\u590D\u5236"})]}):(0,a.jsx)(y.A,{})})})]}),e.remark&&(0,a.jsxs)("p",{className:N.A.showcaseCardBody,style:{maxHeight:68},...h,...s?{}:p,children:["\uD83D\uDC49 ",e.remark]}),(0,a.jsxs)("div",{className:N.A.descriptionWrapper,children:[(0,a.jsx)("p",{onClick:()=>{e.notes&&L(k===e.description?e.notes:e.description)},className:`${N.A.showcaseCardBody} ${e.notes?N.A.clickable:N.A.nonClickable}`,children:A?E:(0,S.xv)(E)}),!A&&E.length>S.E2&&(0,a.jsx)("div",{className:N.A.gradientOverlay,children:(0,a.jsx)(c.A,{title:(0,a.jsx)(o.A,{children:"\u52A0\u8F7D\u66F4\u591A"}),children:(0,a.jsx)(w.A,{onClick:()=>{b(!A)},className:N.A.downIcon})})})]})]}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},className:N.A.nonClickable,children:[(0,a.jsx)(d.Ay,{icon:(0,a.jsx)(C.A,{}),onClick:()=>r(e.id),children:(0,a.jsx)(o.A,{id:"delete",children:"\u5220\u9664"})}),(0,a.jsx)(d.Ay,{icon:(0,a.jsx)(v.A,{}),onClick:()=>m(e),children:(0,a.jsx)(o.A,{id:"edit",children:"\u4FEE\u6539"})})]})]})})},B=t.memo(function({filteredCommus:e=[],isFiltered:s=!1}){let{userAuth:r,refreshUserAuth:l}=(0,t.useContext)(P.c),[n,c]=m.Ay.useMessage(),[j,y]=(0,t.useState)([]),[w,C]=(0,t.useState)(!1),[v,F]=(0,t.useState)(!1),[S,I]=(0,t.useState)(!1),[_,B]=(0,t.useState)(null),[D]=h.A.useForm(),M=(0,k.FR)((0,k.MS)(k.AN),(0,k.MS)(k.uN,{coordinateGetter:T.JR}));(0,t.useEffect)(()=>{if(!r?.data)return;let a=!0;return(async()=>{C(!0);try{if(s)y(e);else{let e=r.data?.userprompts||[],s=await (0,E.oO)("userprompts",e);a&&y(s)}}catch(e){console.error("Failed to fetch prompts:",e),a&&n.error((0,o.T)({id:"message.fetchError",message:"\u83B7\u53D6\u63D0\u793A\u8BCD\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"}))}finally{a&&C(!1)}})(),()=>{a=!1}},[r,s,e]);let R=(0,t.useCallback)(e=>{B(e.id),D.setFieldsValue(e),I(!0)},[D]),q=(0,t.useCallback)(async e=>{C(!0);try{await (0,E.qj)(_,e),l(),n.success((0,o.T)({id:"message.success",message:"\u8BCD\u6761\u63D0\u4EA4\u6210\u529F\uFF01"})),I(!1),D.resetFields()}catch(e){console.error(e),(0,E.Em)(),l(),n.error((0,o.T)({id:"message.error",message:"\u8BCD\u6761\u63D0\u4EA4\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"})),I(!1)}finally{C(!1)}},[_,l,D]),H=(0,t.useCallback)(e=>{p.A.confirm({title:(0,a.jsx)(o.A,{id:"message.deletePrompt.confirm.title",children:"Confirm Delete"}),content:(0,a.jsx)(o.A,{id:"message.deletePrompt.confirm.content",children:"Are you sure you want to delete this prompt?"}),onOk:async()=>{C(!0);try{await (0,E.Ir)(e),l(),n.success((0,o.T)({id:"message.deletePrompt.success",message:"Prompt successfully deleted!"}))}catch(e){console.error(e),(0,E.Em)(),l(),n.error((0,o.T)({id:"message.deletePrompt.error",message:"Failed to delete prompt, please try again later."}))}finally{C(!1)}}})},[l]),U=(0,t.useCallback)(e=>{let{active:s,over:r}=e;s.id!==r?.id&&(F(!0),y(e=>{let a=e.findIndex(e=>e.id===s.id),t=e.findIndex(e=>e.id===r.id);return(0,T.be)(e,a,t)}))},[]);return((0,t.useEffect)(()=>{if(v&&j.length>0){let e=j.map(e=>e.id),s=e.map(e=>({id:e}));(0,E.uz)("userprompts",s),(0,E.dY)(e),F(!1)}},[j,v]),r?.data)?(0,a.jsxs)(a.Fragment,{children:[c,w?(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:"2rem"},children:(0,a.jsx)(u.A,{})}):(0,a.jsx)(k.Mp,{sensors:M,collisionDetection:k.fp,onDragEnd:U,children:(0,a.jsx)("ul",{className:(0,i.A)("clean-list",L.A.showcaseList),children:j&&0!==j.length?(0,a.jsx)(T.gB,{items:j.map(e=>e.id),children:j.map(e=>(0,a.jsx)(O,{UserPrompt:e,isFiltered:s,handleDeletePrompt:H,handleEditPrompt:R},e.id))}):(0,a.jsx)("li",{className:"card shadow--md",children:(0,a.jsx)("div",{className:(0,i.A)("card__body",N.A.cardBodyHeight),children:(0,a.jsx)("p",{children:(0,a.jsx)(o.A,{id:"message.noPrompts",children:"\u5C1A\u672A\u63D0\u4EA4\u4EFB\u4F55\u63D0\u793A\u8BCD\uFF0C\u8BF7\u6DFB\u52A0\u63D0\u793A\u8BCD\u3002"})})})})})}),(0,a.jsx)(p.A,{title:(0,o.T)({id:"modal.updateprompt.title",message:"\u66F4\u65B0\u5F53\u524D Prompt"}),open:S,footer:null,maskClosable:!1,onCancel:()=>{I(!1),D.resetFields()},children:(0,a.jsxs)(h.A,{form:D,onFinish:q,children:[(0,a.jsx)(h.A.Item,{name:"title",rules:[{required:!0,message:(0,o.T)({id:"message.addprompt.requiredTitle",message:"\u8BF7\u8F93\u5165\u63D0\u793A\u8BCD\u6807\u9898\uFF01"})}],children:(0,a.jsx)(g.A,{placeholder:(0,o.T)({id:"input.addprompt.title",message:"\u63D0\u793A\u8BCD\u540D\u79F0"})})}),(0,a.jsx)(h.A.Item,{name:"description",rules:[{required:!0,message:(0,o.T)({id:"message.addprompt.requiredDescription",message:"\u8BF7\u8F93\u5165\u63D0\u793A\u8BCD\u5185\u5BB9\uFF01"})}],children:(0,a.jsx)(g.A.TextArea,{placeholder:(0,o.T)({id:"input.addprompt.description",message:"\u63D0\u793A\u8BCD\u5185\u5BB9"}),rows:4})}),(0,a.jsx)(h.A.Item,{name:"remark",children:(0,a.jsx)(g.A,{placeholder:(0,o.T)({id:"input.addprompt.remark",message:"\u63D0\u793A\u8BCD\u4F5C\u7528\uFF08\u975E\u5FC5\u586B\uFF09"})})}),(0,a.jsx)(h.A.Item,{name:"notes",children:(0,a.jsx)(g.A.TextArea,{placeholder:(0,o.T)({id:"input.addprompt.notes",message:"\u5907\u6CE8\uFF08\u975E\u5FC5\u586B\uFF09\uFF1A\u60A8\u53EF\u4EE5\u5728\u6B64\u63D0\u4F9B\u63D0\u793A\u8BCD\u7684\u6765\u6E90\u8BF4\u660E\uFF0C\u4EE5\u53CA\u8BE5\u63D0\u793A\u8BCD\u7684\u5176\u4ED6\u8BED\u8A00\u7248\u672C\u3002\u6B64\u5916\uFF0C\u5982\u679C\u60A8\u6709\u4EFB\u4F55\u5173\u4E8E\u8BE5\u63D0\u793A\u8BCD\u7684\u62D3\u5C55\u60F3\u6CD5\u548C\u9700\u6C42\uFF0C\u8BF7\u5728\u6B64\u8FDB\u884C\u8BF4\u660E\u3002"}),rows:3})}),(0,a.jsx)(h.A.Item,{name:"share",valuePropName:"checked",children:(0,a.jsxs)("div",{children:[S&&(0,a.jsx)(x.A,{defaultChecked:D.getFieldValue("share"),onChange:e=>{D.setFieldsValue({share:e})},checkedChildren:(0,a.jsx)(f.A,{}),unCheckedChildren:(0,a.jsx)(b.A,{})}),(0,a.jsxs)(A.A.Text,{type:"secondary",children:[" ",(0,a.jsx)(o.A,{id:"message.addprompt.submission",children:"\u60A8\u662F\u5426\u613F\u610F\u5C06\u8BE5\u63D0\u793A\u8BCD\u5206\u4EAB\u5230\u516C\u5F00\u9875\u9762\uFF1F"})]})]})}),(0,a.jsx)(h.A.Item,{children:(0,a.jsx)(d.Ay,{type:"primary",htmlType:"submit",loading:w,children:(0,a.jsx)(o.A,{id:"button.updateprompt",children:"\u66F4\u65B0 Prompt"})})})]})})]}):(0,a.jsx)(u.A,{})},function(e,s){return e.isFiltered===s.isFiltered&&_()(e.filteredCommus,s.filteredCommus)})},38378:function(e,s,r){r.d(s,{A:()=>N});var a=r(74848),t=r(96540),i=r(69774),o=r(12801),l=r(25002),n=r(15437),c=r(80520),d=r(67639),m=r(56523),h=r(76677),p=r(29312),u=r(48284),g=r(85332),x=r(76077),A=r(56650),j=r(93861),f=r(91213),y=r(53045),w=r(27922),C=r(22017),v=r(92396),b=r(43789),k=r(46524),T=r(74922);let F=({open:e,setOpen:s,onFinish:r,loading:i})=>{let[o]=l.A.useForm(),p=t.useCallback(e=>{r(e,o)},[r,o]);return(0,a.jsx)(n.A,{title:(0,b.T)({id:"modal.addprompt.title",message:"\u6DFB\u52A0 Prompt\uFF08\u672C\u5185\u5BB9\u5C06\u51FA\u73B0\u5728\u300C\u6211\u7684\u63D0\u793A\u8BCD\u300D\u6807\u7B7E\u4E2D\uFF09"}),open:e,footer:null,maskClosable:!1,closable:!i,destroyOnHidden:!0,onCancel:()=>!i&&s(!1),children:(0,a.jsxs)(l.A,{form:o,onFinish:p,initialValues:{share:!0},children:[(0,a.jsx)(l.A.Item,{name:"title",rules:[{required:!0,message:(0,b.T)({id:"message.addprompt.requiredTitle",message:"\u8BF7\u8F93\u5165\u63D0\u793A\u8BCD\u6807\u9898\uFF01"})}],children:(0,a.jsx)(c.A,{placeholder:(0,b.T)({id:"input.addprompt.title",message:"\u63D0\u793A\u8BCD\u540D\u79F0"})})}),(0,a.jsx)(l.A.Item,{name:"description",rules:[{required:!0,message:(0,b.T)({id:"message.addprompt.requiredDescription",message:"\u8BF7\u8F93\u5165\u63D0\u793A\u8BCD\u5185\u5BB9\uFF01"})}],children:(0,a.jsx)(c.A.TextArea,{placeholder:(0,b.T)({id:"input.addprompt.description",message:"\u63D0\u793A\u8BCD\u5185\u5BB9"}),rows:6,maxLength:2e3,showCount:!0})}),(0,a.jsx)(l.A.Item,{name:"remark",children:(0,a.jsx)(c.A,{placeholder:(0,b.T)({id:"input.addprompt.remark",message:"\u63D0\u793A\u8BCD\u4F5C\u7528\uFF08\u975E\u5FC5\u586B\uFF09"})})}),(0,a.jsx)(l.A.Item,{name:"notes",children:(0,a.jsx)(c.A.TextArea,{placeholder:(0,b.T)({id:"input.addprompt.notes",message:"\u5907\u6CE8\uFF08\u975E\u5FC5\u586B\uFF09\uFF1A\u60A8\u53EF\u4EE5\u5728\u6B64\u63D0\u4F9B\u63D0\u793A\u8BCD\u7684\u6765\u6E90\u8BF4\u660E\uFF0C\u4EE5\u53CA\u8BE5\u63D0\u793A\u8BCD\u7684\u5176\u4ED6\u8BED\u8A00\u7248\u672C\u3002\u6B64\u5916\uFF0C\u5982\u679C\u60A8\u6709\u4EFB\u4F55\u5173\u4E8E\u8BE5\u63D0\u793A\u8BCD\u7684\u62D3\u5C55\u60F3\u6CD5\u548C\u9700\u6C42\uFF0C\u8BF7\u5728\u6B64\u8FDB\u884C\u8BF4\u660E\u3002"}),rows:4})}),(0,a.jsx)(l.A.Item,{name:"share",valuePropName:"checked",children:(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(d.A,{defaultChecked:!0,onChange:e=>{o.setFieldsValue({share:e})},checkedChildren:(0,b.T)({id:"input.addprompt.share.checked",message:"\u662F"}),unCheckedChildren:(0,b.T)({id:"input.addprompt.share.unchecked",message:"\u5426"})}),(0,a.jsx)(m.A.Text,{type:"secondary",style:{marginLeft:8},children:(0,a.jsx)(b.A,{id:"message.addprompt.submission",children:"\u60A8\u662F\u5426\u613F\u610F\u5C06\u8BE5\u63D0\u793A\u8BCD\u5206\u4EAB\u5230\u516C\u5F00\u9875\u9762\uFF1F"})})]})}),(0,a.jsx)(h.Ay,{htmlType:"submit",type:"primary",loading:i,block:!0,children:(0,a.jsx)(b.A,{id:"button.addPrompt",children:"\u6DFB\u52A0 Prompt"})})]})})},N=t.memo(({hideLinks:e={userCenter:!1,myFavorite:!1}})=>{let{userAuth:s,setUserAuth:r,refreshUserAuth:l,isLoading:c}=(0,t.useContext)(T.c),[d,m]=(0,t.useState)(!1),[N,L]=(0,t.useState)(!1),[S,I]=p.Ay.useMessage(),_=(0,t.useCallback)(async()=>{await (0,k.Em)(),l(),S.success((0,a.jsx)(b.A,{id:"message.cache.cleared",children:"\u7F13\u5B58\u5DF2\u6E05\u9664"}))},[l,S]),E=(0,t.useCallback)(async(e,s)=>{L(!0);try{await (0,k.vA)(e),l(),S.success((0,a.jsx)(b.A,{id:"message.success",children:"\u8BCD\u6761\u63D0\u4EA4\u6210\u529F\uFF01"})),S.success((0,a.jsx)(b.A,{id:"message.success1",children:"\u70B9\u51FB\u6807\u7B7E\u300C\u6211\u7684\u63D0\u793A\u8BCD\u300D\u67E5\u770B\u5DF2\u6DFB\u52A0\u7684\u81EA\u5B9A\u4E49\u63D0\u793A\u8BCD\u3002"})),s.resetFields(),m(!1)}catch(e){console.error(e),S.error((0,a.jsx)(b.A,{id:"message.error",children:"\u8BCD\u6761\u63D0\u4EA4\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"}))}finally{L(!1)}},[l,S]),P=(0,t.useCallback)(async()=>{i.A.canUseDOM&&(localStorage.removeItem("auth_token"),localStorage.removeItem("userAllInfo"),localStorage.removeItem("userAllInfoCacheExpiration")),r(null),window.location.reload()},[r]),O=(0,t.useMemo)(()=>(0,a.jsxs)(u.A,{wrap:!0,size:"middle",children:[!e.userCenter&&(0,a.jsxs)(o.A,{to:"/user",className:"button button--primary",children:[(0,a.jsx)(A.A,{})," ",(0,a.jsx)(b.A,{id:"link.myaccount",children:"\u8D26\u53F7\u8BBE\u7F6E"})]}),!e.myFavorite&&(0,a.jsxs)(o.A,{to:"/user/favorite",className:"button button--primary hideOnSmallScreen",children:[(0,a.jsx)(j.A,{})," ",(0,a.jsx)(b.A,{id:"link.user",children:"\u4E2A\u4EBA\u4E2D\u5FC3"})]}),(0,a.jsxs)("a",{className:"button button--primary",onClick:()=>m(!0),children:[(0,a.jsx)(f.A,{})," ",(0,a.jsx)(b.A,{id:"link.addprompt",children:"\u6DFB\u52A0\u63D0\u793A\u8BCD"})]}),(0,a.jsx)(g.A,{title:(0,a.jsx)(b.A,{id:"tooltip.clearCache",children:"\u82E5\u60A8\u5728\u5176\u4ED6\u8BBE\u5907\u66F4\u65B0\u4E86\u6536\u85CF\u6216\u63D0\u793A\u8BCD\uFF0C\u70B9\u51FB\u6E05\u9664\u7F13\u5B58\u4EE5\u540C\u6B65\u6700\u65B0\u5185\u5BB9\u3002"}),children:(0,a.jsx)(h.Ay,{icon:(0,a.jsx)(y.A,{}),onClick:_,style:{color:"gray"},children:(0,a.jsx)("span",{className:"hideOnSmallScreen",children:(0,a.jsx)(b.A,{id:"button.clearCache",children:"\u6E05\u9664\u7F13\u5B58"})})})}),(0,a.jsx)(h.Ay,{icon:(0,a.jsx)(w.A,{}),onClick:()=>{n.A.confirm({title:"Confirm Logout",content:"Click OK to log out.",onOk:P})},style:{color:"gray"},children:(0,a.jsx)("span",{className:"hideOnSmallScreen",children:(0,a.jsx)(b.A,{id:"button.logout",children:"\u9000\u51FA\u767B\u5F55"})})})]}),[e,_,P]),B=(0,t.useMemo)(()=>(0,a.jsxs)(u.A,{wrap:!0,size:"middle",children:[(0,a.jsx)("button",{className:"button button--primary",onClick:()=>m(!0),children:(0,a.jsx)(b.A,{id:"button.login",children:"\u767B\u5F55"})}),(0,a.jsxs)(o.A,{to:"/community-prompts",className:"button button--primary",children:[(0,a.jsx)(C.A,{})," ",(0,a.jsx)(b.A,{id:"showcase.header.button",children:"\u5206\u4EAB\u4F60\u7684\u63D0\u793A\u8BCD"})]})]}),[]);return c?(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50px"},children:(0,a.jsx)(x.A,{size:"small"})}):(0,a.jsxs)(a.Fragment,{children:[I,s?(0,a.jsxs)(a.Fragment,{children:[O,(0,a.jsx)(F,{open:d,setOpen:m,onFinish:E,loading:N})]}):(0,a.jsxs)(a.Fragment,{children:[B,(0,a.jsx)(n.A,{open:d,footer:null,onCancel:()=>m(!1),children:(0,a.jsx)(v.A,{})})]})]})})},92396:function(e,s,r){r.d(s,{A:()=>F});var a=r(74848),t=r(96540),i=r(56523),o=r(29312),l=r(25002),n=r(75974),c=r(80520),d=r(76677),m=r(48284),h=r(37029),p=r(22029),u=r(28249),g=r(66563),x=r(56650),A=r(23219),j=r(38725),f=r(43789),y=r(69774),w=r(46524),C=r(61162);async function v(){try{return(await C.A.get("https://api.newzone.top/strapi-google-auth/init")).data.url}catch(e){throw console.error("Error fetching Google authentication URL:",e),e}}async function b(e){try{return(await C.A.post("https://gauth.aishort.top/strapi-google-auth/user-profile",{code:e},{timeout:3e4})).data.data}catch(e){if(console.error("Error authenticating user with Google:",e),"ECONNABORTED"===e.code)throw Error("Request timed out. Please try again.");throw e}}y.A.canUseDOM&&localStorage.getItem("auth_token");let{Title:k}=i.A,T={username:[{required:!0,message:(0,f.T)({id:"input.rules.username",message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D\u6216\u6CE8\u518C\u90AE\u7BB1\uFF01"})}],password:[{required:!0,message:(0,f.T)({id:"input.rules.password",message:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})},{min:6,message:(0,f.T)({id:"input.password.valid",message:"\u5BC6\u7801\u957F\u5EA6\u81F3\u5C11\u4E3A 6 \u4E2A\u5B57\u7B26"})}],email:[{required:!0,message:(0,f.T)({id:"input.rules.email",message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\uFF01"})},{type:"email",message:(0,f.T)({id:"input.email.valid",message:"\u8BF7\u8F93\u5165\u6709\u6548\u7684\u90AE\u7BB1\u5730\u5740\uFF01"})}]},F=()=>{let[e,s]=(0,t.useState)(!1),[r,i]=(0,t.useState)("1"),[C,F]=o.Ay.useMessage(),[N,L]=(0,t.useState)(Date.now()),[S]=l.A.useForm(),[I]=l.A.useForm(),[_]=l.A.useForm(),[E]=l.A.useForm(),P=(0,t.useCallback)(()=>{i("3")},[]),O=(0,t.useCallback)(()=>{i("4")},[]);(0,t.useEffect)(()=>{let e=async e=>{if(e.data.code){s(!0);try{let s=await b(e.data.code);D(s.user.username,s.token)}catch(e){C.error("Login failed: "+(e.message||"Unknown error"))}finally{s(!1)}}};return window.addEventListener("message",e,!1),()=>{window.removeEventListener("message",e)}},[C]);let B=async()=>{s(!0);try{let e=await v();if(e){let s=window.open(e,"_blank","location=yes,height=570,width=520,scrollbars=yes,status=yes");(!s||s.closed||void 0===s.closed)&&alert('Please disable your pop-up blocker and click the "Open" link again.')}else alert("Failed to generate Google Auth URL.")}catch(e){C.open({type:"error",content:"Error while attempting Google login: "+e.message})}finally{s(!1)}},D=(e,s)=>{y.A.canUseDOM&&(localStorage.setItem("auth_token",s),window.postMessage({action:"login",username:e,jwt:s},"*"),setTimeout(()=>{window.location.reload()},500))},M=(0,t.useCallback)(async(e,r,t)=>{s(!0);try{let s=await r(e);D(s.data.user.username,s.data.jwt),C.success(t)}catch(e){try{"Request timed out. Please try again."===e.message?C.error(e.message):e.response?.status===400?C.error(e.response.data.error.message):e.response?.status===429?C.error("Requests are too frequent. Please try again later."):C.error((0,a.jsx)(f.A,{id:"message.error",children:"\u53D1\u751F\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5"}))}catch(e){C.error((0,a.jsx)(f.A,{id:"message.error",children:"\u5904\u7406\u9519\u8BEF\u65F6\u53D1\u751F\u9519\u8BEF"}))}}finally{s(!1)}},[C]),R=async e=>{M(e,w.iD,(0,a.jsx)(f.A,{id:"message.loginSuccess",children:"\u767B\u5F55\u6210\u529F\uFF01"}))},q=async e=>{M(e,w.kz,(0,a.jsx)(f.A,{id:"message.registerSuccess",children:"\u6CE8\u518C\u6210\u529F\uFF01"}))},H=async e=>{s(!0);try{await (0,w.BD)(e.email),C.success((0,a.jsx)(f.A,{id:"message.forgotPassword.success",children:"\u5BC6\u7801\u91CD\u7F6E\u90AE\u4EF6\u5DF2\u53D1\u9001\uFF01"})),_.resetFields()}catch(e){console.error((0,f.T)({id:"error.forgotPassword",message:"Error sending forgot password email:"}),e),C.error((0,a.jsx)(f.A,{id:"message.forgotPassword.error",children:"\u53D1\u9001\u5BC6\u7801\u91CD\u7F6E\u90AE\u4EF6\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"}))}finally{s(!1)}},U=async e=>{s(!0);let r=e.email;try{let e=/\S+@\S+\.\S+/.test(r)?{email:r}:{username:r};await (0,w.U0)(e),C.success((0,a.jsx)(f.A,{id:"message.passwordlessLinkSent",children:"\u514D\u5BC6\u7801\u767B\u5F55\u94FE\u63A5\u5DF2\u53D1\u9001\u5230\u60A8\u7684\u90AE\u7BB1\uFF01"})),E.resetFields()}catch(e){console.error("Error sending passwordless login link:",e),C.error((0,a.jsx)(f.A,{id:"message.errorSendingPasswordlessLink",children:"\u53D1\u9001\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u90AE\u7BB1\u6216\u7528\u6237\u540D"}))}finally{s(!1)}},z=[{key:"1",label:(0,a.jsx)(f.A,{id:"tabs.login",children:"\u767B\u5F55"}),children:(0,a.jsxs)(l.A,{form:S,onFinish:R,layout:"vertical",children:[(0,a.jsx)(l.A.Item,{name:"username",rules:T.username,label:(0,a.jsx)(f.A,{id:"input.username",children:"\u7528\u6237\u540D/\u90AE\u7BB1"}),children:(0,a.jsx)(c.A,{autoComplete:"username",prefix:(0,a.jsx)(x.A,{}),placeholder:(0,f.T)({id:"input.username",message:"\u7528\u6237\u540D/\u90AE\u7BB1"})})}),(0,a.jsx)(l.A.Item,{name:"password",rules:T.password,label:(0,a.jsx)(f.A,{id:"input.password",children:"\u5BC6\u7801"}),children:(0,a.jsx)(c.A.Password,{autoComplete:"current-password",prefix:(0,a.jsx)(A.A,{}),placeholder:(0,f.T)({id:"input.password",message:"\u5BC6\u7801"})})}),(0,a.jsx)(l.A.Item,{children:(0,a.jsxs)(m.A,{direction:"vertical",style:{width:"100%"},children:[(0,a.jsx)(d.Ay,{type:"primary",htmlType:"submit",loading:e,block:!0,children:(0,a.jsx)(f.A,{id:"button.login",children:"\u767B\u5F55"})}),(0,a.jsx)(m.A,{style:{width:"100%",justifyContent:"center"},children:(0,a.jsx)(d.Ay,{onClick:B,icon:(0,a.jsx)(j.A,{}),children:"Login via Google"})}),(0,a.jsxs)(m.A,{style:{width:"100%",justifyContent:"space-between"},children:[(0,a.jsx)(d.Ay,{type:"link",onClick:P,style:{padding:0},children:(0,a.jsx)(f.A,{id:"button.register",children:"\u6CE8\u518C"})}),(0,a.jsx)(d.Ay,{type:"link",onClick:O,style:{padding:0},children:(0,a.jsx)(f.A,{id:"button.forgotPassword",children:"\u5FD8\u8BB0\u5BC6\u7801"})})]})]})})]})},{key:"2",label:(0,a.jsx)(f.A,{id:"tabs.passwordlessLogin",children:"\u514D\u5BC6\u7801\u767B\u5F55"}),children:(0,a.jsxs)(l.A,{form:E,onFinish:U,layout:"vertical",children:[(0,a.jsx)(n.A,{message:(0,a.jsx)(f.A,{id:"message.passwordlessLogin.info",children:"\u767B\u5F55\u94FE\u63A5\u5C06\u53D1\u9001\u81F3\u60A8\u7684\u90AE\u7BB1\uFF0C\u70B9\u51FB\u5373\u53EF\u767B\u5F55\uFF0C\u65E0\u9700\u8F93\u5165\u5BC6\u7801"}),type:"info",showIcon:!0,style:{marginBottom:16}}),(0,a.jsx)(l.A.Item,{name:"email",rules:T.username,label:(0,a.jsx)(f.A,{id:"input.username",children:"\u7528\u6237\u540D/\u90AE\u7BB1"}),children:(0,a.jsx)(c.A,{autoComplete:"username",prefix:(0,a.jsx)(g.A,{}),placeholder:(0,f.T)({id:"input.username",message:"\u7528\u6237\u540D/\u90AE\u7BB1"})})}),(0,a.jsx)(l.A.Item,{children:(0,a.jsx)(d.Ay,{type:"primary",htmlType:"submit",loading:e,block:!0,children:(0,a.jsx)(f.A,{id:"button.sendPasswordlessLink",children:"\u83B7\u53D6\u514D\u5BC6\u7801\u767B\u5F55\u94FE\u63A5"})})})]})},{key:"3",label:(0,a.jsx)(f.A,{id:"button.register",children:"\u6CE8\u518C"}),children:(0,a.jsxs)(l.A,{form:I,onFinish:q,layout:"vertical",children:[(0,a.jsx)(l.A.Item,{name:"username",rules:T.username,label:(0,a.jsx)(f.A,{id:"input.register.username",children:"\u7528\u6237\u540D"}),children:(0,a.jsx)(c.A,{autoComplete:"username",prefix:(0,a.jsx)(x.A,{}),placeholder:(0,f.T)({id:"input.register.username",message:"\u7528\u6237\u540D"})})}),(0,a.jsx)(l.A.Item,{name:"email",rules:T.email,label:(0,a.jsx)(f.A,{id:"input.email",children:"\u90AE\u7BB1"}),children:(0,a.jsx)(c.A,{autoComplete:"email",prefix:(0,a.jsx)(g.A,{}),placeholder:(0,f.T)({id:"input.email",message:"\u90AE\u7BB1"})})}),(0,a.jsx)(l.A.Item,{name:"password",rules:T.password,label:(0,a.jsx)(f.A,{id:"input.password",children:"\u5BC6\u7801"}),hasFeedback:!0,children:(0,a.jsx)(c.A.Password,{autoComplete:"new-password",prefix:(0,a.jsx)(A.A,{}),placeholder:(0,f.T)({id:"input.password",message:"\u5BC6\u7801"})})}),(0,a.jsx)(l.A.Item,{name:"agreement",valuePropName:"checked",rules:[{validator:(e,s)=>s?Promise.resolve():Promise.reject(Error((0,f.T)({id:"agreement.rules",message:"\u4F7F\u7528\u524D\u987B\u540C\u610F\u670D\u52A1\u6761\u6B3E\u548C\u9690\u79C1\u653F\u7B56"})))}],children:(0,a.jsxs)(h.A,{children:[(0,a.jsx)(f.A,{id:"agreement.text",children:"\u70B9\u6B64\u540C\u610F"})," ",(0,a.jsx)("a",{href:"/docs/terms-of-service",children:(0,a.jsx)(f.A,{id:"agreement.terms",children:"\u670D\u52A1\u6761\u6B3E"})})," ",(0,a.jsx)(f.A,{id:"agreement.and",children:"\u548C"})," ",(0,a.jsx)("a",{href:"/docs/privacy-policy",children:(0,a.jsx)(f.A,{id:"agreement.policy",children:"\u9690\u79C1\u653F\u7B56"})})]})}),(0,a.jsx)(l.A.Item,{children:(0,a.jsx)(d.Ay,{type:"primary",htmlType:"submit",loading:e,block:!0,children:(0,a.jsx)(f.A,{id:"button.register",children:"\u6CE8\u518C"})})})]})},{key:"4",label:(0,a.jsx)(f.A,{id:"label.forgotPassword",children:"\u5FD8\u8BB0\u5BC6\u7801"}),children:(0,a.jsxs)(l.A,{form:_,onFinish:H,layout:"vertical",children:[(0,a.jsx)(n.A,{message:(0,a.jsx)(f.A,{id:"message.forgotPassword.info",children:"\u91CD\u7F6E\u5BC6\u7801\u94FE\u63A5\u5C06\u53D1\u9001\u81F3\u60A8\u7684\u90AE\u7BB1"}),type:"info",showIcon:!0,style:{marginBottom:16}}),(0,a.jsx)(l.A.Item,{name:"email",label:(0,a.jsx)(f.A,{id:"input.email",children:"\u90AE\u7BB1"}),rules:T.email,children:(0,a.jsx)(c.A,{autoComplete:"email",prefix:(0,a.jsx)(g.A,{}),placeholder:(0,f.T)({id:"placeholder.email",message:"\u90AE\u7BB1"})})}),(0,a.jsx)(l.A.Item,{children:(0,a.jsx)(d.Ay,{type:"primary",htmlType:"submit",loading:e,block:!0,children:(0,a.jsx)(f.A,{id:"button.sendResetEmail",children:"\u53D1\u9001\u5BC6\u7801\u91CD\u7F6E\u90AE\u4EF6"})})})]})}];return(0,a.jsxs)(a.Fragment,{children:[F,(0,a.jsx)(p.A,{title:(0,a.jsx)(k,{level:4,children:(0,a.jsx)(f.A,{id:"card.welcome",children:"\u6B22\u8FCE"})}),style:{maxWidth:480,margin:"0 auto"},children:(0,a.jsx)(u.A,{defaultActiveKey:"1",activeKey:r,onChange:e=>{i(e),L(Date.now()),S.resetFields(),I.resetFields(),_.resetFields(),E.resetFields()},items:z,destroyOnHidden:!0},N)})]})}},24855:function(e,s,r){r.r(s),r.d(s,{default:()=>j});var a=r(74848),t=r(96540),i=r(39836),o=r(43789),l=r(55206),n=r(28249),c=r(93861),d=r(91213),m=r(26976),h=r(38378),p=r(93715),u=r(26100),g=r(7194),x=r(74922);let A=()=>{let[e,s]=(0,t.useState)("myprompts"),{filteredCommus:r,filteredCards:x,isFiltered:A}=(0,g.Kx)(e),j=(0,t.useCallback)(e=>{s(e)},[]);"undefined"!=typeof document&&document.documentElement.getAttribute("data-theme");let f=A&&0===x.length&&0===r.length,y=(0,t.useMemo)(()=>[{key:"myfavor",label:(0,o.T)({message:"\u6536\u85CF"}),icon:(0,a.jsx)(c.A,{}),children:!f&&(0,a.jsx)(u.A,{filteredCommus:r,filteredCards:x,isFiltered:A})},{key:"myprompts",label:(0,o.T)({id:"myprompt",message:"\u6211\u7684\u63D0\u793A\u8BCD"}),icon:(0,a.jsx)(d.A,{}),children:!f&&(0,a.jsx)(p.A,{filteredCommus:r,isFiltered:A})}],[r,x,A,f]);return(0,a.jsx)(l.A,{children:(0,a.jsx)("main",{className:"margin-vert--md",children:(0,a.jsx)("section",{className:"margin-top--sm margin-bottom--sm",children:(0,a.jsxs)("div",{className:"container padding-vert--md",children:[(0,a.jsx)("div",{className:"text--center",children:(0,a.jsx)(h.A,{hideLinks:{userCenter:!1,myFavorite:!0}})}),(0,a.jsx)("div",{className:(0,i.A)("margin-bottom--md",m.A.showcaseFavoriteHeader),children:(0,a.jsx)(g.Ay,{})}),(0,a.jsx)(n.A,{activeKey:e,items:y,onChange:j}),f&&(0,a.jsx)(g.aq,{})]})})})})},j=()=>(0,a.jsx)(x.O,{children:(0,a.jsx)(A,{})})},62360:function(e,s,r){function a(e,s){let r=[...e];return r.sort((e,r)=>s(e)>s(r)?1:s(r)>s(e)?-1:0),r}function t(e,s){let r=e.indexOf(s);if(-1===r)return e.concat(s);let a=[...e];return a.splice(r,1),a}r.d(s,{U:()=>a,w:()=>t})}}]);