"use strict";(self.webpackChunkchatgpt_shortcut=self.webpackChunkchatgpt_shortcut||[]).push([["650"],{50309(e,r,s){s.d(r,{O:()=>n,c:()=>l});var i=s(74848),t=s(96540),o=s(67202),a=s(13462);let l=(0,t.createContext)({userAuth:null,refreshUserAuth:()=>{},setUserAuth:()=>{},authLoading:!1});function n({children:e}){let{getCache:r}=s(55115),n="undefined"!=typeof window?r("user_auth"):null,[d,c]=(0,t.useState)(n),m="undefined"!=typeof window&&localStorage.getItem("auth_token"),[h,p]=(0,t.useState)(m&&!n),x=(0,t.useCallback)(async(e=!1)=>{if(!("undefined"!=typeof window&&localStorage.getItem("auth_token")))return void p(!1);e&&(0,o.clearMySpaceCache)(),e&&(0,t.startTransition)(()=>p(!0));let r=!!n,i=async()=>{let e=await function(e,r,s="operation"){return new Promise((r,i)=>{let t=setTimeout(()=>{i(Error(`[AuthProvider] ${s} timed out after 12000ms`))},12e3);e.then(e=>{clearTimeout(t),r(e)},e=>{clearTimeout(t),i(e)})})}((0,o.xS)(),0,"getMySpace");if(!e)return null;let r=Array.isArray(e.customTags)?e.customTags:e.customTags?.definitions||[],i=(e.items||[]).filter(e=>null!=e.id&&void 0!==e.id||(console.warn("[AuthProvider] Filtered out invalid item with null ID:",e),!1)),l={data:{...e,customTags:r,items:i,favorites:{id:e.favoriteId,loves:(0,a.$W)(i),commLoves:(0,a.VT)(i),customTags:{definitions:r,itemTags:e.customTags?.itemTags||{}}},userprompts:(0,a.Cu)(i)}};(0,t.startTransition)(()=>c(l));let{setCache:n,CACHE_TTL:d}=s(55115);return n("user_auth",l,d.MYSPACE),e};try{await i()}catch(s){if(e)console.error("Failed to fetch user data:",s);else try{await new Promise(e=>setTimeout(e,800)),await i();return}catch(e){console.warn("Failed to fetch user data (after retry):",e)}r||(0,t.startTransition)(()=>c(null))}finally{(0,t.startTransition)(()=>p(!1))}},[]);(0,t.useEffect)(()=>{x()},[]);let u=(0,t.useMemo)(()=>({userAuth:d,setUserAuth:c,refreshUserAuth:x,authLoading:h}),[d,x,h]);return(0,i.jsx)(l.Provider,{value:u,children:e})}},26807(e,r,s){s.d(r,{FU:()=>l,c8:()=>a,ht:()=>o});var i=s(74848);s(96540);var t=s(30568);function o(e){return e>=50?{level:5,emoji:"\u{1F48E}",color:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",tagColor:"purple",icon:"crown",next:null}:e>=20?{level:4,emoji:"\u{1F3C6}",color:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",tagColor:"cyan",icon:"trophy",next:50}:e>=10?{level:3,emoji:"\u2B50",color:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",tagColor:"gold",icon:"star",next:20}:e>=3?{level:2,emoji:"\u{1F680}",color:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",tagColor:"blue",icon:"rocket",next:10}:e>=1?{level:1,emoji:"\u{1F31F}",color:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",tagColor:"orange",icon:"fire",next:3}:{level:0,emoji:"\u{1F331}",color:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",tagColor:"green",icon:"thunderbolt",next:1}}function a({level:e,emoji:r,showEmoji:s=!0}){return(0,i.jsxs)(i.Fragment,{children:[s&&r&&(0,i.jsxs)(i.Fragment,{children:[r," "]}),5===e&&(0,i.jsx)(t.A,{id:"level.diamond",children:"\u94BB\u77F3\u4F20\u8BF4"}),4===e&&(0,i.jsx)(t.A,{id:"level.platinum",children:"\u94C2\u91D1\u5927\u5E08"}),3===e&&(0,i.jsx)(t.A,{id:"level.gold",children:"\u9EC4\u91D1\u4E13\u5BB6"}),2===e&&(0,i.jsx)(t.A,{id:"level.silver",children:"\u767D\u94F6\u7CBE\u82F1"}),1===e&&(0,i.jsx)(t.A,{id:"level.bronze",children:"\u9752\u94DC\u65B0\u661F"}),0===e&&(0,i.jsx)(t.A,{id:"level.newcomer",children:"\u840C\u65B0\u63A2\u7D22\u8005"})]})}function l({level:e}){return(0,i.jsxs)(i.Fragment,{children:[5===e&&(0,i.jsx)(t.A,{id:"level.diamond.desc",children:"\u9876\u7EA7\u8D21\u732E\u8005\uFF0C\u793E\u533A\u4F20\u5947\uFF01"}),4===e&&(0,i.jsx)(t.A,{id:"level.platinum.desc",children:"\u8D44\u6DF1\u4E13\u5BB6\uFF0C\u5F71\u54CD\u529B\u975E\u51E1\uFF01"}),3===e&&(0,i.jsx)(t.A,{id:"level.gold.desc",children:"\u7ECF\u9A8C\u4E30\u5BCC\uFF0C\u503C\u5F97\u4FE1\u8D56\uFF01"}),2===e&&(0,i.jsx)(t.A,{id:"level.silver.desc",children:"\u6D3B\u8DC3\u8D21\u732E\u8005\uFF0C\u6301\u7EED\u6210\u957F\u4E2D\uFF01"}),1===e&&(0,i.jsx)(t.A,{id:"level.bronze.desc",children:"\u5DF2\u8FC8\u51FA\u7B2C\u4E00\u6B65\uFF0C\u7EE7\u7EED\u52A0\u6CB9\uFF01"}),0===e&&(0,i.jsx)(t.A,{id:"level.newcomer.desc",children:"\u5206\u4EAB\u7B2C\u4E00\u4E2A\u63D0\u793A\u8BCD\uFF0C\u5F00\u542F\u521B\u4F5C\u4E4B\u65C5\uFF01"})]})}},45856(e,r,s){s.r(r),s.d(r,{default:()=>Q});var i=s(74848),t=s(96540),o=s(30568),a=s(95310),l=s(21085),n=s(10898),d=s(24301),c=s(71024),m=s(89986),h=s(84073),p=s(47152),x=s(16370),u=s(36813),g=s(21751),j=s(52930),y=s(9643),f=s(68101),A=s(65232),v=s(50400),w=s(66845),b=s(57486),k=s(13147),C=s(55021),T=s(85489),S=s(76164),P=s(17055),z=s(6365),F=s(7769),O=s(58573),E=s(83301),I=s(17047),R=s(20156),U=s(26385),B=s(61381),q=s(79785),M=s(56304),$=s(51757),L=s(53159),N=s(7710),W=s(47770),_=s(46029),J=s(50309),V=s(26807),D=s(91831),H=s(67202),Y=s(13462);let{Title:Z,Text:G}=d.A,K=()=>{let e,r,s,d,K,{userAuth:Q,refreshUserAuth:X}=(0,t.useContext)(J.c),{message:ee,modal:er}=c.A.useApp(),{i18n:es}=(0,n.A)(),ei=es.currentLocale.split("-")[0],[et,eo]=(0,t.useState)(null),[ea,el]=(0,t.useState)(!0),[en,ed]=(0,t.useState)(!1),[ec,em]=(0,t.useState)(!1),[eh,ep]=(0,t.useState)(""),[ex]=m.A.useForm(),[eu]=m.A.useForm(),eg=(0,t.useRef)(null),[ej,ey]=(0,t.useState)(!1),ef=(0,t.useCallback)(async()=>{el(!0);try{let e=await (0,D.n)();e&&(eo(e.data),ep(e.data.username))}catch(e){console.error("Failed to fetch user info:",e)}finally{el(!1)}},[]);(0,t.useEffect)(()=>{ef()},[ef]),(0,t.useEffect)(()=>{if(!ea&&!et){let e=setTimeout(()=>{window.location.href="/"},2e3);return()=>clearTimeout(e)}},[ea,et]);let eA=(0,t.useCallback)(async()=>{try{let e=Q?.data?.items?.filter(e=>"prompt"===e.type)||[],r=Q?.data?.items?.filter(e=>"favorite"===e.type)||[];if(0===e.length&&0===r.length)return void ee.warning((0,i.jsx)(o.A,{id:"message.export.noPrompts",children:"\u6682\u65E0\u63D0\u793A\u8BCD\u53EF\u5BFC\u51FA"}));let s=e.map(e=>e.id),t=r.filter(e=>"card"===e.source).map(e=>e.id),a=r.filter(e=>"community"===e.source).map(e=>e.id),[l,n,d]=await Promise.all([s.length>0?(0,H.oO)("userprompts",s):[],t.length>0?(0,H.oO)("cards",t):[],a.length>0?(0,H.oO)("commus",a):[]]),c=[...n.map(e=>{let r=e[ei]||e.zh||e.en||{};return{id:e.id,source:"card",...r.title&&{title:r.title},...r.prompt&&{prompt:r.prompt},...r.remark&&{remark:r.remark}}}),...d.map(e=>({id:e.id,source:"community",...e.title&&{title:e.title},...e.description&&{prompt:e.description},...e.remark&&{remark:e.remark}}))],m={exportTime:new Date().toISOString(),prompts:l.map(e=>({id:e.id,title:e.title,prompt:e.description,...e.remark&&{remark:e.remark},...e.notes&&{notes:e.notes},share:e.share})),favorites:{card:t,community:a},...c.length>0&&{favoriteDetails:c}},h=JSON.stringify(m,null,2),p=new Blob([h],{type:"application/json"}),x=URL.createObjectURL(p),u=document.createElement("a");u.href=x,u.download=`my-prompts-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(x),ee.success((0,i.jsx)(o.A,{id:"message.export.success",children:"\u63D0\u793A\u8BCD\u5BFC\u51FA\u6210\u529F\uFF01"}))}catch(e){console.error("Export error:",e),ee.error((0,i.jsx)(o.A,{id:"message.export.error",children:"\u5BFC\u51FA\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"}))}},[Q,ee,ei]),ev=(0,t.useCallback)(async()=>{try{(0,H.Yd)(),(0,H.clearMySpaceCache)(),await ef(),ee.success((0,i.jsx)(o.A,{id:"message.cache.cleared",children:"\u7F13\u5B58\u5DF2\u6E05\u9664\uFF0C\u6570\u636E\u5DF2\u5237\u65B0"}))}catch(e){console.error("Clear cache error:",e),ee.error((0,i.jsx)(o.A,{id:"message.cache.clearError",children:"\u6E05\u9664\u7F13\u5B58\u5931\u8D25"}))}},[ef,ee]),ew=(0,t.useCallback)(async e=>{let r=e.target.files?.[0];if(r){e.target.value="";try{let e=await r.text(),s=JSON.parse(e),t=[],a={card:[],community:[]};Array.isArray(s)?t=s:s.prompts?(t=s.prompts,s.favorites&&(a.card=s.favorites.card||[],a.community=s.favorites.community||[])):s.title&&(s.prompt||s.description)&&(t=[s]),t=t.map(e=>({...e,prompt:e.prompt||e.description||""})).filter(e=>e.title&&e.prompt);let l=a.card.length>0||a.community.length>0;if(0===t.length&&!l)return void ee.error((0,i.jsx)(o.A,{id:"message.import.invalid",children:"\u65E0\u6548\u7684\u6570\u636E\u683C\u5F0F"}));ey(!0);let n=Q?.data?.userprompts?.map(e=>e.id)||[],d=Q?.data?.favorites?.id,c=t.filter(e=>e.id&&n.includes(e.id)).map(e=>e.id),m={};if(c.length>0)try{m=(await (0,H.oO)("userprompts",c)).reduce((e,r)=>(e[r.id]=r,e),{})}catch{}let h=0,p=0,x=t.map(async e=>{if(e.id&&n.includes(e.id)){let r=m[e.id];return r&&r.title===e.title&&r.description===e.prompt&&(r.remark||"")===(e.remark||"")&&(r.notes||"")===(e.notes||"")&&r.share===(e.share??!1)?{status:"skipped"}:(await (0,H.qj)(e.id,{title:e.title,description:e.prompt,remark:e.remark,notes:e.notes,share:e.share??!1}),{status:"success"})}return e.id?(await (0,H.vA)({title:e.title,description:e.prompt,remark:e.remark,notes:e.notes,share:!1}),{status:"success"}):(await (0,H.vA)({title:e.title,description:e.prompt,remark:e.remark,notes:e.notes,share:e.share??!0}),{status:"success"})});for(let e of(await Promise.allSettled(x)))"fulfilled"===e.status?"skipped"!==e.value.status&&h++:p++;if(l){let e=Q?.data?.items||[],r=[{importIds:a.card,isCommunity:!1,derive:Y.$W},{importIds:a.community,isCommunity:!0,derive:Y.VT}].map(async({importIds:r,isCommunity:s,derive:i})=>{if(0===r.length)return!1;let t=i(e),o=[...new Set([...t,...r])];return o.length!==t.length&&(d?await (0,H.O)(d,o,s):await (0,H.vN)(o,s),!0)}),s=await Promise.allSettled(r);h+=s.filter(e=>"fulfilled"===e.status&&e.value).length}ey(!1),0===p?ee.success((0,i.jsx)(o.A,{id:"message.import.success",children:"\u5BFC\u5165\u6210\u529F\uFF01"})):h>0?ee.warning(`${(0,o.T)({id:"message.import.partial",message:"\u90E8\u5206\u5BFC\u5165\u6210\u529F"})} (${h}/${h+p})`):ee.error((0,i.jsx)(o.A,{id:"message.import.failed",children:"\u5BFC\u5165\u5931\u8D25"})),await X()}catch(e){ey(!1),console.error("Import error:",e),ee.error((0,i.jsx)(o.A,{id:"message.import.parseError",children:"JSON \u89E3\u6790\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u6587\u4EF6\u683C\u5F0F"}))}}},[Q,ee,X]),eb=async()=>{if(!eh.trim())return void ee.error("Username cannot be empty");if(eh===et?.username)return void em(!1);ed(!0);try{await (0,H.kZ)(eh),await ef(),ee.success("Username updated successfully!"),em(!1)}catch(r){console.error("Error updating username:",r);let e=r?.response?.data?.error?.message||"Unknown error";ee.error(`Failed to update username: ${e}`)}finally{ed(!1)}},ek=async e=>{ed(!0);try{await (0,H.ec)(e),ee.success((0,i.jsx)(o.A,{id:"message.success.passwordChanged",children:"\u5BC6\u7801\u4FEE\u6539\u6210\u529F\uFF01"})),ex.resetFields()}catch(e){console.error("Error changing password:",e),ee.error((0,i.jsx)(o.A,{id:"message.error.passwordChangeFailed",children:"\u5BC6\u7801\u4FEE\u6539\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"}))}finally{ed(!1)}},eC=async e=>{ed(!0);try{await (0,H.BD)(e.email),ee.success((0,i.jsx)(o.A,{id:"message.success.forgotPassword",children:"\u5BC6\u7801\u91CD\u7F6E\u90AE\u4EF6\u5DF2\u53D1\u9001\uFF01"})),eu.resetFields()}catch(e){console.error("Error sending forgot password email:",e),ee.error((0,i.jsx)(o.A,{id:"message.error.forgotPassword",children:"\u53D1\u9001\u5BC6\u7801\u91CD\u7F6E\u90AE\u4EF6\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"}))}finally{ed(!1)}};return ea||!et?(0,i.jsx)(l.A,{title:(0,o.T)({id:"link.myAccount",message:"\u6211\u7684\u8D26\u6237"}),children:(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:(0,i.jsx)(h.A,{size:"large"})})}):(0,i.jsxs)(l.A,{title:(0,o.T)({id:"link.myAccount",message:"\u6211\u7684\u8D26\u6237"}),children:[(0,i.jsx)("main",{style:{minHeight:"calc(100vh - 60px)",padding:"24px 0"},children:(0,i.jsx)(p.A,{justify:"center",children:(0,i.jsx)(x.A,{xs:24,sm:22,md:20,lg:16,xl:14,children:(0,i.jsxs)(u.A,{orientation:"vertical",size:"large",style:{width:"100%"},children:[(0,i.jsx)(g.A,{style:{borderRadius:12,border:"1px solid var(--ifm-color-emphasis-200)",boxShadow:"var(--site-shadow-sm)"},styles:{body:{padding:"12px 24px"}},children:(0,i.jsx)(j.A,{justify:"space-between",align:"center",children:(0,i.jsx)(y.A,{itemRender:(e,r,s,t)=>s.indexOf(e)!==s.length-1&&e.path?(0,i.jsx)(a.A,{to:e.path,style:{color:"var(--ifm-color-primary)"},children:e.title}):(0,i.jsx)("span",{children:e.title}),items:[{path:"/",title:(0,i.jsxs)(j.A,{align:"center",gap:4,children:[(0,i.jsx)(T.A,{}),(0,i.jsx)("span",{children:(0,i.jsx)(o.A,{id:"link.home",children:"\u9996\u9875"})})]})},{title:(0,i.jsx)(o.A,{id:"link.myAccount",children:"\u7528\u6237\u4E2D\u5FC3"})}]})})}),(0,i.jsxs)(p.A,{gutter:[24,24],children:[(0,i.jsx)(x.A,{xs:24,md:10,children:(0,i.jsx)(g.A,{style:{height:"100%",borderRadius:12,border:"1px solid var(--ifm-color-emphasis-200)",boxShadow:"var(--site-shadow-sm)"},title:(0,i.jsxs)(u.A,{children:[(0,i.jsx)(S.A,{style:{color:"var(--ifm-color-primary)"}}),(0,i.jsx)(o.A,{id:"title.userInfo",children:"\u7528\u6237\u4FE1\u606F"})]}),children:(e=Q?.data?.userprompts?.filter(e=>e.share).length||0,s=(r=(0,V.ht)(e)).next?Math.min(100,Math.round(e/r.next*100)):100,d=r.next?r.next-e:0,K={crown:(0,i.jsx)(P.A,{}),trophy:(0,i.jsx)(z.A,{}),star:(0,i.jsx)(F.A,{}),rocket:(0,i.jsx)(O.A,{}),fire:(0,i.jsx)(E.A,{}),thunderbolt:(0,i.jsx)(I.A,{})},(0,i.jsxs)(j.A,{vertical:!0,align:"center",gap:0,children:[(0,i.jsxs)("div",{style:{position:"relative",padding:4,borderRadius:"50%",background:r.color,marginBottom:16},children:[(0,i.jsx)(f.A,{size:88,icon:(0,i.jsx)(S.A,{}),style:{backgroundColor:"var(--ifm-background-color)",color:"var(--ifm-color-primary)",fontSize:36,border:"3px solid var(--ifm-background-color)"}}),(0,i.jsx)("div",{style:{position:"absolute",bottom:0,right:0,background:"var(--ifm-background-color)",borderRadius:"50%",padding:4,boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:(0,i.jsx)("span",{style:{fontSize:20,color:"var(--ifm-color-primary)"},children:K[r.icon]})})]}),ec?(0,i.jsxs)(u.A.Compact,{style:{width:"100%",maxWidth:240,marginBottom:8},children:[(0,i.jsx)(A.A,{value:eh,onChange:e=>ep(e.target.value),onPressEnter:eb,autoFocus:!0}),(0,i.jsx)(v.Ay,{type:"primary",icon:(0,i.jsx)(R.A,{}),onClick:eb,loading:en}),(0,i.jsx)(v.Ay,{icon:(0,i.jsx)(U.A,{}),onClick:()=>em(!1)})]}):(0,i.jsxs)(j.A,{align:"center",gap:8,style:{marginBottom:4},children:[(0,i.jsx)(Z,{level:4,style:{margin:0},children:et.username}),(0,i.jsx)(v.Ay,{type:"text",icon:(0,i.jsx)(U.A,{}),onClick:()=>{ep(et?.username||""),em(!0)},size:"small",style:{color:"var(--ifm-color-emphasis-500)"}})]}),(0,i.jsxs)(G,{type:"secondary",style:{fontSize:12},children:[(0,i.jsx)(B.A,{style:{marginRight:4}}),et.email]}),(0,i.jsx)(w.A,{color:r.tagColor,style:{marginTop:16,padding:"6px 16px",fontSize:14,fontWeight:600,borderRadius:8},children:(0,i.jsx)(V.c8,{level:r.level,emoji:r.emoji})}),(0,i.jsx)(G,{type:"secondary",style:{marginTop:8,fontSize:12,textAlign:"center"},children:(0,i.jsx)(V.FU,{level:r.level})}),(0,i.jsx)(g.A,{size:"small",style:{width:"100%",marginTop:20,borderRadius:12,overflow:"hidden",border:"1px solid rgba(var(--ifm-color-primary-rgb), 0.2)"},styles:{body:{textAlign:"center",background:"linear-gradient(135deg, var(--ifm-color-primary) 0%, var(--ifm-background-color) 100%)"}},children:(0,i.jsx)(b.A,{title:(0,i.jsxs)(u.A,{style:{color:"var(--ifm-color-emphasis-500)"},children:[(0,i.jsx)(q.A,{}),(0,i.jsx)(o.A,{id:"stat.sharedPrompts",children:"\u5DF2\u5206\u4EAB\u63D0\u793A\u8BCD"})]}),value:e,styles:{content:{color:"var(--ifm-color-primary)",fontSize:32,fontWeight:700}}})}),r.next&&(0,i.jsxs)(j.A,{vertical:!0,gap:8,style:{width:"100%",marginTop:16},children:[(0,i.jsxs)(j.A,{justify:"space-between",children:[(0,i.jsx)(G,{type:"secondary",style:{fontSize:12},children:(0,i.jsx)(o.A,{id:"progress.toNextLevel",children:"\u8DDD\u79BB\u4E0B\u4E00\u7B49\u7EA7"})}),(0,i.jsx)(G,{strong:!0,style:{fontSize:12,color:"var(--ifm-color-primary)"},children:d})]}),(0,i.jsx)(k.A,{percent:s,strokeColor:{"0%":"var(--ifm-color-primary)","100%":"var(--ifm-color-primary-dark)"},trailColor:"var(--ifm-color-emphasis-200)",showInfo:!1}),(0,i.jsxs)(G,{type:"secondary",style:{fontSize:12,textAlign:"center"},children:[(0,i.jsx)(o.A,{id:"progress.encourage",children:"\u7EE7\u7EED\u5206\u4EAB\uFF0C\u89E3\u9501\u66F4\u9AD8\u7B49\u7EA7\uFF01"})," \u{1F3AF}"]})]}),!r.next&&e>0&&(0,i.jsx)(g.A,{size:"small",style:{width:"100%",marginTop:16,border:"1px solid var(--ifm-color-success-dark)"},styles:{body:{textAlign:"center",background:"linear-gradient(135deg, var(--ifm-color-success-contrast-background) 0%, var(--ifm-background-color) 100%)"}},children:(0,i.jsxs)(G,{strong:!0,style:{color:"var(--ifm-color-success)"},children:["\u{1F389} ",(0,i.jsx)(o.A,{id:"level.max.congrats",children:"\u606D\u559C\u8FBE\u6210\u6700\u9AD8\u7B49\u7EA7\uFF01\u4F60\u662F\u793E\u533A\u7684\u4F20\u5947\u8D21\u732E\u8005\uFF01"})]})})]}))})}),(0,i.jsx)(x.A,{xs:24,md:14,children:(0,i.jsx)(g.A,{style:{height:"100%",borderRadius:12,border:"1px solid var(--ifm-color-emphasis-200)",boxShadow:"var(--site-shadow-sm)"},title:(0,i.jsxs)(u.A,{children:[(0,i.jsx)(M.A,{style:{color:"var(--ifm-color-primary)"}}),(0,i.jsx)(o.A,{id:"title.security",children:"\u5B89\u5168\u8BBE\u7F6E"})]}),extra:(0,i.jsx)(v.Ay,{type:"link",style:{color:"var(--ifm-color-primary)"},onClick:()=>{er.confirm({title:(0,i.jsxs)(u.A,{children:[(0,i.jsx)(B.A,{style:{color:"var(--ifm-color-primary)"}}),(0,i.jsx)(o.A,{id:"modal.forgotPassword.title",children:"\u5FD8\u8BB0\u5BC6\u7801"})]}),icon:null,content:(0,i.jsxs)("div",{style:{marginTop:16},children:[(0,i.jsx)(G,{type:"secondary",style:{display:"block",marginBottom:16},children:(0,i.jsx)(o.A,{id:"message.forgotPassword.info",children:"\u6211\u4EEC\u4F1A\u5411\u60A8\u7684\u6CE8\u518C\u90AE\u7BB1\u53D1\u9001\u4E00\u5C01\u5305\u542B\u91CD\u7F6E\u94FE\u63A5\u7684\u90AE\u4EF6\u3002"})}),(0,i.jsx)(m.A,{form:eu,layout:"vertical",children:(0,i.jsx)(m.A.Item,{name:"email",label:(0,i.jsx)(o.A,{id:"placeholder.email",children:"\u90AE\u7BB1"}),rules:[{required:!0,message:(0,o.T)({id:"validation.email.required",message:"\u8BF7\u8F93\u5165\u60A8\u7684\u90AE\u7BB1\uFF01"})},{type:"email",message:(0,o.T)({id:"validation.email.invalid",message:"\u8BF7\u8F93\u5165\u6709\u6548\u7684\u90AE\u7BB1\u5730\u5740\uFF01"})}],initialValue:et?.email||"",children:(0,i.jsx)(A.A,{prefix:(0,i.jsx)(B.A,{style:{color:"var(--ifm-color-emphasis-400)"}}),placeholder:(0,o.T)({id:"placeholder.email",message:"\u90AE\u7BB1"}),size:"large"})})})]}),onOk:async()=>{try{await eu.validateFields();let e=eu.getFieldsValue();await eC(e)}catch(e){return Promise.reject(e)}},okText:(0,i.jsx)(o.A,{id:"action.sendResetEmail",children:"\u53D1\u9001\u91CD\u7F6E\u90AE\u4EF6"}),cancelText:(0,i.jsx)(o.A,{id:"action.cancel",children:"\u53D6\u6D88"}),centered:!0,width:480})},children:(0,i.jsx)(o.A,{id:"action.forgotPassword",children:"\u5FD8\u8BB0\u5BC6\u7801\uFF1F"})}),children:(0,i.jsxs)(m.A,{form:ex,onFinish:ek,layout:"vertical",requiredMark:!1,children:[(0,i.jsx)(m.A.Item,{name:"currentPassword",label:(0,i.jsx)(o.A,{id:"placeholder.currentPassword",children:"\u5F53\u524D\u5BC6\u7801"}),rules:[{required:!0,message:(0,o.T)({id:"validation.currentPassword.required",message:"\u8BF7\u8F93\u5165\u5F53\u524D\u5BC6\u7801\uFF01"})}],children:(0,i.jsx)(A.A.Password,{prefix:(0,i.jsx)($.A,{style:{color:"var(--ifm-color-emphasis-400)"}}),placeholder:(0,o.T)({id:"placeholder.currentPassword",message:"\u5F53\u524D\u5BC6\u7801"}),size:"large"})}),(0,i.jsx)(m.A.Item,{name:"newPassword",label:(0,i.jsx)(o.A,{id:"placeholder.newPassword",children:"\u65B0\u5BC6\u7801"}),rules:[{required:!0,message:(0,o.T)({id:"input.newPassword",message:"\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801\uFF01"})},{min:6,message:(0,o.T)({id:"validation.password.length",message:"\u5BC6\u7801\u957F\u5EA6\u81F3\u5C11\u4E3A 6 \u4E2A\u5B57\u7B26"})}],children:(0,i.jsx)(A.A.Password,{prefix:(0,i.jsx)($.A,{style:{color:"var(--ifm-color-emphasis-400)"}}),placeholder:(0,o.T)({id:"placeholder.newPassword",message:"\u65B0\u5BC6\u7801"}),size:"large"})}),(0,i.jsx)(m.A.Item,{name:"confirmPassword",label:(0,i.jsx)(o.A,{id:"placeholder.confirmPassword",children:"\u786E\u8BA4\u65B0\u5BC6\u7801"}),dependencies:["newPassword"],rules:[{required:!0,message:(0,o.T)({id:"validation.confirmPassword.required",message:"\u8BF7\u786E\u8BA4\u65B0\u5BC6\u7801\uFF01"})},({getFieldValue:e})=>({validator:(r,s)=>s&&e("newPassword")!==s?Promise.reject(Error((0,o.T)({id:"validation.password.match",message:"\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4\uFF01"}))):Promise.resolve()})],children:(0,i.jsx)(A.A.Password,{prefix:(0,i.jsx)($.A,{style:{color:"var(--ifm-color-emphasis-400)"}}),placeholder:(0,o.T)({id:"placeholder.confirmPassword",message:"\u786E\u8BA4\u65B0\u5BC6\u7801"}),size:"large"})}),(0,i.jsx)(m.A.Item,{style:{marginBottom:0},children:(0,i.jsx)(v.Ay,{type:"primary",htmlType:"submit",loading:en,block:!0,size:"large",children:(0,i.jsx)(o.A,{id:"action.changePassword",children:"\u4FEE\u6539\u5BC6\u7801"})})})]})})})]}),(0,i.jsx)(g.A,{style:{borderRadius:12,border:"1px solid var(--ifm-color-emphasis-200)",boxShadow:"var(--site-shadow-sm)"},title:(0,i.jsxs)(u.A,{children:[(0,i.jsx)(L.A,{style:{color:"var(--ifm-color-primary)"}}),(0,i.jsx)(o.A,{id:"title.dataManagement",children:"\u6570\u636E\u7BA1\u7406"})]}),children:(0,i.jsxs)(u.A,{direction:"vertical",size:"middle",style:{width:"100%"},children:[(0,i.jsxs)(j.A,{justify:"space-between",align:"center",style:{padding:"12px 0",borderBottom:"1px solid var(--ifm-color-emphasis-200)"},children:[(0,i.jsxs)(j.A,{align:"center",gap:20,children:[(0,i.jsx)(f.A,{icon:(0,i.jsx)(N.A,{}),style:{backgroundColor:"var(--ifm-color-emphasis-100)",color:"var(--ifm-color-primary)",border:"1px solid var(--ifm-color-emphasis-200)"}}),(0,i.jsxs)("div",{children:[(0,i.jsx)(G,{strong:!0,children:(0,i.jsx)(o.A,{id:"button.exportPrompts",children:"\u5BFC\u51FA\u63D0\u793A\u8BCD"})}),(0,i.jsx)("br",{}),(0,i.jsx)(G,{type:"secondary",style:{fontSize:12},children:(0,i.jsx)(o.A,{id:"description.exportPrompts.short",children:"\u5BFC\u51FA\u4E3A JSON \u6587\u4EF6\uFF0C\u65B9\u4FBF\u5907\u4EFD"})})]})]}),(0,i.jsx)(v.Ay,{icon:(0,i.jsx)(N.A,{}),onClick:eA,disabled:!Q?.data?.items?.some(e=>"prompt"===e.type||"favorite"===e.type),children:(0,i.jsx)(o.A,{id:"button.export",children:"\u5BFC\u51FA\u6570\u636E"})})]}),(0,i.jsxs)(j.A,{justify:"space-between",align:"center",style:{padding:"12px 0",borderBottom:"1px solid var(--ifm-color-emphasis-200)"},children:[(0,i.jsxs)(j.A,{align:"center",gap:20,children:[(0,i.jsx)(f.A,{icon:(0,i.jsx)(W.A,{}),style:{backgroundColor:"var(--ifm-color-emphasis-100)",color:"var(--ifm-color-primary)",border:"1px solid var(--ifm-color-emphasis-200)"}}),(0,i.jsxs)("div",{children:[(0,i.jsx)(G,{strong:!0,children:(0,i.jsx)(o.A,{id:"button.importPrompts",children:"\u5BFC\u5165\u63D0\u793A\u8BCD"})}),(0,i.jsx)("br",{}),(0,i.jsx)(G,{type:"secondary",style:{fontSize:12},children:(0,i.jsx)(o.A,{id:"description.importPrompts.short",children:"\u4ECE JSON \u6587\u4EF6\u5BFC\u5165\u63D0\u793A\u8BCD\u548C\u6536\u85CF"})})]})]}),(0,i.jsx)(v.Ay,{icon:(0,i.jsx)(W.A,{}),loading:ej,onClick:()=>eg.current?.click(),children:(0,i.jsx)(o.A,{id:"button.import",children:"\u5BFC\u5165\u6570\u636E"})})]}),(0,i.jsxs)(j.A,{justify:"space-between",align:"center",style:{padding:"12px 0"},children:[(0,i.jsxs)(j.A,{align:"center",gap:20,children:[(0,i.jsx)(f.A,{icon:(0,i.jsx)(_.A,{}),style:{backgroundColor:"var(--ifm-color-emphasis-100)",color:"var(--ifm-color-primary)",border:"1px solid var(--ifm-color-emphasis-200)"}}),(0,i.jsxs)("div",{children:[(0,i.jsx)(G,{strong:!0,children:(0,i.jsx)(o.A,{id:"button.clearCache",children:"\u6E05\u9664\u7F13\u5B58"})}),(0,i.jsx)("br",{}),(0,i.jsx)(G,{type:"secondary",style:{fontSize:12},children:(0,i.jsx)(o.A,{id:"description.clearCache.short",children:"\u5237\u65B0\u672C\u5730\u7F13\u5B58\u6570\u636E"})})]})]}),(0,i.jsx)(C.A,{title:(0,i.jsx)(o.A,{id:"modal.clearCache.title",children:"\u786E\u8BA4\u6E05\u9664\u7F13\u5B58\uFF1F"}),description:(0,i.jsxs)("div",{children:[(0,i.jsx)(G,{children:(0,i.jsx)(o.A,{id:"modal.clearCache.content",children:"\u7CFB\u7EDF\u4F7F\u7528 ETag \u6280\u672F\u81EA\u52A8\u7BA1\u7406\u7F13\u5B58\uFF0C\u901A\u5E38\u65E0\u9700\u624B\u52A8\u6E05\u9664\u3002"})}),(0,i.jsx)("br",{}),(0,i.jsx)(G,{type:"warning",children:(0,i.jsx)(o.A,{id:"modal.clearCache.warning",children:"\u6E05\u9664\u540E\u5C06\u91CD\u65B0\u52A0\u8F7D\u6240\u6709\u6570\u636E\u3002"})})]}),onConfirm:ev,okText:(0,i.jsx)(o.A,{id:"button.confirm",children:"\u786E\u8BA4\u6E05\u9664"}),okButtonProps:{danger:!0},cancelText:(0,i.jsx)(o.A,{id:"action.cancel",children:"\u53D6\u6D88"}),placement:"topRight",children:(0,i.jsx)(v.Ay,{danger:!0,icon:(0,i.jsx)(_.A,{}),children:(0,i.jsx)(o.A,{id:"button.clearAllCache",children:"\u6E05\u9664\u6240\u6709\u7F13\u5B58"})})})]})]})})]})})})}),(0,i.jsx)("input",{type:"file",ref:eg,accept:".json",style:{display:"none"},onChange:ew})]})},Q=()=>(0,i.jsx)(J.O,{children:(0,i.jsx)(c.A,{children:(0,i.jsx)(K,{})})})},13462(e,r,s){function i(e){return e.filter(e=>"favorite"===e.type&&"card"===e.source).map(e=>e.id)}function t(e){return e.filter(e=>"favorite"===e.type&&"community"===e.source).map(e=>e.id)}function o(e){return e.filter(e=>"prompt"===e.type&&"userprompt"===e.source).map(e=>({id:e.id,share:e.share??!1,updatedAt:e.updatedAt}))}s.d(r,{$W:()=>i,Cu:()=>o,VT:()=>t})}}]);