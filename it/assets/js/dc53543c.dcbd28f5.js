"use strict";(self.webpackChunkchatgpt_shortcut=self.webpackChunkchatgpt_shortcut||[]).push([["7938"],{66552:function(e,s,r){r.d(s,{A:()=>t});let t={showcaseCardBody:"showcaseCardBody_fqoj",showcaseCardHeader:"showcaseCardHeader_Wgbd",showcaseCardImage:"showcaseCardImage_cKtS",shortEllipsisMy:"shortEllipsisMy_clBa",shortEllipsis:"shortEllipsis_LL0g",showcaseCardTitle:"showcaseCardTitle_zvaY",svgIconFavorite:"svgIconFavorite_CmdZ",showcaseCardSrcBtn:"showcaseCardSrcBtn_o3AD",cardFooter:"cardFooter_tbwZ",tag:"tag_dHH4",textLabel:"textLabel_NAck",colorLabel:"colorLabel_xnnh",descriptionWrapper:"descriptionWrapper_fj5a",clickable:"clickable_BzJT",nonClickable:"nonClickable_M5zF",gradientOverlay:"gradientOverlay_B2ZG",downIcon:"downIcon_hOwl",showcaseCardLink:"showcaseCardLink_iYYT"}},26976:function(e,s,r){r.d(s,{A:()=>t});let t={showcaseFavorite:"showcaseFavorite_HPRp",showcaseList:"showcaseList_Cwj2",filterCheckbox:"filterCheckbox_Uhtk",checkboxList:"checkboxList_autc",checkboxListItem:"checkboxListItem_CI1c",activeItem:"activeItem_EpEL",searchContainer:"searchContainer_FQjg",showcaseFavoriteHeader:"showcaseFavoriteHeader_hNPk",svgIconFavoriteXs:"svgIconFavoriteXs_Yxtr",svgIconFavorite:"svgIconFavorite_skrm",onToggleButton:"onToggleButton_ckPE"}},10318:function(e,s,r){r.d(s,{$p:()=>h,Bo:()=>o,DW:()=>n,Fu:()=>d,WZ:()=>i,ly:()=>l,ne:()=>a,tC:()=>c});var t=r(43789);let i=[2,209,197,109,251,20,1],a=[2,185,209,197,109,251,20,1,199,90,180,232,204,4],o=[2,185,209,197,109,251,20,1,199,90,180,232,204,4,218,41,11,234,206,196,9,17,8,256,7,173,219,210,155,214,212,56,5,224,177,220,10,15,187,266,122,217,159,80,242,21,277,94,238,19,205,181,171,200,14,139,13,191,49,142,190,91,132,63,48,95,158,222,221,75,6,267,16,141,176,18,253,120,182,89,264,195,3,255,152,82,188,73,93,24,145,125,241,50,237,194,23,160,40,138,233,77,259,236,202,42,265,258,12,192,243,215,257,103,112,250,239,184,163,216,275,126,228,35,98,262,270,162,189,87,157,151,147,175,57,211,193,261,72,179,46,97,74,254,130,150,167,134,198,178,66,101,88,273,137,106,203,269,47,67,92,39,96,230,172,38,235,271,140,123,144,51,37,240,274,100,22,71,245,78,64,213,201,248,85,62,70,58,45,186,252,99,226,272,207,76,29,170,54,208,28,133,246,86,135,31,36,25,153,143,168,183,146,43,154,118,263,229,53,26,260,111,244,169,247,59,30,52,102,81,119,79,166,65,124,131,27,231,129,61,148,68,114,223,55,107,84,161,69,110,44,115,136,116,128,164,108,32,60,149,276,249,165,121,34,278,117,83,113,227,33,268,225,174,104,105,156,127],n=(0,t.T)({id:"homepage.slogan",message:"\u7CBE\u9009 AI \u63D0\u793A\u8BCD\uFF0C\u8BA9\u6BCF\u6B21\u5BF9\u8BDD\u66F4\u9AD8\u6548"}),l=(0,t.T)({id:"homepage.title",message:"AiShort - AI\u63D0\u793A\u8BCD\u6A21\u677F\u5E93 | \u7CBE\u9009Prompt\u6307\u4EE4 | \u4E00\u952E\u63D0\u5347\u751F\u4EA7\u529B"}),c=(0,t.T)({id:"homepage.description",message:"\u4E3A\u4EC0\u4E48AI\u603B\u662F\u7B54\u975E\u6240\u95EE\uFF1FAiShort\u6536\u5F55\u5B9E\u7528AI\u63D0\u793A\u8BCD\u6A21\u677F\uFF0C\u8986\u76D6\u5199\u4F5C\u3001\u7F16\u7A0B\u3001\u7FFB\u8BD1\u573A\u666F\uFF0C\u4E00\u952E\u590D\u5236\u4F7F\u7528\uFF0C\u8BA9AI\u7CBE\u51C6\u7406\u89E3\u6307\u4EE4\uFF0C\u8F93\u51FA\u4E13\u4E1A\u7ED3\u679C\uFF0C\u5DE5\u4F5C\u6548\u7387\u77AC\u95F4\u7FFB\u500D\uFF01"}),d=(0,t.T)({id:"community.title",message:"AI\u63D0\u793A\u8BCD\u793E\u533A - \u53D1\u73B0\u5206\u4EAB\u4F18\u8D28Prompt | AiShort\u521B\u4F5C\u4EA4\u6D41\u5E73\u53F0"}),h=(0,t.T)({id:"community.description",message:"\u60F3\u8981\u66F4\u591A\u5B9E\u6218\u7EA7AI\u63D0\u793A\u8BCD\uFF1F\u52A0\u5165AiShort\u793E\u533A\uFF0C\u53D1\u73B0\u7528\u6237\u5206\u4EAB\u7684\u5B9E\u7528Prompt\u6A21\u677F\uFF0C\u4EA4\u6D41\u4F18\u5316\u6280\u5DE7\uFF0C\u5171\u540C\u6253\u9020\u9AD8\u8D28\u91CF\u63D0\u793A\u8BCD\u8D44\u6E90\u5E93\u3002"})},74922:function(e,s,r){r.d(s,{O:()=>n,c:()=>o});var t=r(74848),i=r(96540),a=r(46524);let o=(0,i.createContext)({userAuth:null,refreshUserAuth:()=>{},setUserAuth:e=>{},isLoading:!1});function n({children:e}){let[s,r]=(0,i.useState)(null),[n,l]=(0,i.useState)(!0),c=(0,i.useCallback)(async()=>{(0,i.startTransition)(()=>l(!0));try{let e=await (0,a.nE)();(0,i.startTransition)(()=>r(e))}catch(e){console.error("Failed to fetch user data:",e)}finally{(0,i.startTransition)(()=>l(!1))}},[]);(0,i.useEffect)(()=>{c()},[]);let d=(0,i.useMemo)(()=>({userAuth:s,setUserAuth:r,refreshUserAuth:c,isLoading:n}),[s,c,n]);return(0,t.jsx)(o.Provider,{value:d,children:e})}},93770:function(e,s,r){r.d(s,{G:()=>x,R:()=>g});var t=r(74848),i=r(96540),a=r(39836),o=r(43789),n=r(76677),l=r(85332),c=r(78557),d=r(91436),h=r(87887),m=r(68702),u=r(42993),p=r(66552);let x=i.memo(({commuPrompt:e})=>{let{copied:s,copyText:r}=(0,m.C)(),[x,g]=(0,i.useState)(e.description),[j,y]=(0,i.useState)(!1),A=(0,i.useCallback)(()=>{y(e=>!e)},[]),f=(0,i.useCallback)(()=>{e.notes&&g(s=>s===e.description?e.notes:e.description)},[e.notes,e.description]),w=(0,i.useCallback)(()=>{r(e.description)},[r,e.description]),v=x||e.description;return(0,t.jsx)("li",{className:"card shadow--md",children:(0,t.jsxs)("div",{className:(0,a.A)("card__body"),style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:(0,a.A)(p.A.showcaseCardHeader),children:[(0,t.jsxs)("div",{className:`${p.A.showcaseCardTitle} ${p.A.shortEllipsis}`,children:[(0,t.jsx)("span",{className:p.A.showcaseCardLink,style:{color:"var(--ifm-color-primary)"},children:e.title}),(0,t.jsxs)("span",{style:{fontSize:"12px",color:"#999",marginLeft:"6px"},children:["@",e.owner]})]}),(0,t.jsx)(n.Ay,{onClick:w,children:s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.A,{})," ",(0,t.jsx)(o.A,{id:"theme.CodeBlock.copied",children:"\u5DF2\u590D\u5236"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.A,{})," ",(0,t.jsx)(o.A,{id:"theme.CodeBlock.copy",children:"\u590D\u5236"})]})})]}),e.remark&&(0,t.jsxs)("p",{className:p.A.showcaseCardBody,style:{maxHeight:68},children:["\u{1F449} ",e.remark]}),(0,t.jsxs)("div",{className:p.A.descriptionWrapper,children:[(0,t.jsx)("p",{onClick:f,className:`${p.A.showcaseCardBody} ${e.notes?p.A.clickable:""}`,children:j?v:(0,u.xv)(v)}),!j&&v.length>u.E2&&(0,t.jsx)("div",{className:p.A.gradientOverlay,children:(0,t.jsx)(l.A,{title:(0,t.jsx)(o.A,{children:"\u52A0\u8F7D\u66F4\u591A"}),children:(0,t.jsx)(h.A,{onClick:A,className:p.A.downIcon})})})]})]}),(0,t.jsx)("div",{style:{display:"flex",justifyContent:"space-between"}})]})})}),g=i.memo(({commuPrompt:e})=>{let[s,r]=(0,i.useState)(e.description),[n,c]=(0,i.useState)(!1),d=(0,i.useCallback)(()=>{c(e=>!e)},[]),m=(0,i.useCallback)(()=>{e.notes&&r(s=>s===e.description?e.notes:e.description)},[e.notes,e.description]),x=s||e.description;return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:(0,a.A)(p.A.showcaseCardHeader),children:(0,t.jsxs)("div",{className:`${p.A.showcaseCardTitle} ${p.A.shortEllipsis}`,children:[(0,t.jsx)("span",{className:p.A.showcaseCardLink,style:{color:"var(--ifm-color-primary)"},children:e.title}),(0,t.jsxs)("span",{style:{fontSize:"12px",color:"#999",marginLeft:"6px"},children:["@",e.owner]})]})}),e.remark&&(0,t.jsxs)("p",{className:p.A.showcaseCardBody,style:{maxHeight:68},children:["\u{1F449} ",e.remark]}),(0,t.jsxs)("div",{className:p.A.descriptionWrapper,children:[(0,t.jsx)("p",{onClick:m,className:`${p.A.showcaseCardBody} ${e.notes?p.A.clickable:""}`,children:n?x:(0,u.xv)(x)}),!n&&x.length>u.E2&&(0,t.jsx)("div",{className:p.A.gradientOverlay,children:(0,t.jsx)(l.A,{title:(0,t.jsx)(o.A,{children:"\u52A0\u8F7D\u66F4\u591A"}),children:(0,t.jsx)(h.A,{onClick:d,className:p.A.downIcon})})})]})]})})},92396:function(e,s,r){r.d(s,{A:()=>E});var t=r(74848),i=r(96540),a=r(56523),o=r(29312),n=r(25002),l=r(75974),c=r(80520),d=r(76677),h=r(48284),m=r(37029),u=r(22029),p=r(28249),x=r(66563),g=r(56650),j=r(23219),y=r(38725),A=r(43789),f=r(69774),w=r(46524),v=r(61162);let k=e=>`https://api.newzone.top${e}`;async function b(){let e=f.A.canUseDOM?`${window.location.origin}/user/auth`:null,s=new URL("https://gauth.aishort.top/api/connect/google");return e&&s.searchParams.set("redirect",e),s.toString()}async function C(e){if(!e)throw Error("Missing Google authentication payload.");if("object"==typeof e){let s=e.jwt||e.access_token||e.id_token||e.token;if(s){let r=T(e.user);if(r)return{token:s,user:r};let t=await S(s);return{token:s,user:t}}}let s=new URL(k("/api/connect/google/callback"));"string"==typeof e?s.searchParams.set("code",e):"object"==typeof e&&Object.entries(e).forEach(([e,r])=>{null!=r&&("rawParams"===e&&"object"==typeof r?Object.entries(r).forEach(([e,r])=>{null!=r&&s.searchParams.set(e,r)}):"object"==typeof r?s.searchParams.set(e,JSON.stringify(r)):s.searchParams.set(e,r))});try{let{data:e}=await v.A.get(s.toString(),{timeout:3e4,withCredentials:!0});if(!e?.jwt||!e?.user)throw Error("Invalid response from Strapi Google callback.");return{token:e.jwt,user:e.user}}catch(e){if(console.error("Error authenticating user with Google:",e),e?.code==="ECONNABORTED")throw Error("Request timed out. Please try again.");throw e}}async function S(e){if(!e)throw Error("Missing authentication token.");try{let{data:s}=await v.A.get(k("/api/users/me"),{headers:{Authorization:`Bearer ${e}`}});return s}catch(e){throw console.error("Error fetching authenticated user details:",e),e}}let T=e=>{if(e){if("object"==typeof e)return e;if("string"==typeof e)try{return JSON.parse(decodeURIComponent(e))}catch(e){console.error("Failed to parse user payload from Google authentication response:",e)}}},{Title:I}=a.A,F={username:[{required:!0,message:(0,A.T)({id:"input.rules.username",message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D\u6216\u6CE8\u518C\u90AE\u7BB1\uFF01"})}],password:[{required:!0,message:(0,A.T)({id:"input.rules.password",message:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})},{min:6,message:(0,A.T)({id:"input.password.valid",message:"\u5BC6\u7801\u957F\u5EA6\u81F3\u5C11\u4E3A 6 \u4E2A\u5B57\u7B26"})}],email:[{required:!0,message:(0,A.T)({id:"input.rules.email",message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\uFF01"})},{type:"email",message:(0,A.T)({id:"input.email.valid",message:"\u8BF7\u8F93\u5165\u6709\u6548\u7684\u90AE\u7BB1\u5730\u5740\uFF01"})}]},E=()=>{let[e,s]=(0,i.useState)(!1),[r,a]=(0,i.useState)("1"),[v,k]=o.Ay.useMessage(),[S,T]=(0,i.useState)(Date.now()),[E]=n.A.useForm(),[P]=n.A.useForm(),[_]=n.A.useForm(),[L]=n.A.useForm(),N=(0,i.useCallback)(()=>{a("3")},[]),B=(0,i.useCallback)(()=>{a("4")},[]),z=(0,i.useCallback)((e,s)=>{f.A.canUseDOM&&(localStorage.setItem("auth_token",s),window.postMessage({action:"login",username:e,jwt:s},"*"),setTimeout(()=>{window.location.reload()},500))},[]);(0,i.useEffect)(()=>{let e=async e=>{if(e?.source===window)return;let r=e?.data;if(r&&("google"===r.provider||r.jwt||r.access_token||r.id_token||r.code)){s(!0);try{let e=await C(r);if(!e?.token||!e?.user?.username)throw Error("Invalid Google authentication response.");z(e.user.username,e.token)}catch(s){console.error("Google login handler failed:",s);let e=s instanceof Error?s.message:"Unknown error";v.error("Login failed: "+e)}finally{s(!1)}}};return window.addEventListener("message",e,!1),()=>{window.removeEventListener("message",e)}},[v,z]);let O=async()=>{s(!0);let e=null;try{if(!(e=window.open("","gauth-login","popup,location=yes,height=570,width=520,scrollbars=yes,status=yes,resizable=yes"))||e.closed||void 0===e.closed)throw Error("Pop-up window blocked. Please allow pop-ups and try again.");e.document.write('<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Google Login</title><style>html,body{margin:0;padding:0;height:100%;}body{display:flex;align-items:center;justify-content:center;font-family:Arial,sans-serif;color:#444;background:#f7f7f7;} .wrapper{box-sizing:border-box;text-align:center;padding:24px 16px;width:100%;max-width:320px;margin:0 auto;} .spinner{margin:0 auto 16px;border:4px solid #e0e0e0;border-top:4px solid #4285f4;border-radius:50%;width:40px;height:40px;animation:spin 1s linear infinite;} @keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}</style></head><body><div class="wrapper"><div class="spinner"></div><p>Redirecting to Google sign-in...</p></div></body></html>'),e.document.close();let s=await b();if(!s)throw Error("Failed to generate Google authentication URL.");e.location.href=s,e.focus()}catch(r){e&&!e.closed&&e.close();let s=r instanceof Error?r.message:"Unknown error";v.open({type:"error",content:"Error while attempting Google login: "+s})}finally{s(!1)}},$=(0,i.useCallback)(async(e,r,i)=>{s(!0);try{let s=await r(e);z(s.data.user.username,s.data.jwt),v.success(i)}catch(e){try{"Request timed out. Please try again."===e.message?v.error(e.message):e.response?.status===400?v.error(e.response.data.error.message):e.response?.status===429?v.error("Requests are too frequent. Please try again later."):v.error((0,t.jsx)(A.A,{id:"message.error",children:"\u53D1\u751F\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5"}))}catch(e){v.error((0,t.jsx)(A.A,{id:"message.error",children:"\u5904\u7406\u9519\u8BEF\u65F6\u53D1\u751F\u9519\u8BEF"}))}}finally{s(!1)}},[v]),D=async e=>{$(e,w.iD,(0,t.jsx)(A.A,{id:"message.loginSuccess",children:"\u767B\u5F55\u6210\u529F\uFF01"}))},U=async e=>{$(e,w.kz,(0,t.jsx)(A.A,{id:"message.registerSuccess",children:"\u6CE8\u518C\u6210\u529F\uFF01"}))},H=async e=>{s(!0);try{await (0,w.BD)(e.email),v.success((0,t.jsx)(A.A,{id:"message.forgotPassword.success",children:"\u5BC6\u7801\u91CD\u7F6E\u90AE\u4EF6\u5DF2\u53D1\u9001\uFF01"})),_.resetFields()}catch(e){console.error((0,A.T)({id:"error.forgotPassword",message:"Error sending forgot password email:"}),e),v.error((0,t.jsx)(A.A,{id:"message.forgotPassword.error",children:"\u53D1\u9001\u5BC6\u7801\u91CD\u7F6E\u90AE\u4EF6\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"}))}finally{s(!1)}},G=async e=>{s(!0);let r=e.email;try{let e=/\S+@\S+\.\S+/.test(r)?{email:r}:{username:r};await (0,w.U0)(e),v.success((0,t.jsx)(A.A,{id:"message.passwordlessLinkSent",children:"\u514D\u5BC6\u7801\u767B\u5F55\u94FE\u63A5\u5DF2\u53D1\u9001\u5230\u60A8\u7684\u90AE\u7BB1\uFF01"})),L.resetFields()}catch(e){console.error("Error sending passwordless login link:",e),v.error((0,t.jsx)(A.A,{id:"message.errorSendingPasswordlessLink",children:"\u53D1\u9001\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u90AE\u7BB1\u6216\u7528\u6237\u540D"}))}finally{s(!1)}},R=[{key:"1",label:(0,t.jsx)(A.A,{id:"tabs.login",children:"\u767B\u5F55"}),children:(0,t.jsxs)(n.A,{form:E,onFinish:D,layout:"vertical",children:[(0,t.jsx)(n.A.Item,{name:"username",rules:F.username,label:(0,t.jsx)(A.A,{id:"input.username",children:"\u7528\u6237\u540D/\u90AE\u7BB1"}),children:(0,t.jsx)(c.A,{autoComplete:"username",prefix:(0,t.jsx)(g.A,{}),placeholder:(0,A.T)({id:"input.username",message:"\u7528\u6237\u540D/\u90AE\u7BB1"})})}),(0,t.jsx)(n.A.Item,{name:"password",rules:F.password,label:(0,t.jsx)(A.A,{id:"input.password",children:"\u5BC6\u7801"}),children:(0,t.jsx)(c.A.Password,{autoComplete:"current-password",prefix:(0,t.jsx)(j.A,{}),placeholder:(0,A.T)({id:"input.password",message:"\u5BC6\u7801"})})}),(0,t.jsx)(n.A.Item,{children:(0,t.jsxs)(h.A,{direction:"vertical",style:{width:"100%"},children:[(0,t.jsx)(d.Ay,{type:"primary",htmlType:"submit",loading:e,block:!0,children:(0,t.jsx)(A.A,{id:"button.login",children:"\u767B\u5F55"})}),(0,t.jsx)(h.A,{style:{width:"100%",justifyContent:"center"},children:(0,t.jsx)(d.Ay,{onClick:O,icon:(0,t.jsx)(y.A,{}),children:"Login via Google"})}),(0,t.jsxs)(h.A,{style:{width:"100%",justifyContent:"space-between"},children:[(0,t.jsx)(d.Ay,{type:"link",onClick:N,style:{padding:0},children:(0,t.jsx)(A.A,{id:"button.register",children:"\u6CE8\u518C"})}),(0,t.jsx)(d.Ay,{type:"link",onClick:B,style:{padding:0},children:(0,t.jsx)(A.A,{id:"button.forgotPassword",children:"\u5FD8\u8BB0\u5BC6\u7801"})})]})]})})]})},{key:"2",label:(0,t.jsx)(A.A,{id:"tabs.passwordlessLogin",children:"\u514D\u5BC6\u7801\u767B\u5F55"}),children:(0,t.jsxs)(n.A,{form:L,onFinish:G,layout:"vertical",children:[(0,t.jsx)(l.A,{message:(0,t.jsx)(A.A,{id:"message.passwordlessLogin.info",children:"\u767B\u5F55\u94FE\u63A5\u5C06\u53D1\u9001\u81F3\u60A8\u7684\u90AE\u7BB1\uFF0C\u70B9\u51FB\u5373\u53EF\u767B\u5F55\uFF0C\u65E0\u9700\u8F93\u5165\u5BC6\u7801"}),type:"info",showIcon:!0,style:{marginBottom:16}}),(0,t.jsx)(n.A.Item,{name:"email",rules:F.username,label:(0,t.jsx)(A.A,{id:"input.username",children:"\u7528\u6237\u540D/\u90AE\u7BB1"}),children:(0,t.jsx)(c.A,{autoComplete:"username",prefix:(0,t.jsx)(x.A,{}),placeholder:(0,A.T)({id:"input.username",message:"\u7528\u6237\u540D/\u90AE\u7BB1"})})}),(0,t.jsx)(n.A.Item,{children:(0,t.jsx)(d.Ay,{type:"primary",htmlType:"submit",loading:e,block:!0,children:(0,t.jsx)(A.A,{id:"button.sendPasswordlessLink",children:"\u83B7\u53D6\u514D\u5BC6\u7801\u767B\u5F55\u94FE\u63A5"})})})]})},{key:"3",label:(0,t.jsx)(A.A,{id:"button.register",children:"\u6CE8\u518C"}),children:(0,t.jsxs)(n.A,{form:P,onFinish:U,layout:"vertical",children:[(0,t.jsx)(n.A.Item,{name:"username",rules:F.username,label:(0,t.jsx)(A.A,{id:"input.register.username",children:"\u7528\u6237\u540D"}),children:(0,t.jsx)(c.A,{autoComplete:"username",prefix:(0,t.jsx)(g.A,{}),placeholder:(0,A.T)({id:"input.register.username",message:"\u7528\u6237\u540D"})})}),(0,t.jsx)(n.A.Item,{name:"email",rules:F.email,label:(0,t.jsx)(A.A,{id:"input.email",children:"\u90AE\u7BB1"}),children:(0,t.jsx)(c.A,{autoComplete:"email",prefix:(0,t.jsx)(x.A,{}),placeholder:(0,A.T)({id:"input.email",message:"\u90AE\u7BB1"})})}),(0,t.jsx)(n.A.Item,{name:"password",rules:F.password,label:(0,t.jsx)(A.A,{id:"input.password",children:"\u5BC6\u7801"}),hasFeedback:!0,children:(0,t.jsx)(c.A.Password,{autoComplete:"new-password",prefix:(0,t.jsx)(j.A,{}),placeholder:(0,A.T)({id:"input.password",message:"\u5BC6\u7801"})})}),(0,t.jsx)(n.A.Item,{name:"agreement",valuePropName:"checked",rules:[{validator:(e,s)=>s?Promise.resolve():Promise.reject(Error((0,A.T)({id:"agreement.rules",message:"\u4F7F\u7528\u524D\u987B\u540C\u610F\u670D\u52A1\u6761\u6B3E\u548C\u9690\u79C1\u653F\u7B56"})))}],children:(0,t.jsxs)(m.A,{children:[(0,t.jsx)(A.A,{id:"agreement.text",children:"\u70B9\u6B64\u540C\u610F"})," ",(0,t.jsx)("a",{href:"/docs/terms-of-service",children:(0,t.jsx)(A.A,{id:"agreement.terms",children:"\u670D\u52A1\u6761\u6B3E"})})," ",(0,t.jsx)(A.A,{id:"agreement.and",children:"\u548C"})," ",(0,t.jsx)("a",{href:"/docs/privacy-policy",children:(0,t.jsx)(A.A,{id:"agreement.policy",children:"\u9690\u79C1\u653F\u7B56"})})]})}),(0,t.jsx)(n.A.Item,{children:(0,t.jsx)(d.Ay,{type:"primary",htmlType:"submit",loading:e,block:!0,children:(0,t.jsx)(A.A,{id:"button.register",children:"\u6CE8\u518C"})})})]})},{key:"4",label:(0,t.jsx)(A.A,{id:"label.forgotPassword",children:"\u5FD8\u8BB0\u5BC6\u7801"}),children:(0,t.jsxs)(n.A,{form:_,onFinish:H,layout:"vertical",children:[(0,t.jsx)(l.A,{message:(0,t.jsx)(A.A,{id:"message.forgotPassword.info",children:"\u91CD\u7F6E\u5BC6\u7801\u94FE\u63A5\u5C06\u53D1\u9001\u81F3\u60A8\u7684\u90AE\u7BB1"}),type:"info",showIcon:!0,style:{marginBottom:16}}),(0,t.jsx)(n.A.Item,{name:"email",label:(0,t.jsx)(A.A,{id:"input.email",children:"\u90AE\u7BB1"}),rules:F.email,children:(0,t.jsx)(c.A,{autoComplete:"email",prefix:(0,t.jsx)(x.A,{}),placeholder:(0,A.T)({id:"placeholder.email",message:"\u90AE\u7BB1"})})}),(0,t.jsx)(n.A.Item,{children:(0,t.jsx)(d.Ay,{type:"primary",htmlType:"submit",loading:e,block:!0,children:(0,t.jsx)(A.A,{id:"button.sendResetEmail",children:"\u53D1\u9001\u5BC6\u7801\u91CD\u7F6E\u90AE\u4EF6"})})})]})}];return(0,t.jsxs)(t.Fragment,{children:[k,(0,t.jsx)(u.A,{title:(0,t.jsx)(I,{level:4,children:(0,t.jsx)(A.A,{id:"card.welcome",children:"\u6B22\u8FCE"})}),style:{maxWidth:480,margin:"0 auto"},children:(0,t.jsx)(p.A,{defaultActiveKey:"1",activeKey:r,onChange:e=>{a(e),T(Date.now()),E.resetFields(),P.resetFields(),_.resetFields(),L.resetFields()},items:R,destroyOnHidden:!0},S)})]})}},24838:function(e,s,r){r.r(s),r.d(s,{default:()=>R});var t=r(74848),i=r(96540),a=r(39836),o=r(43789),n=r(68702),l=r(26976),c=r(12801),d=r(46524),h=r(92396),m=r(74922),u=r(55206),p=r(80520),x=r(56523),g=r(75323),j=r(48284),y=r(85332),A=r(76677),f=r(29312),w=r(94252),v=r(80574),k=r(15437),b=r(78557),C=r(91436),S=r(93861),T=r(78502),I=r(87887),F=r(41291),E=r(25038),P=r(10318),_=r(93770);let L=i.lazy(()=>Promise.all([r.e("5005"),r.e("37"),r.e("6568")]).then(r.bind(r,16541))),N=i.lazy(()=>r.e("803").then(r.bind(r,93141))),{Search:B}=p.A,{Text:z}=x.A,O=12,$=i.memo(()=>(0,t.jsx)("li",{className:"card shadow--md",children:(0,t.jsxs)("div",{className:(0,a.A)("card__body"),style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",minHeight:"300px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(g.A.Input,{active:!0,style:{width:"75%",height:"20px",marginBottom:"8px"}}),(0,t.jsx)(g.A.Input,{active:!0,style:{width:"30%",height:"14px",marginBottom:"12px"}}),(0,t.jsx)(g.A,{active:!0,title:!1,paragraph:{rows:3,width:["100%","90%","70%"]}})]}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"8px"},children:[(0,t.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,t.jsx)(g.A.Button,{active:!0,size:"small"}),(0,t.jsx)(g.A.Button,{active:!0,size:"small"})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,t.jsx)(g.A.Button,{active:!0,size:"small"}),(0,t.jsx)(g.A.Button,{active:!0,size:"small"})]})]})]})})),D=i.memo(({count:e=O})=>(0,t.jsx)(t.Fragment,{children:Array.from({length:e},(e,s)=>(0,t.jsx)($,{},s))})),U=Array.from({length:12},(e,s)=>(0,t.jsx)($,{},s)),H=i.memo(({commuPrompt:e,onVote:s,onBookmark:r,votedUpPromptIds:i,votedDownPromptIds:l,userAuth:c,messageApi:d})=>{let{copied:h,copyText:m}=(0,n.C)();return(0,t.jsx)("li",{className:"card shadow--md",children:(0,t.jsxs)("div",{className:(0,a.A)("card__body"),style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[(0,t.jsx)(_.R,{commuPrompt:e}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,t.jsxs)(j.A.Compact,{children:[(0,t.jsx)(y.A,{title:(0,o.T)({id:"theme.CodeBlock.copy",message:"\u590D\u5236"}),children:(0,t.jsx)(A.Ay,{onClick:()=>{m(e.description)},children:h?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.A,{})," ",(0,t.jsx)(o.A,{id:"theme.CodeBlock.copied",children:"\u5DF2\u590D\u5236"})]}):(0,t.jsx)(C.A,{})})}),(0,t.jsx)(y.A,{title:(0,o.T)({message:"\u6536\u85CF"}),children:(0,t.jsx)(A.Ay,{onClick:()=>{c?(s(e.id,"upvote"),r(e.id)):d.warning("Please log in to bookmark.")},children:(0,t.jsx)(S.A,{})})})]}),(0,t.jsxs)(j.A.Compact,{children:[(0,t.jsx)(y.A,{title:(0,o.T)({id:"upvote",message:"\u8D5E"}),children:(0,t.jsxs)(A.Ay,{onClick:()=>{c?s(e.id,"upvote"):d.warning("Please log in to vote.")},children:[(0,t.jsx)(T.A,{}),i.includes(e.id)?(e.upvotes||0)+1:e.upvotes||0]})}),(0,t.jsx)(y.A,{title:(0,o.T)({id:"downvote",message:"\u8E29"}),children:(0,t.jsxs)(A.Ay,{onClick:()=>{c?s(e.id,"downvote"):d.warning("Please log in to vote.")},children:[(0,t.jsx)(I.A,{}),l.includes(e.id)?(e.downvotes||0)+1:e.downvotes||0]})})]})]})]})})}),G=()=>{let{userAuth:e}=(0,i.useContext)(m.c),[s,r]=f.Ay.useMessage(),[n,p]=(0,i.useState)(!1),[x,g]=(0,i.useState)(!0),[y,b]=(0,i.useState)([]),[C,T]=(0,i.useState)(1),[_,$]=(0,i.useState)(0),[G,R]=(0,i.useState)("id"),[M,q]=(0,i.useState)("desc"),[W,J]=(0,i.useState)(""),[Y,Z]=(0,i.useState)(""),[K,Q]=(0,i.useState)([]),[X,V]=(0,i.useState)([]);(0,i.useEffect)(()=>{Z(window.location.href)},[]),(0,i.useEffect)(()=>{g(!0),ee(C,O,G,M,W)},[C,G,M,W]);let ee=(0,i.useCallback)(async(e,r,t,i,a)=>{try{let o=await (0,d.y$)(e,r,t,i,a);o&&o[0].length>0?(b(o[0]),$(o[1].data.meta.pagination.total)):o&&0===o[0].length&&(a&&s.info("No results found for your search."),b([]),$(0))}catch(e){console.error("Failed to fetch community prompts:",e),s.error("Failed to fetch data")}finally{g(!1)}},[s]),es=(0,i.useCallback)(r=>{if(!e){p(!0),s.warning("Please log in to search.");return}J(r),T(1)},[e,s]),er=(0,i.useCallback)(async(e,r)=>{if(!("upvote"===r&&K.includes(e))&&!("downvote"===r&&X.includes(e)))try{await (0,d.HJ)(e,r),s.success(`Successfully ${r}d!`),("upvote"===r?Q:V)(s=>[...s,e])}catch(e){s.error(`Failed to ${r}. Error: ${e}`)}},[K,X,s]),et=(0,i.useCallback)(async r=>{try{let t,i;if(e.data.favorites)t=e.data.favorites.commLoves||[],i=e.data.favorites.id,t.includes(r)||(t.push(r),s.open({type:"success",content:"Added to favorites successfully!"}));else{let e=await (0,d.vN)([r],!0);t=[r],i=e.data.id}await (0,d.O)(i,t,!0)}catch(e){s.open({type:"error",content:`Failed to add to favorites. Error: ${e}`})}},[e,s]),ei=(0,i.useCallback)(e=>{T(e)},[]),ea=(0,i.useCallback)(e=>{T(1),R(e.key)},[]),eo=(0,i.useCallback)(e=>{T(1),q(e.key)},[]),en={items:[{label:(0,o.T)({id:"field.id",message:"\u53D1\u5E03\u65F6\u95F4"}),key:"id"},{label:(0,o.T)({id:"field.upvoteDifference",message:"\u6295\u7968\u652F\u6301"}),key:"upvoteDifference"}],onClick:ea},el={items:[{label:(0,o.T)({id:"order.ascending",message:"\u5347\u5E8F"}),key:"asc"},{label:(0,o.T)({id:"order.descending",message:"\u964D\u5E8F"}),key:"desc"}],onClick:eo};return"undefined"!=typeof document&&document.documentElement.getAttribute("data-theme"),(0,t.jsx)(u.A,{title:P.Fu,description:P.$p,children:(0,t.jsxs)("main",{className:"margin-vert--md",children:[r,(0,t.jsx)("section",{className:"margin-top--sm margin-bottom--sm",children:(0,t.jsxs)("div",{className:"container padding-vert--md",children:[(0,t.jsxs)(j.A,{wrap:!0,style:{marginBottom:"20px"},children:[(0,t.jsxs)(c.A,{to:"/",className:"mainLink",children:[(0,t.jsx)(F.A,{})," ",(0,t.jsx)(o.A,{id:"link.home",children:"\u8FD4\u56DE\u9996\u9875"})]}),e?(0,t.jsxs)(c.A,{to:"/user/favorite",className:"mainLink",children:[(0,t.jsx)(S.A,{})," ",(0,t.jsx)(o.A,{id:"link.myfavorite",children:"\u6211\u7684\u6536\u85CF"})]}):(0,t.jsxs)(A.Ay,{onClick:()=>p(!0),children:[(0,t.jsx)(E.A,{})," ",(0,t.jsx)(o.A,{id:"button.login",children:"\u767B\u5F55"})]}),(0,t.jsx)(w.A.Button,{icon:(0,t.jsx)(I.A,{}),menu:en,children:"id"===G?(0,t.jsx)(o.A,{id:"field.id",children:"\u53D1\u5E03\u65F6\u95F4"}):(0,t.jsx)(o.A,{id:"field.upvoteDifference",children:"\u652F\u6301\u5EA6"})}),(0,t.jsx)(w.A.Button,{icon:(0,t.jsx)(I.A,{}),menu:el,children:"asc"===M?(0,t.jsx)(o.A,{id:"order.ascending",children:"\u5347\u5E8F"}):(0,t.jsx)(o.A,{id:"order.descending",children:"\u964D\u5E8F"})}),(0,t.jsx)(B,{placeholder:"Search",onSearch:es,style:{width:200},allowClear:!0})]}),(0,t.jsx)("ul",{className:(0,a.A)("clean-list",l.A.showcaseList),children:x?12===O?U:(0,t.jsx)(D,{count:O}):y.map(r=>(0,t.jsx)(H,{commuPrompt:r,onVote:er,onBookmark:et,votedUpPromptIds:K,votedDownPromptIds:X,userAuth:e,messageApi:s},r.id))}),(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,t.jsx)(v.A,{current:C,pageSize:O,total:_,showQuickJumper:!0,showSizeChanger:!1,onChange:ei})}),(0,t.jsx)(i.Suspense,{fallback:null,children:(0,t.jsx)(N,{type:"transverse"})}),(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"10px"},children:(0,t.jsx)(z,{type:"secondary",style:{color:"var(--ifm-color-secondary)",fontSize:"10px"},children:(0,o.T)({id:"info.communityPrompts",message:"\u672C\u9875\u9762\u5C55\u793A\u7684\u63D0\u793A\u8BCD\u5747\u7531\u7F51\u53CB\u5206\u4EAB\u548C\u4E0A\u4F20\uFF0C\u6211\u4EEC\u65E0\u6CD5\u4FDD\u8BC1\u5185\u5BB9\u7684\u51C6\u786E\u6027\u3001\u8D28\u91CF\u6216\u5B8C\u6574\u6027\uFF0C\u540C\u65F6\u4E5F\u4E0D\u5BF9\u56E0\u5185\u5BB9\u5F15\u53D1\u7684\u4EFB\u4F55\u6CD5\u5F8B\u8D23\u4EFB\u627F\u62C5\u8D23\u4EFB\u3002\u5982\u679C\u53D1\u73B0\u6709\u4FB5\u6743\u6216\u8005\u5176\u4ED6\u95EE\u9898\uFF0C\u53EF\u4EE5\u8054\u7CFB\u6211\u4EEC\u8FDB\u884C\u5904\u7406\u3002\u6211\u4EEC\u5C06\u5728\u6536\u5230\u901A\u77E5\u540E\u5C3D\u5FEB\u5904\u7406\u3002"})})}),(0,t.jsx)(k.A,{open:n,footer:null,onCancel:()=>p(!1),children:(0,t.jsx)(h.A,{})}),(0,t.jsx)(i.Suspense,{fallback:null,children:(0,t.jsx)(L,{shareUrl:Y,title:P.Fu,popOver:!1})})]})})]})})};function R(){return(0,t.jsx)(m.O,{children:(0,t.jsx)(G,{})})}}}]);