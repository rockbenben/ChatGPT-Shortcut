"use strict";(self.webpackChunkchatgpt_shortcut=self.webpackChunkchatgpt_shortcut||[]).push([["2233"],{36677(e,t,s){s.r(t),s.d(t,{default:()=>$});var r=s(74848),i=s(96540),a=s(30568),n=s(89986),l=s(65232),o=s(18495),d=s(78667),c=s(53926),m=s(75292),h=s(54162),u=s(74750),g=s(95531),p=s(46942),x=s.n(p),y=s(28293),j=s(35710);let f=({actions:e,author:t,avatar:s,children:a,className:n,content:l,datetime:o,style:d})=>{let{getPrefixCls:c,direction:m}=i.useContext(y.Ay.ConfigContext),{token:h}=j.A.useToken(),u=c("comment"),g=s?(0,r.jsx)("div",{className:`${u}-avatar`,style:{marginInlineEnd:h.marginXS,flexShrink:0},children:"string"==typeof s?(0,r.jsx)("img",{src:s,alt:"comment-avatar",style:{width:32,height:32,borderRadius:"50%"}}):s}):null,p=e?.length?(0,r.jsx)("ul",{className:`${u}-actions`,style:{paddingInlineStart:0,listStyle:"none"},children:e.map((e,t)=>(0,r.jsx)("li",{style:{display:"inline-block",color:h.colorTextSecondary,fontSize:h.fontSizeSM},children:(0,r.jsx)("span",{style:{cursor:"pointer",transition:"all 0.3s",userSelect:"none"},children:e})},`action-${t}`))}):null,f=(t||o)&&(0,r.jsxs)("div",{className:`${u}-content-author`,style:{marginBottom:h.marginXXS,display:"flex",flexWrap:"wrap",alignItems:"center",gap:h.marginXXS},children:[t&&(0,r.jsx)("span",{className:`${u}-content-author-name`,style:{color:h.colorTextSecondary,fontSize:h.fontSize,marginInlineEnd:h.marginXS},children:t}),o&&(0,r.jsx)("span",{className:`${u}-content-author-time`,style:{color:h.colorTextTertiary,fontSize:h.fontSizeSM,whiteSpace:"nowrap"},children:o})]}),A=(0,r.jsxs)("div",{className:`${u}-content`,style:{flex:"1 1 auto",minWidth:0,overflow:"hidden"},children:[f,(0,r.jsx)("div",{className:`${u}-content-detail`,style:{marginTop:h.marginXXS},children:l}),p]}),w=x()(u,{[`${u}-rtl`]:"rtl"===m},n);return(0,r.jsxs)("div",{className:w,style:{...d,position:"relative"},children:[(0,r.jsxs)("div",{className:`${u}-inner`,style:{display:"flex",padding:`${h.paddingXS}px 0`,gap:h.marginXS,minWidth:0},children:[g,A]}),a&&(0,r.jsx)("div",{className:`${u}-nested`,style:{marginInlineStart:32,marginTop:h.marginXS,paddingInlineStart:8},children:a})]})};var A=s(26067),w=s(28608);let b="36zezehgQXZMRV6Mko784D9OEBm0UHiP";new w.uK(b);let k=({onGifSelect:e,isDarkMode:t,width:s=450,height:i=300,columns:a=3,gutter:n=6,limit:l=10})=>(0,r.jsx)(A.hP,{apiKey:b,theme:{darkMode:t,searchbarHeight:32},children:(0,r.jsxs)("div",{className:"giphy-selector",style:{maxWidth:s,marginLeft:"5px"},children:[(0,r.jsx)(A.IW,{}),(0,r.jsx)("div",{style:{height:i,overflowY:"auto",scrollbarWidth:"thin"},children:(0,r.jsx)(A.o7.Consumer,{children:({fetchGifs:t,searchKey:i})=>(0,r.jsx)(A.xA,{onGifClick:(t,s)=>{s.preventDefault(),e(t)},fetchGifs:t,width:s,columns:a,gutter:n},i)})})]})});var S=s(26453),v=s(61063),C=s(74353),T=s.n(C),F=s(6279),E=s.n(F),I=s(38221),P=s.n(I),L=s(93692),M=s(70410),D=s(15748),G=s(91289);T().extend(E());let N=["#1E88E5","#43A047","#FF5722","#E53935","#8E24AA","#FDD835","#1565C0","#283593","#2E7D32","#C2185B","#4CAF50","#9C27B0","#607D8B","#424242","#1976D2"],$=({pageId:e,type:t})=>{let s,p=(s=(0,i.useMemo)(()=>new Map,[]),(0,i.useCallback)(e=>{if(!e)return"#607D8B";if(s.has(e))return s.get(e);let t=N[Math.abs(e.split("").reduce((e,t)=>e+t.charCodeAt(0),0))%N.length];return s.set(e,t),t},[])),[x,y]=(0,i.useState)(0),[j,A]=(0,i.useState)(!1),[w,b]=(0,i.useState)(!1),[C,F]=(0,i.useState)(!1),[E,I]=(0,i.useState)(!1),[$,z]=(0,i.useState)([]),[R]=n.A.useForm(),[O]=n.A.useForm(),[B,V]=(0,i.useState)(null),[U,X]=(0,i.useState)(!1),[q,_]=(0,i.useState)(!1),[W,H]=(0,i.useState)(1),[J,K]=(0,i.useState)(0),[Q,Y]=(0,i.useState)(!1),[Z,ee]=(0,i.useState)(!0);(0,i.useEffect)(()=>{y((()=>{if(!G.A.canUseDOM)return 0;let e=localStorage.getItem("auth_token");if(!e)return 0;let t=(e=>{try{let t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(atob(t).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(s)}catch(e){return null}})(e);return t?.id||0})())},[]),(0,i.useEffect)(()=>{Y("dark"===document.documentElement.getAttribute("data-theme"))},[]);let et=(0,i.useCallback)(async()=>{ee(!0);try{let s=await (0,v.vr)(e,W,12,t);if(s){let e=en(s.data);z(e),K(s.meta.pagination.total)}}finally{ee(!1)}},[e,W,12,t]);(0,i.useEffect)(()=>{et()},[et,B,U]),(0,i.useEffect)(()=>{let e=localStorage.getItem("savedComment"),t=localStorage.getItem("savedReply");e&&R.setFieldsValue({comment:e}),t&&O.setFieldsValue({reply:t})},[]);let es=P()(e=>{e&&localStorage.setItem("savedComment",e)},300),er=P()(e=>{e&&localStorage.setItem("savedReply",e)},300),ei=(e,t)=>{void 0!==e.reply&&er(e.reply)},ea=(e,t)=>{switch(e){case"emojiPicker":b(!1),I(!1),"reply"===t?(A(!1),F(e=>!e)):(F(!1),A(e=>!e));break;case"giphySearchBox":A(!1),F(!1),"reply"===t?(b(!1),I(e=>!e)):(I(!1),b(e=>!e))}},en=e=>{let t=new Map,s=[...e].sort((e,t)=>new Date(e.id).getTime()-new Date(t.id).getTime()),r=new Map,i=e=>(r.has(e)||r.set(e,new Date(e).getTime()),r.get(e));for(let e of s)e.children=[],t.set(e.id,e);let a=[];for(let e of s)if(e.threadOf){let s=t.get(e.threadOf.id);s&&s.children.push(e)}else a.push(e);return a.sort((e,t)=>i(t.id)-i(e.id))},el=()=>{_(!0)},eo=()=>{O.resetFields(),V(null)},ed=async s=>{x?(await (0,v.Gy)(e,s.comment,B,t),R.resetFields(),localStorage.removeItem("savedComment"),V(null),X(!U)):el()},ec=async s=>{x?(await (0,v.Gy)(e,s.reply,B,t),O.resetFields(),localStorage.removeItem("savedReply"),V(null),X(!U)):el()},em=e=>{let t=O.getFieldValue("reply");O.setFieldsValue({reply:(t||"")+e.native})},eh=e=>{let t=O.getFieldValue("reply");O.setFieldsValue({reply:(t||"")+`![Gif](${e.images.fixed_height.url})`})},eu=(0,i.useCallback)(e=>(0,r.jsxs)(f,{actions:[(0,r.jsx)("span",{onClick:()=>V(e.id),children:(0,a.T)({id:"comment.reply",message:"\u56DE\u590D"})},"comment-basic-reply-to")],author:e.author?.name,avatar:(0,r.jsx)(d.A,{style:{backgroundColor:p(e.author?.name),color:"#ffffff"},children:(e.author?.name||"").slice(0,3)}),content:(0,r.jsx)(L.oz,{children:e.content}),datetime:T()(e.createdAt).fromNow(),children:[B===e.id&&(0,r.jsxs)(n.A,{form:O,layout:"inline",onFinish:ec,onValuesChange:ei,children:[(0,r.jsx)(n.A.Item,{name:"reply",rules:[{required:!0,message:(0,a.T)({id:"reply.required",message:"\u8BF7\u8F93\u5165\u56DE\u590D\u5185\u5BB9"})},{max:2e3,message:(0,a.T)({id:"comment.maxLength",message:"\u8BC4\u8BBA\u5185\u5BB9\u4E0D\u5E94\u8D85\u8FC72000\u4E2A\u5B57\u7B26"})}],style:{width:"100%",margin:"5px 0"},children:(0,r.jsx)(l.A.TextArea,{rows:4,placeholder:(0,a.T)({id:"comment.placeholder",message:"\u5728\u6B64\u8F93\u5165\u8BC4\u8BBA\u2026\u2026 \u652F\u6301\u4F7F\u7528 Markdown \u548C HTML \u8BED\u6CD5"})})}),(0,r.jsx)(o.Ay,{icon:(0,r.jsx)(u.A,{}),onClick:()=>ea("emojiPicker","reply")}),C&&(0,r.jsx)(D.A,{data:M,theme:Q?"dark":"light",onEmojiSelect:em}),(0,r.jsx)(o.Ay,{icon:(0,r.jsx)(g.A,{}),onClick:()=>ea("giphySearchBox","reply"),style:{marginLeft:"5px"}}),E&&(0,r.jsx)(k,{onGifSelect:eh,isDarkMode:Q}),x?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Ay,{htmlType:"submit",type:"primary",style:{marginLeft:"8px"},children:(0,a.T)({id:"reply.submit",message:"\u56DE\u590D"})}),(0,r.jsx)(o.Ay,{onClick:eo,style:{marginLeft:"10px"},children:(0,a.T)({id:"cancel",message:"\u53D6\u6D88"})})]}):(0,r.jsx)(o.Ay,{onClick:el,type:"primary",style:{marginLeft:"8px"},children:(0,a.T)({id:"button.login",message:"\u767B\u5F55"})})]}),e.children&&e.children.map(e=>eu(e))]},e.id),[x,B,ec,ei]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A,{open:q,onCancel:()=>{_(!1)},footer:null,children:(0,r.jsx)(S.A,{})}),"author"===t?null:(0,r.jsxs)(n.A,{form:R,layout:"inline",onFinish:ed,onValuesChange:(e,t)=>{void 0!==e.comment&&es(e.comment)},children:[(0,r.jsx)(n.A.Item,{name:"comment",rules:[{required:!0,message:(0,a.T)({id:"comment.required",message:"\u8BF7\u8F93\u5165\u8BC4\u8BBA\u5185\u5BB9"})},{max:2e3,message:(0,a.T)({id:"comment.maxLength",message:"\u8BC4\u8BBA\u5185\u5BB9\u4E0D\u5E94\u8D85\u8FC72000\u4E2A\u5B57\u7B26"})}],style:{width:"100%",margin:"10px 0"},children:(0,r.jsx)(l.A.TextArea,{rows:4,placeholder:(0,a.T)({id:"comment.placeholder",message:"\u5728\u6B64\u8F93\u5165\u8BC4\u8BBA\u2026\u2026 \u652F\u6301\u4F7F\u7528 Markdown \u548C HTML \u8BED\u6CD5"})})}),(0,r.jsx)(o.Ay,{icon:(0,r.jsx)(u.A,{}),onClick:()=>ea("emojiPicker","comment")}),j&&(0,r.jsx)(D.A,{data:M,theme:Q?"dark":"light",onEmojiSelect:e=>{let t=R.getFieldValue("comment");R.setFieldsValue({comment:(t||"")+e.native})}}),(0,r.jsx)(o.Ay,{icon:(0,r.jsx)(g.A,{}),onClick:()=>ea("giphySearchBox","comment"),style:{marginLeft:"5px"}}),w&&(0,r.jsx)(k,{onGifSelect:e=>{let t=R.getFieldValue("comment");R.setFieldsValue({comment:(t||"")+`![Gif](${e.images.fixed_height.url})`})},isDarkMode:Q}),x?(0,r.jsx)(o.Ay,{htmlType:"submit",type:"primary",style:{marginLeft:"8px"},children:(0,a.T)({id:"comment.add",message:"\u63D0\u4EA4\u8BC4\u8BBA"})}):(0,r.jsx)(o.Ay,{onClick:el,type:"primary",style:{marginLeft:"8px"},children:(0,a.T)({id:"button.login",message:"\u767B\u5F55"})})]}),(0,r.jsx)("div",{style:{minHeight:200},children:(0,r.jsx)(m.A,{loading:Z,className:"comment-list",header:`${J} ${(0,a.T)({id:"comment.comments",message:"\u8BC4\u8BBA"})}`,itemLayout:"horizontal",dataSource:$,renderItem:eu})}),(0,r.jsx)(h.A,{current:W,pageSize:12,total:J,showQuickJumper:!0,showSizeChanger:!1,onChange:e=>{H(e)}})]})}},26453(e,t,s){s.d(t,{A:()=>I});var r=s(74848),i=s(96540),a=s(24301),n=s(41081),l=s(89986),o=s(94718),d=s(65232),c=s(18495),m=s(36813),h=s(72488),u=s(16629),g=s(17844),p=s(61381),x=s(76164),y=s(51757),j=s(85223),f=s(30568),A=s(91289),w=s(61063),b=s(85430);let k=e=>`https://api.newzone.top${e}`;async function S(){let e=A.A.canUseDOM?`${window.location.origin}/user/auth`:null,t=new URL("https://gauth.aishort.top/api/connect/google");return e&&t.searchParams.set("redirect",e),t.toString()}async function v(e){if(!e)throw Error("Missing Google authentication payload.");if("object"==typeof e){let t=e.jwt||e.access_token||e.id_token||e.token;if(t){let s=T(e.user);if(s)return{token:t,user:s};let r=await C(t);return{token:t,user:r}}}let t=new URL(k("/api/connect/google/callback"));"string"==typeof e?t.searchParams.set("code",e):"object"==typeof e&&Object.entries(e).forEach(([e,s])=>{null!=s&&("rawParams"===e&&"object"==typeof s?Object.entries(s).forEach(([e,s])=>{null!=s&&t.searchParams.set(e,s)}):"object"==typeof s?t.searchParams.set(e,JSON.stringify(s)):t.searchParams.set(e,s))});try{let{data:e}=await b.A.get(t.toString(),{timeout:3e4,withCredentials:!0});if(!e?.jwt||!e?.user)throw Error("Invalid response from Strapi Google callback.");return{token:e.jwt,user:e.user}}catch(e){if(console.error("Error authenticating user with Google:",e),e?.code==="ECONNABORTED")throw Error("Request timed out. Please try again.");throw e}}async function C(e){if(!e)throw Error("Missing authentication token.");try{let{data:t}=await b.A.get(k("/api/users/me"),{headers:{Authorization:`Bearer ${e}`}});return t}catch(e){throw console.error("Error fetching authenticated user details:",e),e}}let T=e=>{if(e){if("object"==typeof e)return e;if("string"==typeof e)try{return JSON.parse(decodeURIComponent(e))}catch(e){console.error("Failed to parse user payload from Google authentication response:",e)}}},{Title:F}=a.A,E={username:[{required:!0,message:(0,f.T)({id:"input.rules.username",message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D\u6216\u6CE8\u518C\u90AE\u7BB1\uFF01"})}],password:[{required:!0,message:(0,f.T)({id:"input.rules.password",message:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})},{min:6,message:(0,f.T)({id:"input.password.valid",message:"\u5BC6\u7801\u957F\u5EA6\u81F3\u5C11\u4E3A 6 \u4E2A\u5B57\u7B26"})}],email:[{required:!0,message:(0,f.T)({id:"input.rules.email",message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\uFF01"})},{type:"email",message:(0,f.T)({id:"input.email.valid",message:"\u8BF7\u8F93\u5165\u6709\u6548\u7684\u90AE\u7BB1\u5730\u5740\uFF01"})}]},I=()=>{let[e,t]=(0,i.useState)(!1),[s,a]=(0,i.useState)("1"),[b,k]=n.Ay.useMessage(),[C,T]=(0,i.useState)(Date.now()),[I]=l.A.useForm(),[P]=l.A.useForm(),[L]=l.A.useForm(),[M]=l.A.useForm(),D=(0,i.useCallback)(()=>{a("3")},[]),G=(0,i.useCallback)(()=>{a("4")},[]),N=(0,i.useCallback)((e,t)=>{A.A.canUseDOM&&(localStorage.setItem("auth_token",t),window.postMessage({action:"login",username:e,jwt:t},"*"),setTimeout(()=>{window.location.reload()},500))},[]);(0,i.useEffect)(()=>{let e=async e=>{if(e?.source===window)return;let s=e?.data;if(s&&("google"===s.provider||s.jwt||s.access_token||s.id_token||s.code)){t(!0);try{let e=await v(s);if(!e?.token||!e?.user?.username)throw Error("Invalid Google authentication response.");N(e.user.username,e.token)}catch(t){console.error("Google login handler failed:",t);let e=t instanceof Error?t.message:"Unknown error";b.error("Login failed: "+e)}finally{t(!1)}}};return window.addEventListener("message",e,!1),()=>{window.removeEventListener("message",e)}},[b,N]);let $=async()=>{t(!0);let e=null;try{if(!(e=window.open("","gauth-login","popup,location=yes,height=570,width=520,scrollbars=yes,status=yes,resizable=yes"))||e.closed||void 0===e.closed)throw Error("Pop-up window blocked. Please allow pop-ups and try again.");e.document.write('<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Google Login</title><style>html,body{margin:0;padding:0;height:100%;}body{display:flex;align-items:center;justify-content:center;font-family:Arial,sans-serif;color:#444;background:#f7f7f7;} .wrapper{box-sizing:border-box;text-align:center;padding:24px 16px;width:100%;max-width:320px;margin:0 auto;} .spinner{margin:0 auto 16px;border:4px solid #e0e0e0;border-top:4px solid #4285f4;border-radius:50%;width:40px;height:40px;animation:spin 1s linear infinite;} @keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}</style></head><body><div class="wrapper"><div class="spinner"></div><p>Redirecting to Google sign-in...</p></div></body></html>'),e.document.close();let t=await S();if(!t)throw Error("Failed to generate Google authentication URL.");e.location.href=t,e.focus()}catch(s){e&&!e.closed&&e.close();let t=s instanceof Error?s.message:"Unknown error";b.open({type:"error",content:"Error while attempting Google login: "+t})}finally{t(!1)}},z=(0,i.useCallback)(async(e,s,i)=>{t(!0);try{let t=await s(e);N(t.data.user.username,t.data.jwt),b.success(i)}catch(e){try{"Request timed out. Please try again."===e.message?b.error(e.message):e.response?.status===400?b.error(e.response.data.error.message):e.response?.status===429?b.error("Requests are too frequent. Please try again later."):b.error((0,r.jsx)(f.A,{id:"message.error",children:"\u53D1\u751F\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5"}))}catch(e){b.error((0,r.jsx)(f.A,{id:"message.error",children:"\u5904\u7406\u9519\u8BEF\u65F6\u53D1\u751F\u9519\u8BEF"}))}}finally{t(!1)}},[b]),R=async e=>{z(e,w.iD,(0,r.jsx)(f.A,{id:"message.loginSuccess",children:"\u767B\u5F55\u6210\u529F\uFF01"}))},O=async e=>{z(e,w.kz,(0,r.jsx)(f.A,{id:"message.registerSuccess",children:"\u6CE8\u518C\u6210\u529F\uFF01"}))},B=async e=>{t(!0);try{await (0,w.BD)(e.email),b.success((0,r.jsx)(f.A,{id:"message.forgotPassword.success",children:"\u5BC6\u7801\u91CD\u7F6E\u90AE\u4EF6\u5DF2\u53D1\u9001\uFF01"})),L.resetFields()}catch(e){console.error((0,f.T)({id:"error.forgotPassword",message:"Error sending forgot password email:"}),e),b.error((0,r.jsx)(f.A,{id:"message.forgotPassword.error",children:"\u53D1\u9001\u5BC6\u7801\u91CD\u7F6E\u90AE\u4EF6\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"}))}finally{t(!1)}},V=async e=>{t(!0);let s=e.email;try{let e=/\S+@\S+\.\S+/.test(s)?{email:s}:{username:s};await (0,w.U0)(e),b.success((0,r.jsx)(f.A,{id:"message.passwordlessLinkSent",children:"\u514D\u5BC6\u7801\u767B\u5F55\u94FE\u63A5\u5DF2\u53D1\u9001\u5230\u60A8\u7684\u90AE\u7BB1\uFF01"})),M.resetFields()}catch(e){console.error("Error sending passwordless login link:",e),b.error((0,r.jsx)(f.A,{id:"message.errorSendingPasswordlessLink",children:"\u53D1\u9001\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u90AE\u7BB1\u6216\u7528\u6237\u540D"}))}finally{t(!1)}},U=[{key:"1",label:(0,r.jsx)(f.A,{id:"tabs.login",children:"\u767B\u5F55"}),children:(0,r.jsxs)(l.A,{form:I,onFinish:R,layout:"vertical",children:[(0,r.jsx)(l.A.Item,{name:"username",rules:E.username,label:(0,r.jsx)(f.A,{id:"input.username",children:"\u7528\u6237\u540D/\u90AE\u7BB1"}),children:(0,r.jsx)(d.A,{autoComplete:"username",prefix:(0,r.jsx)(x.A,{}),placeholder:(0,f.T)({id:"input.username",message:"\u7528\u6237\u540D/\u90AE\u7BB1"})})}),(0,r.jsx)(l.A.Item,{name:"password",rules:E.password,label:(0,r.jsx)(f.A,{id:"input.password",children:"\u5BC6\u7801"}),children:(0,r.jsx)(d.A.Password,{autoComplete:"current-password",prefix:(0,r.jsx)(y.A,{}),placeholder:(0,f.T)({id:"input.password",message:"\u5BC6\u7801"})})}),(0,r.jsx)(l.A.Item,{children:(0,r.jsxs)(m.A,{direction:"vertical",style:{width:"100%"},children:[(0,r.jsx)(c.Ay,{type:"primary",htmlType:"submit",loading:e,block:!0,children:(0,r.jsx)(f.A,{id:"button.login",children:"\u767B\u5F55"})}),(0,r.jsx)(m.A,{style:{width:"100%",justifyContent:"center"},children:(0,r.jsx)(c.Ay,{onClick:$,icon:(0,r.jsx)(j.A,{}),children:"Login via Google"})}),(0,r.jsxs)(m.A,{style:{width:"100%",justifyContent:"space-between"},children:[(0,r.jsx)(c.Ay,{type:"link",onClick:D,style:{padding:0},children:(0,r.jsx)(f.A,{id:"button.register",children:"\u6CE8\u518C"})}),(0,r.jsx)(c.Ay,{type:"link",onClick:G,style:{padding:0},children:(0,r.jsx)(f.A,{id:"button.forgotPassword",children:"\u5FD8\u8BB0\u5BC6\u7801"})})]})]})})]})},{key:"2",label:(0,r.jsx)(f.A,{id:"tabs.passwordlessLogin",children:"\u514D\u5BC6\u7801\u767B\u5F55"}),children:(0,r.jsxs)(l.A,{form:M,onFinish:V,layout:"vertical",children:[(0,r.jsx)(o.A,{message:(0,r.jsx)(f.A,{id:"message.passwordlessLogin.info",children:"\u767B\u5F55\u94FE\u63A5\u5C06\u53D1\u9001\u81F3\u60A8\u7684\u90AE\u7BB1\uFF0C\u70B9\u51FB\u5373\u53EF\u767B\u5F55\uFF0C\u65E0\u9700\u8F93\u5165\u5BC6\u7801"}),type:"info",showIcon:!0,style:{marginBottom:16}}),(0,r.jsx)(l.A.Item,{name:"email",rules:E.username,label:(0,r.jsx)(f.A,{id:"input.username",children:"\u7528\u6237\u540D/\u90AE\u7BB1"}),children:(0,r.jsx)(d.A,{autoComplete:"username",prefix:(0,r.jsx)(p.A,{}),placeholder:(0,f.T)({id:"input.username",message:"\u7528\u6237\u540D/\u90AE\u7BB1"})})}),(0,r.jsx)(l.A.Item,{children:(0,r.jsx)(c.Ay,{type:"primary",htmlType:"submit",loading:e,block:!0,children:(0,r.jsx)(f.A,{id:"button.sendPasswordlessLink",children:"\u83B7\u53D6\u514D\u5BC6\u7801\u767B\u5F55\u94FE\u63A5"})})})]})},{key:"3",label:(0,r.jsx)(f.A,{id:"button.register",children:"\u6CE8\u518C"}),children:(0,r.jsxs)(l.A,{form:P,onFinish:O,layout:"vertical",children:[(0,r.jsx)(l.A.Item,{name:"username",rules:E.username,label:(0,r.jsx)(f.A,{id:"input.register.username",children:"\u7528\u6237\u540D"}),children:(0,r.jsx)(d.A,{autoComplete:"username",prefix:(0,r.jsx)(x.A,{}),placeholder:(0,f.T)({id:"input.register.username",message:"\u7528\u6237\u540D"})})}),(0,r.jsx)(l.A.Item,{name:"email",rules:E.email,label:(0,r.jsx)(f.A,{id:"input.email",children:"\u90AE\u7BB1"}),children:(0,r.jsx)(d.A,{autoComplete:"email",prefix:(0,r.jsx)(p.A,{}),placeholder:(0,f.T)({id:"input.email",message:"\u90AE\u7BB1"})})}),(0,r.jsx)(l.A.Item,{name:"password",rules:E.password,label:(0,r.jsx)(f.A,{id:"input.password",children:"\u5BC6\u7801"}),hasFeedback:!0,children:(0,r.jsx)(d.A.Password,{autoComplete:"new-password",prefix:(0,r.jsx)(y.A,{}),placeholder:(0,f.T)({id:"input.password",message:"\u5BC6\u7801"})})}),(0,r.jsx)(l.A.Item,{name:"agreement",valuePropName:"checked",rules:[{validator:(e,t)=>t?Promise.resolve():Promise.reject(Error((0,f.T)({id:"agreement.rules",message:"\u4F7F\u7528\u524D\u987B\u540C\u610F\u670D\u52A1\u6761\u6B3E\u548C\u9690\u79C1\u653F\u7B56"})))}],children:(0,r.jsxs)(h.A,{children:[(0,r.jsx)(f.A,{id:"agreement.text",children:"\u70B9\u6B64\u540C\u610F"})," ",(0,r.jsx)("a",{href:"/docs/terms-of-service",children:(0,r.jsx)(f.A,{id:"agreement.terms",children:"\u670D\u52A1\u6761\u6B3E"})})," ",(0,r.jsx)(f.A,{id:"agreement.and",children:"\u548C"})," ",(0,r.jsx)("a",{href:"/docs/privacy-policy",children:(0,r.jsx)(f.A,{id:"agreement.policy",children:"\u9690\u79C1\u653F\u7B56"})})]})}),(0,r.jsx)(l.A.Item,{children:(0,r.jsx)(c.Ay,{type:"primary",htmlType:"submit",loading:e,block:!0,children:(0,r.jsx)(f.A,{id:"button.register",children:"\u6CE8\u518C"})})})]})},{key:"4",label:(0,r.jsx)(f.A,{id:"label.forgotPassword",children:"\u5FD8\u8BB0\u5BC6\u7801"}),children:(0,r.jsxs)(l.A,{form:L,onFinish:B,layout:"vertical",children:[(0,r.jsx)(o.A,{message:(0,r.jsx)(f.A,{id:"message.forgotPassword.info",children:"\u91CD\u7F6E\u5BC6\u7801\u94FE\u63A5\u5C06\u53D1\u9001\u81F3\u60A8\u7684\u90AE\u7BB1"}),type:"info",showIcon:!0,style:{marginBottom:16}}),(0,r.jsx)(l.A.Item,{name:"email",label:(0,r.jsx)(f.A,{id:"input.email",children:"\u90AE\u7BB1"}),rules:E.email,children:(0,r.jsx)(d.A,{autoComplete:"email",prefix:(0,r.jsx)(p.A,{}),placeholder:(0,f.T)({id:"placeholder.email",message:"\u90AE\u7BB1"})})}),(0,r.jsx)(l.A.Item,{children:(0,r.jsx)(c.Ay,{type:"primary",htmlType:"submit",loading:e,block:!0,children:(0,r.jsx)(f.A,{id:"button.sendResetEmail",children:"\u53D1\u9001\u5BC6\u7801\u91CD\u7F6E\u90AE\u4EF6"})})})]})}];return(0,r.jsxs)(r.Fragment,{children:[k,(0,r.jsx)(u.A,{title:(0,r.jsx)(F,{level:4,children:(0,r.jsx)(f.A,{id:"card.welcome",children:"\u6B22\u8FCE"})}),style:{maxWidth:480,margin:"0 auto"},children:(0,r.jsx)(g.A,{defaultActiveKey:"1",activeKey:s,onChange:e=>{a(e),T(Date.now()),I.resetFields(),P.resetFields(),L.resetFields(),M.resetFields()},items:U,destroyOnHidden:!0},C)})]})}}}]);