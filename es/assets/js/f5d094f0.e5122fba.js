"use strict";(self.webpackChunkchatgpt_shortcut=self.webpackChunkchatgpt_shortcut||[]).push([["5365"],{66552:function(e,s,r){r.d(s,{A:()=>t});let t={showcaseCardBody:"showcaseCardBody_fqoj",showcaseCardHeader:"showcaseCardHeader_Wgbd",showcaseCardImage:"showcaseCardImage_cKtS",shortEllipsisMy:"shortEllipsisMy_clBa",shortEllipsis:"shortEllipsis_LL0g",showcaseCardTitle:"showcaseCardTitle_zvaY",svgIconFavorite:"svgIconFavorite_CmdZ",showcaseCardSrcBtn:"showcaseCardSrcBtn_o3AD",cardFooter:"cardFooter_tbwZ",tag:"tag_dHH4",textLabel:"textLabel_NAck",colorLabel:"colorLabel_xnnh",descriptionWrapper:"descriptionWrapper_fj5a",clickable:"clickable_BzJT",nonClickable:"nonClickable_M5zF",gradientOverlay:"gradientOverlay_B2ZG",downIcon:"downIcon_hOwl",showcaseCardLink:"showcaseCardLink_iYYT"}},26976:function(e,s,r){r.d(s,{A:()=>t});let t={showcaseFavorite:"showcaseFavorite_HPRp",showcaseList:"showcaseList_Cwj2",filterCheckbox:"filterCheckbox_Uhtk",checkboxList:"checkboxList_autc",checkboxListItem:"checkboxListItem_CI1c",activeItem:"activeItem_EpEL",searchContainer:"searchContainer_FQjg",showcaseFavoriteHeader:"showcaseFavoriteHeader_hNPk",svgIconFavoriteXs:"svgIconFavoriteXs_Yxtr",svgIconFavorite:"svgIconFavorite_skrm",onToggleButton:"onToggleButton_ckPE"}},93382:function(e,s,r){r.d(s,{L:()=>i,Y:()=>a});var t=r(43789);let a={favorite:{label:(0,t.T)({message:"\u6536\u85CF"}),description:(0,t.T)({message:"\u6536\u85CF",id:"showcase.tag.favorite.description"}),color:"#e9669e"},write:{label:(0,t.T)({message:"\u5199\u4F5C\u8F85\u52A9"}),description:(0,t.T)({message:"\u5BF9\u6587\u7AE0\u7684\u8BED\u6CD5\u548C\u98CE\u683C\u8FDB\u884C\u6DA6\u8272\uFF0C\u4EE5\u5E2E\u52A9\u4F60\u5B8C\u6210\u5199\u4F5C",id:"showcase.tag.write.description"}),color:"#75581e"},article:{label:(0,t.T)({message:"\u6587\u7AE0/\u62A5\u544A"}),description:(0,t.T)({message:"\u5C0F\u8BF4\u3001\u8BBA\u6587\u3001\u65B0\u95FB\u3001\u5267\u672C\u3001\u62A5\u544A\u7B49\u6709\u4E00\u5B9A\u6837\u5F0F\u7684\u6587\u7AE0",id:"showcase.tag.article.description"}),color:"#dfd545"},code:{label:(0,t.T)({message:"IT/\u7F16\u7A0B"}),description:(0,t.T)({message:"\u867D\u7136\u8BF4\u662F\u7F16\u7A0B\uFF0C\u4F46 ChatGPT \u662F\u6309\u7167\u8981\u6C42\u7ED9\u51FA\u7F16\u7A0B\u6B65\u9AA4\u7684\u5EFA\u8BAE\u6216\u7B80\u5355\u7684\u6837\u4F8B\u4EE3\u7801\uFF0C\u8FD9\u4E9B\u4EE3\u7801\u53EA\u80FD\u4F5C\u4E3A\u6D4B\u8BD5\uFF0C\u4ECD\u7136\u9700\u8981\u7A0B\u5E8F\u5458\u6765\u4FEE\u6539\u3002",id:"showcase.tag.code.description"}),color:"#8c2f00"},ai:{label:(0,t.T)({message:"AI"}),description:(0,t.T)({message:"AI",id:"showcase.tag.ai.description"}),color:"#ff6100"},living:{label:(0,t.T)({message:"\u751F\u6D3B\u8D28\u91CF"}),description:(0,t.T)({message:"\u5065\u8EAB\u3001\u8425\u517B\u3001\u53A8\u5E08\u3001\u5316\u5986\u3001\u9020\u578B",id:"showcase.tag.living.description"}),color:"#cf92e0"},interesting:{label:(0,t.T)({message:"\u8DA3\u5473\u77E5\u8BC6"}),description:(0,t.T)({message:"\u8DA3\u5473\u77E5\u8BC6",id:"showcase.tag.interesting.description"}),color:"#127f82"},life:{label:(0,t.T)({message:"\u81EA\u52A9\u767E\u79D1"}),description:(0,t.T)({message:"\u751F\u6D3B\u77E5\u8BC6/\u81EA\u52A9\u767E\u79D1",id:"showcase.tag.life.description"}),color:"#a44fb7"},social:{label:(0,t.T)({message:"\u5FC3\u7406/\u793E\u4EA4"}),description:(0,t.T)({message:"\u5FC3\u7406/\u793E\u4EA4",id:"showcase.tag.social.description"}),color:"#ee3308"},philosophy:{label:(0,t.T)({message:"\u54F2\u5B66/\u5B97\u6559"}),description:(0,t.T)({message:"\u54F2\u5B66/\u5B97\u6559",id:"showcase.tag.philosophy.description"}),color:"#ffcaa9"},mind:{label:(0,t.T)({message:"\u53D1\u6563\u601D\u7EF4"}),description:(0,t.T)({message:"\u8D28\u7591\u3001\u601D\u8003\u3001\u8054\u60F3\u3001\u5F52\u7EB3",id:"showcase.tag.mind.description"}),color:"#86699e"},pedagogy:{label:(0,t.T)({message:"\u6559\u80B2/\u5B66\u751F"}),description:(0,t.T)({message:"\u4E0E\u5B66\u751F\u6559\u80B2\u76F8\u5173\u7684\u5185\u5BB9",id:"showcase.tag.pedagogy.description"}),color:"#fe0999"},academic:{label:(0,t.T)({message:"\u5B66\u672F/\u6559\u5E08"}),description:(0,t.T)({message:"\u4E0E\u5B66\u672F\u6216\u5B66\u6821\u76F8\u5173\u7684\u4EBA\u548C\u4E8B\u7269",id:"showcase.tag.academic.description"}),color:"#fe6829"},games:{label:(0,t.T)({message:"\u6E38\u620F"}),description:(0,t.T)({message:"\u6E38\u620F",id:"showcase.tag.games.description"}),color:"#574C57"},tool:{label:(0,t.T)({message:"\u5DE5\u5177"}),description:(0,t.T)({message:"\u5DE5\u5177",id:"showcase.tag.tool.description"}),color:"#4267b2"},interpreter:{label:(0,t.T)({message:"\u7EC8\u7AEF/\u89E3\u91CA\u5668"}),description:(0,t.T)({message:"\u7EC8\u7AEF/\u89E3\u91CA\u5668",id:"showcase.tag.interpreter.description"}),color:"#ffa11c"},language:{label:(0,t.T)({message:"\u8BED\u8A00/\u7FFB\u8BD1"}),description:(0,t.T)({message:"\u8BED\u8A00\u751F\u6210\u3001\u8F6C\u6362\u3001\u7FFB\u8BD1\u3001\u8BC6\u522B\u7B49\u591A\u79CD\u5DE5\u5177",id:"showcase.tag.language.description"}),color:"#39ca30"},speech:{label:(0,t.T)({message:"\u8FA9\u8BBA/\u6F14\u8BB2"}),description:(0,t.T)({message:"\u8FA9\u8BBA/\u6F14\u8BB2",id:"showcase.tag.speech.description"}),color:"#9c1d10"},comments:{label:(0,t.T)({message:"\u70B9\u8BC4/\u8BC4\u9274"}),description:(0,t.T)({message:"\u70B9\u8BC4/\u8BC4\u9274",id:"showcase.tag.comments.description"}),color:"#eeef99"},text:{label:(0,t.T)({message:"\u6587\u672C/\u8BCD\u8BED"}),description:(0,t.T)({message:"\u6587\u672C/\u8BCD\u8BED",id:"showcase.tag.text.description"}),color:"#554236"},company:{label:(0,t.T)({message:"\u4F01\u4E1A\u804C\u80FD"}),description:(0,t.T)({message:"\u4E00\u822C\u4F01\u4E1A\u5185\u7684\u5C97\u4F4D",id:"showcase.tag.company.description"}),color:"#124f4e"},seo:{label:(0,t.T)({message:"SEO"}),description:(0,t.T)({message:"\u6587\u672C/\u5173\u952E\u8BCD\u62D3\u5C55\u751F\u6210",id:"showcase.tag.seo.description"}),color:"#BC9F77"},doctor:{label:(0,t.T)({message:"\u533B\u751F"}),description:(0,t.T)({message:"\u533B\u751F",id:"showcase.tag.doctor.description"}),color:"#0e7774"},finance:{label:(0,t.T)({message:"\u91D1\u878D\u987E\u95EE"}),description:(0,t.T)({message:"\u91D1\u878D\u884C\u4E1A\u7684\u5C97\u4F4D",id:"showcase.tag.finance.description"}),color:"#14cfc3"},music:{label:(0,t.T)({message:"\u97F3\u4E50"}),description:(0,t.T)({message:"\u97F3\u4E50",id:"showcase.tag.music.description"}),color:"#5cecdc"},professional:{label:(0,t.T)({message:"\u884C\u4E1A\u987E\u95EE"}),description:(0,t.T)({message:"\u5F8B\u5E08\u3001\u8336\u827A\u5E08\u7B49\u9700\u8981\u4E13\u4E1A\u77E5\u8BC6\u7684\u5C97\u4F4D",id:"showcase.tag.professional.description"}),color:"#ffcfc3"},contribute:{label:(0,t.T)({message:"\u6295\u7A3F"}),description:(0,t.T)({message:"\u6765\u81EA\u5927\u5BB6\u7684\u6295\u7A3F\u4F5C\u54C1\uFF0C\u80FD\u5E2E\u52A9\u6211\u4EEC\u5F00\u62D3\u601D\u8DEF",id:"showcase.tag.contribute.description"}),color:"#cecd21"}},i=Object.keys(a)},74922:function(e,s,r){r.d(s,{O:()=>l,c:()=>o});var t=r(74848),a=r(96540),i=r(46524);let o=(0,a.createContext)({userAuth:null,refreshUserAuth:()=>{},setUserAuth:e=>{},isLoading:!1});function l({children:e}){let[s,r]=(0,a.useState)(null),[l,n]=(0,a.useState)(!1),c=(0,a.useCallback)(async()=>{(0,a.startTransition)(()=>n(!0));try{let e=await (0,i.nE)();(0,a.startTransition)(()=>r(e))}catch(e){console.error("Failed to fetch user data:",e)}finally{(0,a.startTransition)(()=>n(!1))}},[]);(0,a.useEffect)(()=>{let e=!1,s=()=>{e||c()};return"undefined"!=typeof window&&("requestIdleCallback"in window?window.requestIdleCallback(s,{timeout:1500}):setTimeout(s,80)),()=>{e=!0}},[c]);let d=(0,a.useMemo)(()=>({userAuth:s,setUserAuth:r,refreshUserAuth:c,isLoading:l}),[s,c,l]);return(0,t.jsx)(o.Provider,{value:d,children:e})}},7194:function(e,s,r){r.d(s,{Ay:()=>f,Kx:()=>j,aq:()=>A});var t=r(74848),a=r(96540),i=r(69774),o=r(13341),l=r(56347),n=r(43789),c=r(60782),d=r(80520),m=r(76677),h=r(22559),p=r(74922),u=r(26976),x=r(46524);let g="name",A=()=>{let[e,s]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=setTimeout(()=>s(!0),150);return()=>clearTimeout(e)},[]),(0,t.jsx)(c.A,{as:"h2",className:"text--center",children:e?(0,n.T)({id:"showcase.usersList.noResult",message:"\u{1F612} \u627E\u4E0D\u5230\u7ED3\u679C\uFF0C\u8BF7\u7F29\u77ED\u641C\u7D22\u8BCD"}):"Searching..."})};function j(e="default"){let s=(0,l.zy)(),{i18n:r}=(0,o.A)(),t=r.currentLocale.split("-")[0],[i,n]=(0,a.useState)("OR"),[c,d]=(0,a.useState)([]),[m,h]=(0,a.useState)(null),[u,g]=(0,a.useState)([]),[A,f]=(0,a.useState)([]),{userAuth:y}=(0,a.useContext)(p.c);return(0,a.useEffect)(()=>{let e=new URLSearchParams(s.search),r=e.getAll("tags"),t=e.get("name"),i=e.get("operator")||"OR";(0,a.startTransition)(()=>{d(r),h(t),n(i)})},[s.search]),(0,a.useEffect)(()=>{let s=!1;return async function(){if(0===c.length&&!m)return(0,a.startTransition)(()=>{s||(g([]),f([]))});let r=m?m.toLowerCase():"";try{if("default"===e){let e=await (0,x.eg)(c,m,t,i);if(s)return;(0,a.startTransition)(()=>{g(e)}),y&&0===c.length&&Promise.all([y.data.userprompts?(0,x.oO)("userprompts",y.data.userprompts):Promise.resolve([]),y.data.favorites&&y.data.favorites.commLoves?(0,x.oO)("commus",y.data.favorites.commLoves):Promise.resolve([])]).then(([e,t])=>s?[]:[...e,...t].filter(e=>e.title.toLowerCase().includes(r)||e.description.toLowerCase().includes(r)||e.remark&&e.remark.toLowerCase().includes(r)||e.notes&&e.notes.toLowerCase().includes(r))).then(e=>{s||(0,a.startTransition)(()=>f(e))})}else"myfavor"===e?y?.data?.favorites?Promise.resolve().then(async()=>{let e=await (0,x.eg)(c,m,t,i);if(s)return{favoriteCards:[],commus:[]};let r=y.data.favorites.loves?e.filter(e=>y.data.favorites.loves.includes(e.id)):[];if((0,a.startTransition)(()=>g(r)),y.data.favorites.commLoves){let e=await (0,x.oO)("commus",y.data.favorites.commLoves);return{favoriteCards:r,commus:e}}return{favoriteCards:r,commus:[]}}).then(({commus:e})=>{if(s)return;let t=e.filter(e=>e.title.toLowerCase().includes(r)||e.description.toLowerCase().includes(r)||e.remark&&e.remark.toLowerCase().includes(r)||e.notes&&e.notes.toLowerCase().includes(r));(0,a.startTransition)(()=>f(t))}):(0,a.startTransition)(()=>{s||(g([]),f([]))}):"myprompts"===e&&(y?.data?.userprompts?Promise.resolve().then(async()=>await (0,x.oO)("userprompts",y.data.userprompts)).then(e=>{if(s)return;let t=e.filter(e=>e.title.toLowerCase().includes(r)||e.description.toLowerCase().includes(r)||e.remark&&e.remark.toLowerCase().includes(r)||e.notes&&e.notes.toLowerCase().includes(r));(0,a.startTransition)(()=>f(t))}):(0,a.startTransition)(()=>{s||f([])}))}catch(e){console.error("Error fetching and filtering prompts:",e),s||(0,a.startTransition)(()=>{g([]),f([])})}}(),()=>{s=!0}},[c,m,i,t,e,y]),{filteredCommus:A,filteredCards:u,isFiltered:c.length>0||null!==m}}let f=function({setShowUserPrompts:e=e=>{},setShowUserFavs:s=e=>{}}){let r=(0,l.W6)(),o=(0,l.zy)(),c=(0,a.useRef)(null),[p,x]=(0,a.useState)(null),A=(0,a.useCallback)(()=>!!i.A.canUseDOM&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),[]);(0,a.useEffect)(()=>{x(new URLSearchParams(o.search).get(g)),!A()&&c.current?.input&&c.current.input.focus()},[o]);let j=(0,a.useCallback)(()=>{let t=new URLSearchParams(o.search);t.delete(g),p&&t.set(g,p),r.push({...o,search:t.toString(),state:function(){if(i.A.canUseDOM)return{scrollTopPosition:window.scrollY,focusedElementId:document.activeElement?.id}}()}),e(!1),s(!1)},[p,o,r]);return(0,a.useEffect)(()=>{""===p&&j()},[p,j]),(0,t.jsx)("div",{className:u.A.searchContainer,children:(0,t.jsx)(d.A,{ref:c,id:"searchbar",placeholder:(0,n.T)({message:"Search for prompts...",id:"showcase.searchBar.placeholder"}),value:p??void 0,onChange:e=>{x(e.target.value)},onPressEnter:j,allowClear:!0,autoFocus:!A(),suffix:(0,t.jsx)(m.Ay,{icon:(0,t.jsx)(h.A,{}),onClick:j,type:"primary"})})})}},84829:function(e,s,r){r.d(s,{A:()=>L,Y:()=>N});var t=r(74848),a=r(96540),i=r(39836),o=r(85332),l=r(29312),n=r(48284),c=r(76677),d=r(12801),m=r(43789),h=r(68702),p=r(83622),u=r(93861),x=r(78557),g=r(91436),A=r(87887),j=r(70625),f=r(93382),y=r(62360),w=r(66552),C=r(46524),b=r(74922),v=r(13341),k=r(42993);let T=a.forwardRef(({label:e,color:s,description:r},a)=>(0,t.jsxs)("li",{ref:a,className:w.A.tag,title:r,children:[(0,t.jsx)("span",{className:w.A.textLabel,children:e.toLowerCase()}),(0,t.jsx)("span",{className:w.A.colorLabel,style:{backgroundColor:s}})]})),N=({tags:e})=>{let s=(e||[]).map(e=>({tag:e,...f.Y[e]})),r=(0,y.U)(s,e=>f.L.indexOf(e.tag));return(0,t.jsx)(t.Fragment,{children:r.map((e,s)=>(0,t.jsx)(o.A,{title:e.description,id:`showcase_card_tag_${e.tag}`,children:(0,t.jsx)(T,{...e},s)},s))})},L=a.memo(({user:e,isDescription:s,copyCount:r})=>{let{userAuth:f,refreshUserAuth:y}=(0,a.useContext)(b.c),{i18n:T}=(0,v.A)(),L=T.currentLocale.split("-")[0],S=(0,a.useMemo)(()=>({title:e[L].title,remark:e[L].remark,prompt:e[L].prompt,description:e[L].description}),[e,L]),F="en"!==L&&S.description!==S.prompt,[I,E]=(0,a.useState)(!1),[P,O]=(0,a.useState)(!1),{copied:_,updateCopy:B}=(0,h.C)(),[D,M]=(0,a.useState)(()=>F?s?S.prompt:S.description:S.prompt);(0,a.useEffect)(()=>{E(f?.data?.favorites?.loves?.includes(e.id)||!1)},[f]),(0,a.useEffect)(()=>{M(s?S.prompt:S.description),O(!1)},[s,S.prompt,S.description]);let R=(0,a.useCallback)(()=>{F&&M(e=>e===S.prompt?S.description:S.prompt)},[F,S.prompt,S.description]),U=F?D:S.prompt,q=(0,a.useCallback)(()=>{B(S.prompt,e.id)},[B,S.prompt,e.id]),H=(0,a.useCallback)(()=>{O(e=>!e)},[]),z=(0,a.useCallback)(async()=>{try{let s,r;if(f?.data?.favorites)s=f.data.favorites.loves||[],r=f.data.favorites.id,s.push(e.id);else{let t=await (0,C.vN)([e.id]);s=[e.id],r=t.data.id}l.Ay.success("Added to favorites successfully!"),await (0,C.O)(r,s),(0,C.oO)("cards",s,L),y()}catch(e){console.error(e)}},[f?.data?.favorites,e.id,L,y]),$=(0,a.useCallback)(async()=>{try{let s=f.data.favorites.loves||[],r=f.data.favorites.id,t=s.indexOf(e.id);t>-1&&(s.splice(t,1),l.Ay.success("Removed from favorites successfully!")),await (0,C.O)(r,s),y()}catch(e){console.error(e)}},[f,e.id,y]);return(0,t.jsxs)("li",{className:"card shadow--md",children:[(0,t.jsxs)("div",{className:(0,i.A)("card__body"),children:[(0,t.jsxs)("div",{className:(0,i.A)(w.A.showcaseCardHeader),children:[(0,t.jsxs)("div",{className:w.A.showcaseCardTitle,children:[(0,t.jsxs)(d.A,{href:`/prompt/${e.id}`,className:w.A.showcaseCardLink,children:[S.title," "]}),(0,t.jsx)("span",{className:w.A.showcaseCardBody,children:r>0&&`\u{1F525}${(0,k.B4)(r)}`})]}),(0,t.jsxs)(n.A.Compact,{children:[f&&(0,t.jsx)(o.A,{title:I?(0,t.jsx)(m.A,{children:"\u70B9\u51FB\u79FB\u9664\u6536\u85CF"}):(0,m.T)({message:"\u6536\u85CF"}),children:(0,t.jsx)(c.Ay,{onClick:I?$:z,children:I?(0,t.jsx)(p.A,{twoToneColor:"#eb2f96"}):(0,t.jsx)(u.A,{})})}),!f&&e.tags?.includes("favorite")&&(0,t.jsx)(c.Ay,{type:"text",disabled:!0,children:(0,t.jsx)(p.A,{twoToneColor:"#eb2f96"})}),(0,t.jsx)(o.A,{title:(0,m.T)({id:"theme.CodeBlock.copy",message:"\u590D\u5236"}),children:(0,t.jsx)(c.Ay,{onClick:q,children:_?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.A,{})," ",(0,t.jsx)(m.A,{id:"theme.CodeBlock.copied",children:"\u5DF2\u590D\u5236"})]}):(0,t.jsx)(g.A,{})})})]})]}),(0,t.jsxs)("p",{className:w.A.showcaseCardBody,style:{maxHeight:68},children:["\uD83D\uDC49 ",S.remark]}),(0,t.jsxs)("div",{className:w.A.descriptionWrapper,children:[(0,t.jsx)("p",{onClick:F?R:void 0,className:(0,i.A)(w.A.showcaseCardBody,{[w.A.clickable]:F}),children:P?U:(0,k.xv)(U)}),!P&&U.length>k.E2&&(0,t.jsx)("div",{className:w.A.gradientOverlay,children:(0,t.jsx)(o.A,{title:(0,t.jsx)(m.A,{children:"\u52A0\u8F7D\u66F4\u591A"}),children:(0,t.jsx)(A.A,{onClick:H,className:w.A.downIcon})})})]})]}),(0,t.jsxs)("ul",{className:(0,i.A)("card__footer",w.A.cardFooter),style:{listStyle:"none"},children:[(0,t.jsx)(N,{tags:e.tags}),e.website&&(0,t.jsx)("li",{style:{marginLeft:"auto"},children:(0,t.jsx)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",children:(0,t.jsx)(j.A,{})})})]})]},S.title)})},26100:function(e,s,r){r.d(s,{A:()=>E});var t=r(74848),a=r(96540),i=r(39836),o=r(68702),l=r(43789),n=r(12801),c=r(13341),d=r(84829),m=r(66552),h=r(26976),p=r(48284),u=r(85332),x=r(76677),g=r(29312),A=r(76077),j=r(83622),f=r(78557),y=r(91436),w=r(87887),C=r(70625),b=r(36450),v=r(43627),k=r(74979),T=r(46524),N=r(74922),L=r(42993),S=r(2404),F=r.n(S);let I=({item:e,isCard:s,currentLanguage:r,isFiltered:c,removeBookmark:h})=>{let{attributes:g,listeners:A,setNodeRef:b,transform:T,transition:N}=(0,v.gl)({id:e.id}),{copied:S,copyText:F,updateCopy:I}=(0,o.C)(),[E,P]=(0,a.useState)(!1),[O,_]=(0,a.useState)(s?e[r].prompt:e.description),B=s&&"en"!==r&&e[r].description!==e[r].prompt,D=(0,L.Nl)(e),M=()=>{P(!E)},R=()=>{s?B&&_(s=>s===e[r].prompt?e[r].description:e[r].prompt):e.notes&&_(s=>s===e.description?e.notes:e.description)},U={transform:k.Ks.Transform.toString(T),transition:N,cursor:c?"default":"grab"};return(0,t.jsxs)("li",{ref:b,className:"card shadow--md",style:U,children:[(0,t.jsxs)("div",{className:(0,i.A)("card__body"),style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:(0,i.A)(m.A.showcaseCardHeader),children:[(0,t.jsx)("div",{className:`${m.A.showcaseCardTitle} ${m.A.shortEllipsis}`,...g,...c?{}:A,children:s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.A,{href:"/prompt/"+e.id,className:m.A.showcaseCardLink,children:[e[r].title," "]}),(0,t.jsx)("span",{className:m.A.showcaseCardBody,children:D>0&&`\u{1F525}${(0,L.B4)(D)}`})]}):(0,t.jsxs)("span",{className:m.A.showcaseCardLink,children:[e.title," "]})}),(0,t.jsxs)(p.A.Compact,{children:[(0,t.jsx)(u.A,{title:(0,t.jsx)(l.A,{children:"\u70B9\u51FB\u79FB\u9664\u6536\u85CF"}),children:(0,t.jsx)(x.Ay,{onClick:()=>h(e.id,!s),children:(0,t.jsx)(j.A,{twoToneColor:"#eb2f96"})})}),(0,t.jsx)(u.A,{title:(0,l.T)({id:"theme.CodeBlock.copy",message:"\u590D\u5236"}),children:(0,t.jsx)(x.Ay,{onClick:()=>{s?I(e[r].prompt,e.id):F(e.description)},children:S?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.A,{})," ",(0,t.jsx)(l.A,{id:"theme.CodeBlock.copied",children:"\u5DF2\u590D\u5236"})]}):(0,t.jsx)(y.A,{})})})]})]}),s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:m.A.showcaseCardBody,style:{maxHeight:68},...g,...c?{}:A,children:["\uD83D\uDC49 ",e[r].remark]}),(0,t.jsxs)("div",{className:m.A.descriptionWrapper,children:[(0,t.jsx)("p",{onClick:B?R:void 0,className:(0,i.A)(m.A.showcaseCardBody,{[m.A.clickable]:B}),children:E?O:(0,L.xv)(O)}),!E&&O.length>L.E2&&(0,t.jsx)("div",{className:m.A.gradientOverlay,children:(0,t.jsx)(u.A,{title:(0,t.jsx)(l.A,{children:"\u52A0\u8F7D\u66F4\u591A"}),children:(0,t.jsx)(w.A,{onClick:M,className:m.A.downIcon})})})]})]}):(0,t.jsxs)(t.Fragment,{children:[e.remark&&(0,t.jsxs)("p",{className:m.A.showcaseCardBody,style:{maxHeight:68},...g,...c?{}:A,children:["\uD83D\uDC49 ",e.remark]}),(0,t.jsxs)("div",{className:m.A.descriptionWrapper,children:[(0,t.jsx)("p",{onClick:R,className:`${m.A.showcaseCardBody} ${e.notes?m.A.clickable:m.A.nonClickable}`,children:E?O:(0,L.xv)(O)}),!E&&O.length>L.E2&&(0,t.jsx)("div",{className:m.A.gradientOverlay,children:(0,t.jsx)(u.A,{title:(0,t.jsx)(l.A,{children:"\u52A0\u8F7D\u66F4\u591A"}),children:(0,t.jsx)(w.A,{onClick:M,className:m.A.downIcon})})})]})]})]}),!s&&(0,t.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},...g,...c?{}:A,children:(0,t.jsxs)("span",{style:{fontSize:"12px",color:"#999",marginLeft:"6px"},children:["@",e.owner]})})]}),s&&(0,t.jsxs)("ul",{className:(0,i.A)("card__footer",m.A.cardFooter),style:{listStyle:"none"},children:[(0,t.jsx)(d.Y,{tags:e.tags}),e.website&&(0,t.jsx)("li",{style:{marginLeft:"auto"},children:(0,t.jsx)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",children:(0,t.jsx)(C.A,{})})})]})]})},E=a.memo(function({filteredCommus:e=[],filteredCards:s=[],isFiltered:r=!1}){let{userAuth:o,refreshUserAuth:l}=(0,a.useContext)(N.c),[n,d]=g.Ay.useMessage(),{i18n:m}=(0,c.A)(),p=m.currentLocale.split("-")[0],[u,x]=(0,a.useState)([]),[j,f]=(0,a.useState)([]),[y,w]=(0,a.useState)(!1),[C,k]=(0,a.useState)(null),L=(0,b.FR)((0,b.MS)(b.AN),(0,b.MS)(b.uN,{coordinateGetter:v.JR}));(0,a.useEffect)(()=>{if(!o?.data)return;let t=o.data?.favorites?.loves||[],a=o.data?.favorites?.commLoves||[];(async()=>{try{if(r)f(e),x(s);else{let e=await (0,T.oO)("cards",t,p);x(e);let s=await (0,T.oO)("commus",a);f(s)}}catch(e){console.error(e)}})()},[o,p,r,e,s]);let S=(0,a.useCallback)(async(e,s=!1)=>{try{let r=s?o.data.favorites.commLoves||[]:o.data.favorites.loves||[],t=o.data.favorites.id,a=r.indexOf(e);a>-1&&(r.splice(a,1),n.open({type:"success",content:"Removed from favorites successfully!"})),s&&localStorage.removeItem(`commus_${e}`),await (0,T.O)(t,r,s),l()}catch(e){console.error(e)}},[o,l]);return((0,a.useEffect)(()=>{if(y){let e=j.map(e=>e.id),s=u.map(e=>e.id);(0,T.Pi)("commLoves",e),(0,T.Pi)("loves",s),(0,T.uz)("favorites.commLoves",e),(0,T.uz)("favorites.loves",s),w(!1)}},[j,u]),o?.data)?(0,t.jsxs)(t.Fragment,{children:[d,u?.length||j?.length?(0,t.jsx)(b.Mp,{sensors:L,collisionDetection:b.fp,onDragStart:e=>{k(e.active.id)},onDragEnd:e=>{let{active:s,over:r}=e;r&&(s.id!==r.id&&(w(!0),j.some(e=>e.id===s.id)?f(e=>{let t=e.findIndex(e=>e.id===s.id),a=e.findIndex(e=>e.id===r.id);return(0,v.be)(e,t,a)}):x(e=>{let t=e.findIndex(e=>e.id===s.id),a=e.findIndex(e=>e.id===r.id);return(0,v.be)(e,t,a)})),k(null))},children:(0,t.jsxs)("ul",{className:(0,i.A)("clean-list",h.A.showcaseList),children:[j?.length>0&&(0,t.jsx)(v.gB,{items:j.map(e=>e.id),children:j.map(e=>(0,t.jsx)(I,{item:e,isCard:!1,currentLanguage:p,isFiltered:r,removeBookmark:S},e.id))}),u?.length>0&&(0,t.jsx)(v.gB,{items:u.map(e=>e.id),children:u.map(e=>(0,t.jsx)(I,{item:e,isCard:!0,currentLanguage:p,isFiltered:r,removeBookmark:S},e.id))})]})}):(0,t.jsx)("ul",{className:(0,i.A)("clean-list",h.A.showcaseList),children:(0,t.jsx)("li",{className:"card shadow--md",children:(0,t.jsx)("div",{className:(0,i.A)("card__body"),children:(0,t.jsx)("p",{children:"You haven't favorited any prompts yet."})})})})]}):(0,t.jsx)(A.A,{})},function(e,s){return e.isFiltered===s.isFiltered&&F()(e.filteredCommus,s.filteredCommus)&&F()(e.filteredCards,s.filteredCards)})},93715:function(e,s,r){r.d(s,{A:()=>B});var t=r(74848),a=r(96540),i=r(39836),o=r(43789),l=r(68702),n=r(86248),c=r(85332),d=r(76677),m=r(29312),h=r(25002),p=r(15437),u=r(76077),x=r(80520),g=r(67639),A=r(56523),j=r(23219),f=r(78557),y=r(91436),w=r(87887),C=r(82311),b=r(91213),v=r(39108),k=r(36450),T=r(43627),N=r(74979),L=r(66552),S=r(26976),F=r(42993),I=r(2404),E=r.n(I),P=r(46524),O=r(74922);let _=({UserPrompt:e,isFiltered:s,handleDeletePrompt:r,handleEditPrompt:m})=>{let{attributes:h,listeners:p,setNodeRef:u,transform:x,transition:g}=(0,T.gl)({id:e.id}),[A,v]=(0,a.useState)(!1),[k,S]=(0,a.useState)(e.description),{copied:I,copyText:E}=(0,l.C)(),P=k||e.description,O={transform:N.Ks.Transform.toString(x),transition:g,cursor:s?"default":"grab"};return(0,t.jsx)("li",{ref:u,className:"card shadow--md",style:O,children:(0,t.jsxs)("div",{className:(0,i.A)("card__body"),style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:(0,i.A)(L.A.showcaseCardHeader),children:[(0,t.jsxs)("div",{className:`${L.A.showcaseCardTitle} ${L.A.shortEllipsisMy}`,...h,...s?{}:p,children:[(0,t.jsxs)("span",{className:L.A.showcaseCardLink,style:{color:"var(--ifm-color-primary)"},children:[e.title," "]}),e.upvoteDifference>0&&(0,t.jsxs)(n.A,{color:"green",children:["+",e.upvoteDifference]}),!1===e.share&&(0,t.jsx)(n.A,{color:"blue",icon:(0,t.jsx)(j.A,{})})]}),(0,t.jsx)(c.A,{title:(0,o.T)({id:"theme.CodeBlock.copy",message:"\u590D\u5236"}),children:(0,t.jsx)(d.Ay,{onClick:()=>E(e.description),children:I?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.A,{})," ",(0,t.jsx)(o.A,{id:"theme.CodeBlock.copied",children:"\u5DF2\u590D\u5236"})]}):(0,t.jsx)(y.A,{})})})]}),e.remark&&(0,t.jsxs)("p",{className:L.A.showcaseCardBody,style:{maxHeight:68},...h,...s?{}:p,children:["\uD83D\uDC49 ",e.remark]}),(0,t.jsxs)("div",{className:L.A.descriptionWrapper,children:[(0,t.jsx)("p",{onClick:()=>{e.notes&&S(k===e.description?e.notes:e.description)},className:`${L.A.showcaseCardBody} ${e.notes?L.A.clickable:L.A.nonClickable}`,children:A?P:(0,F.xv)(P)}),!A&&P.length>F.E2&&(0,t.jsx)("div",{className:L.A.gradientOverlay,children:(0,t.jsx)(c.A,{title:(0,t.jsx)(o.A,{children:"\u52A0\u8F7D\u66F4\u591A"}),children:(0,t.jsx)(w.A,{onClick:()=>{v(!A)},className:L.A.downIcon})})})]})]}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},className:L.A.nonClickable,children:[(0,t.jsx)(d.Ay,{icon:(0,t.jsx)(C.A,{}),onClick:()=>r(e.id),children:(0,t.jsx)(o.A,{id:"delete",children:"\u5220\u9664"})}),(0,t.jsx)(d.Ay,{icon:(0,t.jsx)(b.A,{}),onClick:()=>m(e),children:(0,t.jsx)(o.A,{id:"edit",children:"\u4FEE\u6539"})})]})]})})},B=a.memo(function({filteredCommus:e=[],isFiltered:s=!1}){let{userAuth:r,refreshUserAuth:l}=(0,a.useContext)(O.c),[n,c]=m.Ay.useMessage(),[j,y]=(0,a.useState)([]),[w,C]=(0,a.useState)(!1),[b,N]=(0,a.useState)(!1),[F,I]=(0,a.useState)(!1),[E,B]=(0,a.useState)(null),[D]=h.A.useForm(),M=(0,k.FR)((0,k.MS)(k.AN),(0,k.MS)(k.uN,{coordinateGetter:T.JR}));(0,a.useEffect)(()=>{if(!r?.data)return;let t=!0;return(async()=>{C(!0);try{if(s)y(e);else{let e=r.data?.userprompts||[],s=await (0,P.oO)("userprompts",e);t&&y(s)}}catch(e){console.error("Failed to fetch prompts:",e),t&&n.error((0,o.T)({id:"message.fetchError",message:"\u83B7\u53D6\u63D0\u793A\u8BCD\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"}))}finally{t&&C(!1)}})(),()=>{t=!1}},[r,s,e]);let R=(0,a.useCallback)(e=>{B(e.id),D.setFieldsValue(e),I(!0)},[D]),U=(0,a.useCallback)(async e=>{C(!0);try{await (0,P.qj)(E,e),l(),n.success((0,o.T)({id:"message.success",message:"\u8BCD\u6761\u63D0\u4EA4\u6210\u529F\uFF01"})),I(!1),D.resetFields()}catch(e){console.error(e),(0,P.Em)(),l(),n.error((0,o.T)({id:"message.error",message:"\u8BCD\u6761\u63D0\u4EA4\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"})),I(!1)}finally{C(!1)}},[E,l,D]),q=(0,a.useCallback)(e=>{p.A.confirm({title:(0,t.jsx)(o.A,{id:"message.deletePrompt.confirm.title",children:"Confirm Delete"}),content:(0,t.jsx)(o.A,{id:"message.deletePrompt.confirm.content",children:"Are you sure you want to delete this prompt?"}),onOk:async()=>{C(!0);try{await (0,P.Ir)(e),l(),n.success((0,o.T)({id:"message.deletePrompt.success",message:"Prompt successfully deleted!"}))}catch(e){console.error(e),(0,P.Em)(),l(),n.error((0,o.T)({id:"message.deletePrompt.error",message:"Failed to delete prompt, please try again later."}))}finally{C(!1)}}})},[l]),H=(0,a.useCallback)(e=>{let{active:s,over:r}=e;s.id!==r?.id&&(N(!0),y(e=>{let t=e.findIndex(e=>e.id===s.id),a=e.findIndex(e=>e.id===r.id);return(0,T.be)(e,t,a)}))},[]);return((0,a.useEffect)(()=>{if(b&&j.length>0){let e=j.map(e=>e.id),s=e.map(e=>({id:e}));(0,P.uz)("userprompts",s),(0,P.dY)(e),N(!1)}},[j,b]),r?.data)?(0,t.jsxs)(t.Fragment,{children:[c,w?(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:"2rem"},children:(0,t.jsx)(u.A,{})}):(0,t.jsx)(k.Mp,{sensors:M,collisionDetection:k.fp,onDragEnd:H,children:(0,t.jsx)("ul",{className:(0,i.A)("clean-list",S.A.showcaseList),children:j&&0!==j.length?(0,t.jsx)(T.gB,{items:j.map(e=>e.id),children:j.map(e=>(0,t.jsx)(_,{UserPrompt:e,isFiltered:s,handleDeletePrompt:q,handleEditPrompt:R},e.id))}):(0,t.jsx)("li",{className:"card shadow--md",children:(0,t.jsx)("div",{className:(0,i.A)("card__body",L.A.cardBodyHeight),children:(0,t.jsx)("p",{children:(0,t.jsx)(o.A,{id:"message.noPrompts",children:"\u5C1A\u672A\u63D0\u4EA4\u4EFB\u4F55\u63D0\u793A\u8BCD\uFF0C\u8BF7\u6DFB\u52A0\u63D0\u793A\u8BCD\u3002"})})})})})}),(0,t.jsx)(p.A,{title:(0,o.T)({id:"modal.updateprompt.title",message:"\u66F4\u65B0\u5F53\u524D Prompt"}),open:F,footer:null,maskClosable:!1,onCancel:()=>{I(!1),D.resetFields()},children:(0,t.jsxs)(h.A,{form:D,onFinish:U,children:[(0,t.jsx)(h.A.Item,{name:"title",rules:[{required:!0,message:(0,o.T)({id:"message.addprompt.requiredTitle",message:"\u8BF7\u8F93\u5165\u63D0\u793A\u8BCD\u6807\u9898\uFF01"})}],children:(0,t.jsx)(x.A,{placeholder:(0,o.T)({id:"input.addprompt.title",message:"\u63D0\u793A\u8BCD\u540D\u79F0"})})}),(0,t.jsx)(h.A.Item,{name:"description",rules:[{required:!0,message:(0,o.T)({id:"message.addprompt.requiredDescription",message:"\u8BF7\u8F93\u5165\u63D0\u793A\u8BCD\u5185\u5BB9\uFF01"})}],children:(0,t.jsx)(x.A.TextArea,{placeholder:(0,o.T)({id:"input.addprompt.description",message:"\u63D0\u793A\u8BCD\u5185\u5BB9"}),rows:4})}),(0,t.jsx)(h.A.Item,{name:"remark",children:(0,t.jsx)(x.A,{placeholder:(0,o.T)({id:"input.addprompt.remark",message:"\u63D0\u793A\u8BCD\u4F5C\u7528\uFF08\u975E\u5FC5\u586B\uFF09"})})}),(0,t.jsx)(h.A.Item,{name:"notes",children:(0,t.jsx)(x.A.TextArea,{placeholder:(0,o.T)({id:"input.addprompt.notes",message:"\u5907\u6CE8\uFF08\u975E\u5FC5\u586B\uFF09\uFF1A\u60A8\u53EF\u4EE5\u5728\u6B64\u63D0\u4F9B\u63D0\u793A\u8BCD\u7684\u6765\u6E90\u8BF4\u660E\uFF0C\u4EE5\u53CA\u8BE5\u63D0\u793A\u8BCD\u7684\u5176\u4ED6\u8BED\u8A00\u7248\u672C\u3002\u6B64\u5916\uFF0C\u5982\u679C\u60A8\u6709\u4EFB\u4F55\u5173\u4E8E\u8BE5\u63D0\u793A\u8BCD\u7684\u62D3\u5C55\u60F3\u6CD5\u548C\u9700\u6C42\uFF0C\u8BF7\u5728\u6B64\u8FDB\u884C\u8BF4\u660E\u3002"}),rows:3})}),(0,t.jsx)(h.A.Item,{name:"share",valuePropName:"checked",children:(0,t.jsxs)("div",{children:[F&&(0,t.jsx)(g.A,{defaultChecked:D.getFieldValue("share"),onChange:e=>{D.setFieldsValue({share:e})},checkedChildren:(0,t.jsx)(f.A,{}),unCheckedChildren:(0,t.jsx)(v.A,{})}),(0,t.jsxs)(A.A.Text,{type:"secondary",children:[" ",(0,t.jsx)(o.A,{id:"message.addprompt.submission",children:"\u60A8\u662F\u5426\u613F\u610F\u5C06\u8BE5\u63D0\u793A\u8BCD\u5206\u4EAB\u5230\u516C\u5F00\u9875\u9762\uFF1F"})]})]})}),(0,t.jsx)(h.A.Item,{children:(0,t.jsx)(d.Ay,{type:"primary",htmlType:"submit",loading:w,children:(0,t.jsx)(o.A,{id:"button.updateprompt",children:"\u66F4\u65B0 Prompt"})})})]})})]}):(0,t.jsx)(u.A,{})},function(e,s){return e.isFiltered===s.isFiltered&&E()(e.filteredCommus,s.filteredCommus)})},38378:function(e,s,r){r.d(s,{A:()=>S});var t=r(74848),a=r(96540),i=r(69774),o=r(12801),l=r(25002),n=r(15437),c=r(80520),d=r(67639),m=r(56523),h=r(76677),p=r(29312),u=r(48284),x=r(85332),g=r(76077),A=r(56650),j=r(93861),f=r(91213),y=r(72962),w=r(53045),C=r(27922),b=r(22017),v=r(92396),k=r(43789),T=r(46524),N=r(74922);let L=({open:e,setOpen:s,onFinish:r,loading:i})=>{let[o]=l.A.useForm(),p=a.useCallback(e=>{r(e,o)},[r,o]);return(0,t.jsx)(n.A,{title:(0,k.T)({id:"modal.addprompt.title",message:"\u6DFB\u52A0 Prompt\uFF08\u672C\u5185\u5BB9\u5C06\u51FA\u73B0\u5728\u300C\u6211\u7684\u63D0\u793A\u8BCD\u300D\u6807\u7B7E\u4E2D\uFF09"}),open:e,footer:null,maskClosable:!1,closable:!i,destroyOnHidden:!0,onCancel:()=>!i&&s(!1),children:(0,t.jsxs)(l.A,{form:o,onFinish:p,initialValues:{share:!0},children:[(0,t.jsx)(l.A.Item,{name:"title",rules:[{required:!0,message:(0,k.T)({id:"message.addprompt.requiredTitle",message:"\u8BF7\u8F93\u5165\u63D0\u793A\u8BCD\u6807\u9898\uFF01"})}],children:(0,t.jsx)(c.A,{placeholder:(0,k.T)({id:"input.addprompt.title",message:"\u63D0\u793A\u8BCD\u540D\u79F0"})})}),(0,t.jsx)(l.A.Item,{name:"description",rules:[{required:!0,message:(0,k.T)({id:"message.addprompt.requiredDescription",message:"\u8BF7\u8F93\u5165\u63D0\u793A\u8BCD\u5185\u5BB9\uFF01"})}],children:(0,t.jsx)(c.A.TextArea,{placeholder:(0,k.T)({id:"input.addprompt.description",message:"\u63D0\u793A\u8BCD\u5185\u5BB9"}),rows:6,maxLength:2e3,showCount:!0})}),(0,t.jsx)(l.A.Item,{name:"remark",children:(0,t.jsx)(c.A,{placeholder:(0,k.T)({id:"input.addprompt.remark",message:"\u63D0\u793A\u8BCD\u4F5C\u7528\uFF08\u975E\u5FC5\u586B\uFF09"})})}),(0,t.jsx)(l.A.Item,{name:"notes",children:(0,t.jsx)(c.A.TextArea,{placeholder:(0,k.T)({id:"input.addprompt.notes",message:"\u5907\u6CE8\uFF08\u975E\u5FC5\u586B\uFF09\uFF1A\u60A8\u53EF\u4EE5\u5728\u6B64\u63D0\u4F9B\u63D0\u793A\u8BCD\u7684\u6765\u6E90\u8BF4\u660E\uFF0C\u4EE5\u53CA\u8BE5\u63D0\u793A\u8BCD\u7684\u5176\u4ED6\u8BED\u8A00\u7248\u672C\u3002\u6B64\u5916\uFF0C\u5982\u679C\u60A8\u6709\u4EFB\u4F55\u5173\u4E8E\u8BE5\u63D0\u793A\u8BCD\u7684\u62D3\u5C55\u60F3\u6CD5\u548C\u9700\u6C42\uFF0C\u8BF7\u5728\u6B64\u8FDB\u884C\u8BF4\u660E\u3002"}),rows:4})}),(0,t.jsx)(l.A.Item,{name:"share",valuePropName:"checked",children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,t.jsx)(d.A,{defaultChecked:!0,onChange:e=>{o.setFieldsValue({share:e})},checkedChildren:(0,k.T)({id:"input.addprompt.share.checked",message:"\u662F"}),unCheckedChildren:(0,k.T)({id:"input.addprompt.share.unchecked",message:"\u5426"})}),(0,t.jsx)(m.A.Text,{type:"secondary",style:{marginLeft:8},children:(0,t.jsx)(k.A,{id:"message.addprompt.submission",children:"\u60A8\u662F\u5426\u613F\u610F\u5C06\u8BE5\u63D0\u793A\u8BCD\u5206\u4EAB\u5230\u516C\u5F00\u9875\u9762\uFF1F"})})]})}),(0,t.jsx)(h.Ay,{htmlType:"submit",type:"primary",loading:i,block:!0,children:(0,t.jsx)(k.A,{id:"button.addPrompt",children:"\u6DFB\u52A0 Prompt"})})]})})},S=a.memo(({hideLinks:e={userCenter:!1,myFavorite:!1}})=>{let{userAuth:s,setUserAuth:r,refreshUserAuth:l,isLoading:c}=(0,a.useContext)(N.c),[d,m]=(0,a.useState)(!1),[S,F]=(0,a.useState)(!1),[I,E]=p.Ay.useMessage(),P=(0,a.useCallback)(async()=>{await (0,T.Em)(),l(),I.success((0,t.jsx)(k.A,{id:"message.cache.cleared",children:"\u7F13\u5B58\u5DF2\u6E05\u9664"}))},[l,I]),O=(0,a.useCallback)(async(e,s)=>{F(!0);try{await (0,T.vA)(e),l(),I.success((0,t.jsx)(k.A,{id:"message.success",children:"\u8BCD\u6761\u63D0\u4EA4\u6210\u529F\uFF01"})),I.success((0,t.jsx)(k.A,{id:"message.success1",children:"\u70B9\u51FB\u6807\u7B7E\u300C\u6211\u7684\u63D0\u793A\u8BCD\u300D\u67E5\u770B\u5DF2\u6DFB\u52A0\u7684\u81EA\u5B9A\u4E49\u63D0\u793A\u8BCD\u3002"})),s.resetFields(),m(!1)}catch(e){console.error(e),I.error((0,t.jsx)(k.A,{id:"message.error",children:"\u8BCD\u6761\u63D0\u4EA4\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"}))}finally{F(!1)}},[l,I]),_=(0,a.useCallback)(async()=>{try{if(!s?.data?.userprompts||0===s.data.userprompts.length)return void I.warning((0,t.jsx)(k.A,{id:"message.export.noPrompts",children:"\u6682\u65E0\u63D0\u793A\u8BCD\u53EF\u5BFC\u51FA\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"}));let e=await (0,T.oO)("userprompts",s.data.userprompts),r={exportTime:new Date().toISOString(),totalCount:e.length,prompts:e.map(e=>({id:e.id,title:e.title,description:e.description,remark:e.remark||"",notes:e.notes||"",createdAt:e.createdAt,updatedAt:e.updatedAt,share:e.share}))},a=JSON.stringify(r,null,2),i=new Blob([a],{type:"application/json"}),o=URL.createObjectURL(i),l=document.createElement("a");l.href=o,l.download=`my-prompts-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(o),I.success((0,t.jsx)(k.A,{id:"message.export.success",children:"\u63D0\u793A\u8BCD\u5BFC\u51FA\u6210\u529F\uFF01"}))}catch(e){console.error("Export error:",e),I.error((0,t.jsx)(k.A,{id:"message.export.error",children:"\u5BFC\u51FA\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"}))}},[s,I]),B=(0,a.useCallback)(async()=>{i.A.canUseDOM&&(localStorage.removeItem("auth_token"),localStorage.removeItem("userAllInfo"),localStorage.removeItem("userAllInfoCacheExpiration")),r(null),window.location.reload()},[r]),D=(0,a.useMemo)(()=>(0,t.jsxs)(u.A,{wrap:!0,size:"middle",children:[!e.userCenter&&(0,t.jsxs)(o.A,{to:"/user",className:"button button--primary",children:[(0,t.jsx)(A.A,{})," ",(0,t.jsx)(k.A,{id:"link.myaccount",children:"\u8D26\u53F7\u8BBE\u7F6E"})]}),!e.myFavorite&&(0,t.jsxs)(o.A,{to:"/user/favorite",className:"button button--primary hideOnSmallScreen",children:[(0,t.jsx)(j.A,{})," ",(0,t.jsx)(k.A,{id:"link.user",children:"\u4E2A\u4EBA\u4E2D\u5FC3"})]}),(0,t.jsxs)("a",{className:"button button--primary",onClick:()=>m(!0),children:[(0,t.jsx)(f.A,{})," ",(0,t.jsx)(k.A,{id:"link.addprompt",children:"\u6DFB\u52A0\u63D0\u793A\u8BCD"})]}),!e.userCenter&&(0,t.jsx)(x.A,{title:(0,t.jsx)(k.A,{id:"tooltip.exportPrompts",children:"\u5BFC\u51FA\u60A8\u521B\u5EFA\u7684\u6240\u6709\u63D0\u793A\u8BCD\u5230 JSON \u6587\u4EF6"}),children:(0,t.jsx)(h.Ay,{icon:(0,t.jsx)(y.A,{}),onClick:_,style:{color:"gray"},children:(0,t.jsx)("span",{className:"hideOnSmallScreen",children:(0,t.jsx)(k.A,{id:"button.exportPrompts",children:"\u5BFC\u51FA\u63D0\u793A\u8BCD"})})})}),(0,t.jsx)(x.A,{title:(0,t.jsx)(k.A,{id:"tooltip.clearCache",children:"\u82E5\u60A8\u5728\u5176\u4ED6\u8BBE\u5907\u66F4\u65B0\u4E86\u6536\u85CF\u6216\u63D0\u793A\u8BCD\uFF0C\u70B9\u51FB\u6E05\u9664\u7F13\u5B58\u4EE5\u540C\u6B65\u6700\u65B0\u5185\u5BB9\u3002"}),children:(0,t.jsx)(h.Ay,{icon:(0,t.jsx)(w.A,{}),onClick:P,style:{color:"gray"},children:(0,t.jsx)("span",{className:"hideOnSmallScreen",children:(0,t.jsx)(k.A,{id:"button.clearCache",children:"\u6E05\u9664\u7F13\u5B58"})})})}),(0,t.jsx)(h.Ay,{icon:(0,t.jsx)(C.A,{}),onClick:()=>{n.A.confirm({title:"Confirm Logout",content:"Click OK to log out.",onOk:B})},style:{color:"gray"},children:(0,t.jsx)("span",{className:"hideOnSmallScreen",children:(0,t.jsx)(k.A,{id:"button.logout",children:"\u9000\u51FA\u767B\u5F55"})})})]}),[e,P,B]),M=(0,a.useMemo)(()=>(0,t.jsxs)(u.A,{wrap:!0,size:"middle",children:[(0,t.jsx)("button",{className:"button button--primary",onClick:()=>m(!0),children:(0,t.jsx)(k.A,{id:"button.login",children:"\u767B\u5F55"})}),(0,t.jsxs)(o.A,{to:"/community-prompts",className:"button button--primary",children:[(0,t.jsx)(b.A,{})," ",(0,t.jsx)(k.A,{id:"showcase.header.button",children:"\u5206\u4EAB\u4F60\u7684\u63D0\u793A\u8BCD"})]})]}),[]);return c?(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50px"},children:(0,t.jsx)(g.A,{size:"small"})}):(0,t.jsxs)(t.Fragment,{children:[E,s?(0,t.jsxs)(t.Fragment,{children:[D,(0,t.jsx)(L,{open:d,setOpen:m,onFinish:O,loading:S})]}):(0,t.jsxs)(t.Fragment,{children:[M,(0,t.jsx)(n.A,{open:d,footer:null,onCancel:()=>m(!1),children:(0,t.jsx)(v.A,{})})]})]})})},92396:function(e,s,r){r.d(s,{A:()=>N});var t=r(74848),a=r(96540),i=r(56523),o=r(29312),l=r(25002),n=r(75974),c=r(80520),d=r(76677),m=r(48284),h=r(37029),p=r(22029),u=r(28249),x=r(66563),g=r(56650),A=r(23219),j=r(38725),f=r(43789),y=r(69774),w=r(46524),C=r(61162);async function b(){try{return(await C.A.get("https://api.newzone.top/strapi-google-auth/init")).data.url}catch(e){throw console.error("Error fetching Google authentication URL:",e),e}}async function v(e){try{return(await C.A.post("https://gauth.aishort.top/strapi-google-auth/user-profile",{code:e},{timeout:3e4})).data.data}catch(e){if(console.error("Error authenticating user with Google:",e),"ECONNABORTED"===e.code)throw Error("Request timed out. Please try again.");throw e}}y.A.canUseDOM&&localStorage.getItem("auth_token");let{Title:k}=i.A,T={username:[{required:!0,message:(0,f.T)({id:"input.rules.username",message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D\u6216\u6CE8\u518C\u90AE\u7BB1\uFF01"})}],password:[{required:!0,message:(0,f.T)({id:"input.rules.password",message:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})},{min:6,message:(0,f.T)({id:"input.password.valid",message:"\u5BC6\u7801\u957F\u5EA6\u81F3\u5C11\u4E3A 6 \u4E2A\u5B57\u7B26"})}],email:[{required:!0,message:(0,f.T)({id:"input.rules.email",message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\uFF01"})},{type:"email",message:(0,f.T)({id:"input.email.valid",message:"\u8BF7\u8F93\u5165\u6709\u6548\u7684\u90AE\u7BB1\u5730\u5740\uFF01"})}]},N=()=>{let[e,s]=(0,a.useState)(!1),[r,i]=(0,a.useState)("1"),[C,N]=o.Ay.useMessage(),[L,S]=(0,a.useState)(Date.now()),[F]=l.A.useForm(),[I]=l.A.useForm(),[E]=l.A.useForm(),[P]=l.A.useForm(),O=(0,a.useCallback)(()=>{i("3")},[]),_=(0,a.useCallback)(()=>{i("4")},[]);(0,a.useEffect)(()=>{let e=async e=>{if(e.data.code){s(!0);try{let s=await v(e.data.code);D(s.user.username,s.token)}catch(e){C.error("Login failed: "+(e.message||"Unknown error"))}finally{s(!1)}}};return window.addEventListener("message",e,!1),()=>{window.removeEventListener("message",e)}},[C]);let B=async()=>{s(!0);try{let e=await b();if(e){let s=window.open(e,"_blank","location=yes,height=570,width=520,scrollbars=yes,status=yes");(!s||s.closed||void 0===s.closed)&&alert('Please disable your pop-up blocker and click the "Open" link again.')}else alert("Failed to generate Google Auth URL.")}catch(e){C.open({type:"error",content:"Error while attempting Google login: "+e.message})}finally{s(!1)}},D=(e,s)=>{y.A.canUseDOM&&(localStorage.setItem("auth_token",s),window.postMessage({action:"login",username:e,jwt:s},"*"),setTimeout(()=>{window.location.reload()},500))},M=(0,a.useCallback)(async(e,r,a)=>{s(!0);try{let s=await r(e);D(s.data.user.username,s.data.jwt),C.success(a)}catch(e){try{"Request timed out. Please try again."===e.message?C.error(e.message):e.response?.status===400?C.error(e.response.data.error.message):e.response?.status===429?C.error("Requests are too frequent. Please try again later."):C.error((0,t.jsx)(f.A,{id:"message.error",children:"\u53D1\u751F\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5"}))}catch(e){C.error((0,t.jsx)(f.A,{id:"message.error",children:"\u5904\u7406\u9519\u8BEF\u65F6\u53D1\u751F\u9519\u8BEF"}))}}finally{s(!1)}},[C]),R=async e=>{M(e,w.iD,(0,t.jsx)(f.A,{id:"message.loginSuccess",children:"\u767B\u5F55\u6210\u529F\uFF01"}))},U=async e=>{M(e,w.kz,(0,t.jsx)(f.A,{id:"message.registerSuccess",children:"\u6CE8\u518C\u6210\u529F\uFF01"}))},q=async e=>{s(!0);try{await (0,w.BD)(e.email),C.success((0,t.jsx)(f.A,{id:"message.forgotPassword.success",children:"\u5BC6\u7801\u91CD\u7F6E\u90AE\u4EF6\u5DF2\u53D1\u9001\uFF01"})),E.resetFields()}catch(e){console.error((0,f.T)({id:"error.forgotPassword",message:"Error sending forgot password email:"}),e),C.error((0,t.jsx)(f.A,{id:"message.forgotPassword.error",children:"\u53D1\u9001\u5BC6\u7801\u91CD\u7F6E\u90AE\u4EF6\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"}))}finally{s(!1)}},H=async e=>{s(!0);let r=e.email;try{let e=/\S+@\S+\.\S+/.test(r)?{email:r}:{username:r};await (0,w.U0)(e),C.success((0,t.jsx)(f.A,{id:"message.passwordlessLinkSent",children:"\u514D\u5BC6\u7801\u767B\u5F55\u94FE\u63A5\u5DF2\u53D1\u9001\u5230\u60A8\u7684\u90AE\u7BB1\uFF01"})),P.resetFields()}catch(e){console.error("Error sending passwordless login link:",e),C.error((0,t.jsx)(f.A,{id:"message.errorSendingPasswordlessLink",children:"\u53D1\u9001\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u90AE\u7BB1\u6216\u7528\u6237\u540D"}))}finally{s(!1)}},z=[{key:"1",label:(0,t.jsx)(f.A,{id:"tabs.login",children:"\u767B\u5F55"}),children:(0,t.jsxs)(l.A,{form:F,onFinish:R,layout:"vertical",children:[(0,t.jsx)(l.A.Item,{name:"username",rules:T.username,label:(0,t.jsx)(f.A,{id:"input.username",children:"\u7528\u6237\u540D/\u90AE\u7BB1"}),children:(0,t.jsx)(c.A,{autoComplete:"username",prefix:(0,t.jsx)(g.A,{}),placeholder:(0,f.T)({id:"input.username",message:"\u7528\u6237\u540D/\u90AE\u7BB1"})})}),(0,t.jsx)(l.A.Item,{name:"password",rules:T.password,label:(0,t.jsx)(f.A,{id:"input.password",children:"\u5BC6\u7801"}),children:(0,t.jsx)(c.A.Password,{autoComplete:"current-password",prefix:(0,t.jsx)(A.A,{}),placeholder:(0,f.T)({id:"input.password",message:"\u5BC6\u7801"})})}),(0,t.jsx)(l.A.Item,{children:(0,t.jsxs)(m.A,{direction:"vertical",style:{width:"100%"},children:[(0,t.jsx)(d.Ay,{type:"primary",htmlType:"submit",loading:e,block:!0,children:(0,t.jsx)(f.A,{id:"button.login",children:"\u767B\u5F55"})}),(0,t.jsx)(m.A,{style:{width:"100%",justifyContent:"center"},children:(0,t.jsx)(d.Ay,{onClick:B,icon:(0,t.jsx)(j.A,{}),children:"Login via Google"})}),(0,t.jsxs)(m.A,{style:{width:"100%",justifyContent:"space-between"},children:[(0,t.jsx)(d.Ay,{type:"link",onClick:O,style:{padding:0},children:(0,t.jsx)(f.A,{id:"button.register",children:"\u6CE8\u518C"})}),(0,t.jsx)(d.Ay,{type:"link",onClick:_,style:{padding:0},children:(0,t.jsx)(f.A,{id:"button.forgotPassword",children:"\u5FD8\u8BB0\u5BC6\u7801"})})]})]})})]})},{key:"2",label:(0,t.jsx)(f.A,{id:"tabs.passwordlessLogin",children:"\u514D\u5BC6\u7801\u767B\u5F55"}),children:(0,t.jsxs)(l.A,{form:P,onFinish:H,layout:"vertical",children:[(0,t.jsx)(n.A,{message:(0,t.jsx)(f.A,{id:"message.passwordlessLogin.info",children:"\u767B\u5F55\u94FE\u63A5\u5C06\u53D1\u9001\u81F3\u60A8\u7684\u90AE\u7BB1\uFF0C\u70B9\u51FB\u5373\u53EF\u767B\u5F55\uFF0C\u65E0\u9700\u8F93\u5165\u5BC6\u7801"}),type:"info",showIcon:!0,style:{marginBottom:16}}),(0,t.jsx)(l.A.Item,{name:"email",rules:T.username,label:(0,t.jsx)(f.A,{id:"input.username",children:"\u7528\u6237\u540D/\u90AE\u7BB1"}),children:(0,t.jsx)(c.A,{autoComplete:"username",prefix:(0,t.jsx)(x.A,{}),placeholder:(0,f.T)({id:"input.username",message:"\u7528\u6237\u540D/\u90AE\u7BB1"})})}),(0,t.jsx)(l.A.Item,{children:(0,t.jsx)(d.Ay,{type:"primary",htmlType:"submit",loading:e,block:!0,children:(0,t.jsx)(f.A,{id:"button.sendPasswordlessLink",children:"\u83B7\u53D6\u514D\u5BC6\u7801\u767B\u5F55\u94FE\u63A5"})})})]})},{key:"3",label:(0,t.jsx)(f.A,{id:"button.register",children:"\u6CE8\u518C"}),children:(0,t.jsxs)(l.A,{form:I,onFinish:U,layout:"vertical",children:[(0,t.jsx)(l.A.Item,{name:"username",rules:T.username,label:(0,t.jsx)(f.A,{id:"input.register.username",children:"\u7528\u6237\u540D"}),children:(0,t.jsx)(c.A,{autoComplete:"username",prefix:(0,t.jsx)(g.A,{}),placeholder:(0,f.T)({id:"input.register.username",message:"\u7528\u6237\u540D"})})}),(0,t.jsx)(l.A.Item,{name:"email",rules:T.email,label:(0,t.jsx)(f.A,{id:"input.email",children:"\u90AE\u7BB1"}),children:(0,t.jsx)(c.A,{autoComplete:"email",prefix:(0,t.jsx)(x.A,{}),placeholder:(0,f.T)({id:"input.email",message:"\u90AE\u7BB1"})})}),(0,t.jsx)(l.A.Item,{name:"password",rules:T.password,label:(0,t.jsx)(f.A,{id:"input.password",children:"\u5BC6\u7801"}),hasFeedback:!0,children:(0,t.jsx)(c.A.Password,{autoComplete:"new-password",prefix:(0,t.jsx)(A.A,{}),placeholder:(0,f.T)({id:"input.password",message:"\u5BC6\u7801"})})}),(0,t.jsx)(l.A.Item,{name:"agreement",valuePropName:"checked",rules:[{validator:(e,s)=>s?Promise.resolve():Promise.reject(Error((0,f.T)({id:"agreement.rules",message:"\u4F7F\u7528\u524D\u987B\u540C\u610F\u670D\u52A1\u6761\u6B3E\u548C\u9690\u79C1\u653F\u7B56"})))}],children:(0,t.jsxs)(h.A,{children:[(0,t.jsx)(f.A,{id:"agreement.text",children:"\u70B9\u6B64\u540C\u610F"})," ",(0,t.jsx)("a",{href:"/docs/terms-of-service",children:(0,t.jsx)(f.A,{id:"agreement.terms",children:"\u670D\u52A1\u6761\u6B3E"})})," ",(0,t.jsx)(f.A,{id:"agreement.and",children:"\u548C"})," ",(0,t.jsx)("a",{href:"/docs/privacy-policy",children:(0,t.jsx)(f.A,{id:"agreement.policy",children:"\u9690\u79C1\u653F\u7B56"})})]})}),(0,t.jsx)(l.A.Item,{children:(0,t.jsx)(d.Ay,{type:"primary",htmlType:"submit",loading:e,block:!0,children:(0,t.jsx)(f.A,{id:"button.register",children:"\u6CE8\u518C"})})})]})},{key:"4",label:(0,t.jsx)(f.A,{id:"label.forgotPassword",children:"\u5FD8\u8BB0\u5BC6\u7801"}),children:(0,t.jsxs)(l.A,{form:E,onFinish:q,layout:"vertical",children:[(0,t.jsx)(n.A,{message:(0,t.jsx)(f.A,{id:"message.forgotPassword.info",children:"\u91CD\u7F6E\u5BC6\u7801\u94FE\u63A5\u5C06\u53D1\u9001\u81F3\u60A8\u7684\u90AE\u7BB1"}),type:"info",showIcon:!0,style:{marginBottom:16}}),(0,t.jsx)(l.A.Item,{name:"email",label:(0,t.jsx)(f.A,{id:"input.email",children:"\u90AE\u7BB1"}),rules:T.email,children:(0,t.jsx)(c.A,{autoComplete:"email",prefix:(0,t.jsx)(x.A,{}),placeholder:(0,f.T)({id:"placeholder.email",message:"\u90AE\u7BB1"})})}),(0,t.jsx)(l.A.Item,{children:(0,t.jsx)(d.Ay,{type:"primary",htmlType:"submit",loading:e,block:!0,children:(0,t.jsx)(f.A,{id:"button.sendResetEmail",children:"\u53D1\u9001\u5BC6\u7801\u91CD\u7F6E\u90AE\u4EF6"})})})]})}];return(0,t.jsxs)(t.Fragment,{children:[N,(0,t.jsx)(p.A,{title:(0,t.jsx)(k,{level:4,children:(0,t.jsx)(f.A,{id:"card.welcome",children:"\u6B22\u8FCE"})}),style:{maxWidth:480,margin:"0 auto"},children:(0,t.jsx)(u.A,{defaultActiveKey:"1",activeKey:r,onChange:e=>{i(e),S(Date.now()),F.resetFields(),I.resetFields(),E.resetFields(),P.resetFields()},items:z,destroyOnHidden:!0},L)})]})}},24855:function(e,s,r){r.r(s),r.d(s,{default:()=>j});var t=r(74848),a=r(96540),i=r(39836),o=r(43789),l=r(55206),n=r(28249),c=r(93861),d=r(91213),m=r(26976),h=r(38378),p=r(93715),u=r(26100),x=r(7194),g=r(74922);let A=()=>{let[e,s]=(0,a.useState)("myprompts"),{filteredCommus:r,filteredCards:g,isFiltered:A}=(0,x.Kx)(e),j=(0,a.useCallback)(e=>{s(e)},[]);"undefined"!=typeof document&&document.documentElement.getAttribute("data-theme");let f=A&&0===g.length&&0===r.length,y=(0,a.useMemo)(()=>[{key:"myfavor",label:(0,o.T)({message:"\u6536\u85CF"}),icon:(0,t.jsx)(c.A,{}),children:!f&&(0,t.jsx)(u.A,{filteredCommus:r,filteredCards:g,isFiltered:A})},{key:"myprompts",label:(0,o.T)({id:"myprompt",message:"\u6211\u7684\u63D0\u793A\u8BCD"}),icon:(0,t.jsx)(d.A,{}),children:!f&&(0,t.jsx)(p.A,{filteredCommus:r,isFiltered:A})}],[r,g,A,f]);return(0,t.jsx)(l.A,{children:(0,t.jsx)("main",{className:"margin-vert--md",children:(0,t.jsx)("section",{className:"margin-top--sm margin-bottom--sm",children:(0,t.jsxs)("div",{className:"container padding-vert--md",children:[(0,t.jsx)("div",{className:"text--center",children:(0,t.jsx)(h.A,{hideLinks:{userCenter:!1,myFavorite:!0}})}),(0,t.jsx)("div",{className:(0,i.A)("margin-bottom--md",m.A.showcaseFavoriteHeader),children:(0,t.jsx)(x.Ay,{})}),(0,t.jsx)(n.A,{activeKey:e,items:y,onChange:j}),f&&(0,t.jsx)(x.aq,{})]})})})})},j=()=>(0,t.jsx)(g.O,{children:(0,t.jsx)(A,{})})},62360:function(e,s,r){function t(e,s){let r=[...e];return r.sort((e,r)=>s(e)>s(r)?1:s(r)>s(e)?-1:0),r}function a(e,s){let r=e.indexOf(s);if(-1===r)return e.concat(s);let t=[...e];return t.splice(r,1),t}r.d(s,{U:()=>t,w:()=>a})}}]);