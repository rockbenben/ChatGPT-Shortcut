"use strict";(self.webpackChunkchatgpt_shortcut=self.webpackChunkchatgpt_shortcut||[]).push([["1814"],{51712:function(e,s,r){r.d(s,{Z:()=>a});let a={showcaseCardBody:"showcaseCardBody_fqoj",showcaseCardHeader:"showcaseCardHeader_Wgbd",showcaseCardImage:"showcaseCardImage_cKtS",shortEllipsisMy:"shortEllipsisMy_clBa",shortEllipsis:"shortEllipsis_LL0g",showcaseCardTitle:"showcaseCardTitle_zvaY",svgIconFavorite:"svgIconFavorite_CmdZ",showcaseCardSrcBtn:"showcaseCardSrcBtn_o3AD",cardFooter:"cardFooter_tbwZ",tag:"tag_dHH4",textLabel:"textLabel_NAck",colorLabel:"colorLabel_xnnh",descriptionWrapper:"descriptionWrapper_fj5a",clickable:"clickable_BzJT",nonClickable:"nonClickable_M5zF",gradientOverlay:"gradientOverlay_B2ZG",downIcon:"downIcon_hOwl",showcaseCardLink:"showcaseCardLink_iYYT"}},19355:function(e,s,r){r.d(s,{Z:()=>a});let a={showcaseFavorite:"showcaseFavorite_HPRp",showcaseList:"showcaseList_Cwj2",filterCheckbox:"filterCheckbox_Uhtk",checkboxList:"checkboxList_autc",checkboxListItem:"checkboxListItem_CI1c",activeItem:"activeItem_EpEL",searchContainer:"searchContainer_FQjg",showcaseFavoriteHeader:"showcaseFavoriteHeader_hNPk",svgIconFavoriteXs:"svgIconFavoriteXs_Yxtr",svgIconFavorite:"svgIconFavorite_skrm",onToggleButton:"onToggleButton_ckPE"}},92853:function(e,s,r){r.d(s,{$:()=>t,P:()=>i});var a=r(96025);let t={favorite:{label:(0,a.I)({message:"\u6536\u85CF"}),description:(0,a.I)({message:"\u6536\u85CF",id:"showcase.tag.favorite.description"}),color:"#e9669e"},write:{label:(0,a.I)({message:"\u5199\u4F5C\u8F85\u52A9"}),description:(0,a.I)({message:"\u5BF9\u6587\u7AE0\u7684\u8BED\u6CD5\u548C\u98CE\u683C\u8FDB\u884C\u6DA6\u8272\uFF0C\u4EE5\u5E2E\u52A9\u4F60\u5B8C\u6210\u5199\u4F5C",id:"showcase.tag.write.description"}),color:"#75581e"},article:{label:(0,a.I)({message:"\u6587\u7AE0/\u62A5\u544A"}),description:(0,a.I)({message:"\u5C0F\u8BF4\u3001\u8BBA\u6587\u3001\u65B0\u95FB\u3001\u5267\u672C\u3001\u62A5\u544A\u7B49\u6709\u4E00\u5B9A\u6837\u5F0F\u7684\u6587\u7AE0",id:"showcase.tag.article.description"}),color:"#dfd545"},code:{label:(0,a.I)({message:"IT/\u7F16\u7A0B"}),description:(0,a.I)({message:"\u867D\u7136\u8BF4\u662F\u7F16\u7A0B\uFF0C\u4F46 ChatGPT \u662F\u6309\u7167\u8981\u6C42\u7ED9\u51FA\u7F16\u7A0B\u6B65\u9AA4\u7684\u5EFA\u8BAE\u6216\u7B80\u5355\u7684\u6837\u4F8B\u4EE3\u7801\uFF0C\u8FD9\u4E9B\u4EE3\u7801\u53EA\u80FD\u4F5C\u4E3A\u6D4B\u8BD5\uFF0C\u4ECD\u7136\u9700\u8981\u7A0B\u5E8F\u5458\u6765\u4FEE\u6539\u3002",id:"showcase.tag.code.description"}),color:"#8c2f00"},ai:{label:(0,a.I)({message:"AI"}),description:(0,a.I)({message:"AI",id:"showcase.tag.ai.description"}),color:"#ff6100"},living:{label:(0,a.I)({message:"\u751F\u6D3B\u8D28\u91CF"}),description:(0,a.I)({message:"\u5065\u8EAB\u3001\u8425\u517B\u3001\u53A8\u5E08\u3001\u5316\u5986\u3001\u9020\u578B",id:"showcase.tag.living.description"}),color:"#cf92e0"},interesting:{label:(0,a.I)({message:"\u8DA3\u5473\u77E5\u8BC6"}),description:(0,a.I)({message:"\u8DA3\u5473\u77E5\u8BC6",id:"showcase.tag.interesting.description"}),color:"#127f82"},life:{label:(0,a.I)({message:"\u81EA\u52A9\u767E\u79D1"}),description:(0,a.I)({message:"\u751F\u6D3B\u77E5\u8BC6/\u81EA\u52A9\u767E\u79D1",id:"showcase.tag.life.description"}),color:"#a44fb7"},social:{label:(0,a.I)({message:"\u5FC3\u7406/\u793E\u4EA4"}),description:(0,a.I)({message:"\u5FC3\u7406/\u793E\u4EA4",id:"showcase.tag.social.description"}),color:"#ee3308"},philosophy:{label:(0,a.I)({message:"\u54F2\u5B66/\u5B97\u6559"}),description:(0,a.I)({message:"\u54F2\u5B66/\u5B97\u6559",id:"showcase.tag.philosophy.description"}),color:"#ffcaa9"},mind:{label:(0,a.I)({message:"\u53D1\u6563\u601D\u7EF4"}),description:(0,a.I)({message:"\u8D28\u7591\u3001\u601D\u8003\u3001\u8054\u60F3\u3001\u5F52\u7EB3",id:"showcase.tag.mind.description"}),color:"#86699e"},pedagogy:{label:(0,a.I)({message:"\u6559\u80B2/\u5B66\u751F"}),description:(0,a.I)({message:"\u4E0E\u5B66\u751F\u6559\u80B2\u76F8\u5173\u7684\u5185\u5BB9",id:"showcase.tag.pedagogy.description"}),color:"#fe0999"},academic:{label:(0,a.I)({message:"\u5B66\u672F/\u6559\u5E08"}),description:(0,a.I)({message:"\u4E0E\u5B66\u672F\u6216\u5B66\u6821\u76F8\u5173\u7684\u4EBA\u548C\u4E8B\u7269",id:"showcase.tag.academic.description"}),color:"#fe6829"},games:{label:(0,a.I)({message:"\u6E38\u620F"}),description:(0,a.I)({message:"\u6E38\u620F",id:"showcase.tag.games.description"}),color:"#574C57"},tool:{label:(0,a.I)({message:"\u5DE5\u5177"}),description:(0,a.I)({message:"\u5DE5\u5177",id:"showcase.tag.tool.description"}),color:"#4267b2"},interpreter:{label:(0,a.I)({message:"\u7EC8\u7AEF/\u89E3\u91CA\u5668"}),description:(0,a.I)({message:"\u7EC8\u7AEF/\u89E3\u91CA\u5668",id:"showcase.tag.interpreter.description"}),color:"#ffa11c"},language:{label:(0,a.I)({message:"\u8BED\u8A00/\u7FFB\u8BD1"}),description:(0,a.I)({message:"\u8BED\u8A00\u751F\u6210\u3001\u8F6C\u6362\u3001\u7FFB\u8BD1\u3001\u8BC6\u522B\u7B49\u591A\u79CD\u5DE5\u5177",id:"showcase.tag.language.description"}),color:"#39ca30"},speech:{label:(0,a.I)({message:"\u8FA9\u8BBA/\u6F14\u8BB2"}),description:(0,a.I)({message:"\u8FA9\u8BBA/\u6F14\u8BB2",id:"showcase.tag.speech.description"}),color:"#9c1d10"},comments:{label:(0,a.I)({message:"\u70B9\u8BC4/\u8BC4\u9274"}),description:(0,a.I)({message:"\u70B9\u8BC4/\u8BC4\u9274",id:"showcase.tag.comments.description"}),color:"#eeef99"},text:{label:(0,a.I)({message:"\u6587\u672C/\u8BCD\u8BED"}),description:(0,a.I)({message:"\u6587\u672C/\u8BCD\u8BED",id:"showcase.tag.text.description"}),color:"#554236"},company:{label:(0,a.I)({message:"\u4F01\u4E1A\u804C\u80FD"}),description:(0,a.I)({message:"\u4E00\u822C\u4F01\u4E1A\u5185\u7684\u5C97\u4F4D",id:"showcase.tag.company.description"}),color:"#124f4e"},seo:{label:(0,a.I)({message:"SEO"}),description:(0,a.I)({message:"\u6587\u672C/\u5173\u952E\u8BCD\u62D3\u5C55\u751F\u6210",id:"showcase.tag.seo.description"}),color:"#BC9F77"},doctor:{label:(0,a.I)({message:"\u533B\u751F"}),description:(0,a.I)({message:"\u533B\u751F",id:"showcase.tag.doctor.description"}),color:"#0e7774"},finance:{label:(0,a.I)({message:"\u91D1\u878D\u987E\u95EE"}),description:(0,a.I)({message:"\u91D1\u878D\u884C\u4E1A\u7684\u5C97\u4F4D",id:"showcase.tag.finance.description"}),color:"#14cfc3"},music:{label:(0,a.I)({message:"\u97F3\u4E50"}),description:(0,a.I)({message:"\u97F3\u4E50",id:"showcase.tag.music.description"}),color:"#5cecdc"},professional:{label:(0,a.I)({message:"\u884C\u4E1A\u987E\u95EE"}),description:(0,a.I)({message:"\u5F8B\u5E08\u3001\u8336\u827A\u5E08\u7B49\u9700\u8981\u4E13\u4E1A\u77E5\u8BC6\u7684\u5C97\u4F4D",id:"showcase.tag.professional.description"}),color:"#ffcfc3"},contribute:{label:(0,a.I)({message:"\u6295\u7A3F"}),description:(0,a.I)({message:"\u6765\u81EA\u5927\u5BB6\u7684\u6295\u7A3F\u4F5C\u54C1\uFF0C\u80FD\u5E2E\u52A9\u6211\u4EEC\u5F00\u62D3\u601D\u8DEF",id:"showcase.tag.contribute.description"}),color:"#cecd21"}},i=Object.keys(t)},84213:function(e,s,r){r.d(s,{X6:()=>j,ZP:()=>f,lk:()=>Z});var a=r(85893),t=r(67294),i=r(57565),l=r(2933),o=r(16550),n=r(96025),c=r(34403),d=r(21589),m=r(5121),h=r(91754),p=r(50792),u=r(19355),g=r(53933);let x="name",j=()=>(0,a.jsx)(c.Z,{as:"h2",className:"text--center",children:(0,a.jsx)(n.Z,{id:"showcase.usersList.noResult",children:"\uD83D\uDE12 \u627E\u4E0D\u5230\u7ED3\u679C\uFF0C\u8BF7\u7F29\u77ED\u641C\u7D22\u8BCD"})});function Z(e="default"){let s=(0,o.TH)(),{i18n:r}=(0,l.Z)(),a=r.currentLocale.split("-")[0],[i,n]=(0,t.useState)("OR"),[c,d]=(0,t.useState)([]),[m,h]=(0,t.useState)(null),[u,x]=(0,t.useState)([]),[j,f]=(0,t.useState)([]),{userAuth:y}=(0,t.useContext)(p.V);return(0,t.useEffect)(()=>{let e=new URLSearchParams(s.search),r=e.getAll("tags"),a=e.get("name"),t=e.get("operator")||"OR";d(r),h(a),n(t)},[s.search]),(0,t.useEffect)(()=>{!async function(){if(0===c.length&&!m){x([]),f([]);return}let s=m?m.toLowerCase():"";try{if("default"===e){let e=await (0,g.cW)(c,m,a,i);console.log("\u641C\u7D22\u7ED3\u679C",e),x(e),y&&0===c.length&&Promise.all([y.data.userprompts?(0,g.ni)("userprompts",y.data.userprompts):Promise.resolve([]),y.data.favorites&&y.data.favorites.commLoves?(0,g.ni)("commus",y.data.favorites.commLoves):Promise.resolve([])]).then(([e,r])=>[...e,...r].filter(e=>e.title.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)||e.remark&&e.remark.toLowerCase().includes(s)||e.notes&&e.notes.toLowerCase().includes(s))).then(e=>{f(e)})}else"myfavor"===e?y?.data?.favorites?Promise.resolve().then(async()=>{let e=await (0,g.cW)(c,m,a,i),s=y.data.favorites.loves?e.filter(e=>y.data.favorites.loves.includes(e.id)):[];return(x(s),console.log("\u7528\u6237\u6536\u85CF\u7684\u63D0\u793A\u8BCD",s),y.data.favorites.commLoves)?await (0,g.ni)("commus",y.data.favorites.commLoves):[]}).then(e=>{let r=e.filter(e=>e.title.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)||e.remark&&e.remark.toLowerCase().includes(s)||e.notes&&e.notes.toLowerCase().includes(s));f(r)}):(x([]),f([])):"myprompts"===e&&(y?.data?.userprompts?Promise.resolve().then(async()=>await (0,g.ni)("userprompts",y.data.userprompts)).then(e=>{let r=e.filter(e=>e.title.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)||e.remark&&e.remark.toLowerCase().includes(s)||e.notes&&e.notes.toLowerCase().includes(s));f(r)}):f([]))}catch(e){console.error("Error fetching and filtering prompts:",e),x([]),f([])}}()},[c,m,i,a,e]),{filteredCommus:j,filteredCards:u,isFiltered:c.length>0||null!==m}}let f=function({setShowUserPrompts:e=e=>{},setShowUserFavs:s=e=>{}}){let r=(0,o.k6)(),l=(0,o.TH)(),c=(0,t.useRef)(null),[p,g]=(0,t.useState)(null),j=(0,t.useCallback)(()=>!!i.Z.canUseDOM&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),[]);(0,t.useEffect)(()=>{g(new URLSearchParams(l.search).get(x)),!j()&&c.current?.input&&c.current.input.focus()},[l]);let Z=(0,t.useCallback)(()=>{let a=new URLSearchParams(l.search);a.delete(x),p&&a.set(x,p),r.push({...l,search:a.toString(),state:function(){if(i.Z.canUseDOM)return{scrollTopPosition:window.scrollY,focusedElementId:document.activeElement?.id}}()}),e(!1),s(!1)},[p,l,r]);return(0,t.useEffect)(()=>{""===p&&Z()},[p,Z]),(0,a.jsx)("div",{className:u.Z.searchContainer,children:(0,a.jsx)(d.Z,{ref:c,id:"searchbar",placeholder:(0,n.I)({message:"Search for prompts...",id:"showcase.searchBar.placeholder"}),value:p??void 0,onChange:e=>{g(e.target.value)},onPressEnter:Z,allowClear:!0,autoFocus:!j(),suffix:(0,a.jsx)(m.ZP,{icon:(0,a.jsx)(h.Z,{}),onClick:Z,type:"primary"})})})}},90601:function(e,s,r){r.d(s,{N:()=>F,Z:()=>P});var a=r(85893),t=r(67294),i=r(67026),l=r(65049),o=r(13632),n=r(87584),c=r(5121),d=r(83012),m=r(96025),h=r(30347),p=r(56130),u=r(78204),g=r(8567),x=r(32446),j=r(2989),Z=r(6207),f=r(92853),y=r(45055),w=r(51712),C=r(53933),v=r(50792),b=r(2933),I=r(90538);let k=t.forwardRef(({label:e,color:s,description:r},t)=>(0,a.jsxs)("li",{ref:t,className:w.Z.tag,title:r,children:[(0,a.jsx)("span",{className:w.Z.textLabel,children:e.toLowerCase()}),(0,a.jsx)("span",{className:w.Z.colorLabel,style:{backgroundColor:s}})]})),F=({tags:e})=>{let s=(e||[]).map(e=>({tag:e,...f.$[e]})),r=(0,y.M)(s,e=>f.P.indexOf(e.tag));return(0,a.jsx)(a.Fragment,{children:r.map((e,s)=>(0,a.jsx)(l.Z,{title:e.description,id:`showcase_card_tag_${e.tag}`,children:(0,a.jsx)(k,{...e},s)},s))})},P=t.memo(({user:e,isDescription:s,copyCount:r})=>{let{userAuth:f,refreshUserAuth:y}=(0,t.useContext)(v.V),{i18n:k}=(0,b.Z)(),P=k.currentLocale.split("-")[0],L=e[P].title,N=e[P].remark,[S,_]=(0,t.useState)(!1),[E,B]=(0,t.useState)(!1),{copied:D,updateCopy:T}=(0,h.m)(),O="en"!==P&&e[P].description!==e[P].prompt,[R,M]=(0,t.useState)(O?s?e[P].prompt:e[P].description:e[P].prompt);(0,t.useEffect)(()=>{_(f?.data?.favorites?.loves?.includes(e.id)||!1)},[f]),(0,t.useEffect)(()=>{M(s?e[P].prompt:e[P].description),B(!1)},[s,e[P].prompt,e[P].description]);let A=O?R:e[P].prompt,$=(0,t.useCallback)(async()=>{try{let s,r;if(f?.data?.favorites)s=f.data.favorites.loves||[],r=f.data.favorites.id,s.push(e.id);else{let a=await (0,C.Ic)([e.id]);s=[e.id],r=a.data.id}o.ZP.success("Added to favorites successfully!"),await (0,C.R3)(r,s),(0,C.ni)("cards",s,P),y()}catch(e){console.error(e)}},[f?.data?.favorites?.loves,S]),H=(0,t.useCallback)(async()=>{try{let s=f.data.favorites.loves||[],r=f.data.favorites.id,a=s.indexOf(e.id);a>-1&&(s.splice(a,1),o.ZP.success("Removed from favorites successfully!")),await (0,C.R3)(r,s),y()}catch(e){console.error(e)}},[S]);return(0,a.jsxs)("li",{className:"card shadow--md",children:[(0,a.jsxs)("div",{className:(0,i.Z)("card__body"),children:[(0,a.jsxs)("div",{className:(0,i.Z)(w.Z.showcaseCardHeader),children:[(0,a.jsxs)("div",{className:w.Z.showcaseCardTitle,children:[(0,a.jsxs)(d.Z,{href:`/prompt/${e.id}`,className:w.Z.showcaseCardLink,children:[L," "]}),(0,a.jsx)("span",{className:w.Z.showcaseCardBody,children:r>0&&`\u{1F525}${(0,I.CZ)(r)}`})]}),(0,a.jsxs)(n.Z.Compact,{children:[f&&(0,a.jsx)(l.Z,{title:S?(0,a.jsx)(m.Z,{children:"\u70B9\u51FB\u79FB\u9664\u6536\u85CF"}):(0,m.I)({message:"\u6536\u85CF"}),children:(0,a.jsx)(c.ZP,{onClick:S?H:$,children:S?(0,a.jsx)(p.Z,{twoToneColor:"#eb2f96"}):(0,a.jsx)(u.Z,{})})}),!f&&e.tags?.includes("favorite")&&(0,a.jsx)(c.ZP,{type:"text",disabled:!0,children:(0,a.jsx)(p.Z,{twoToneColor:"#eb2f96"})}),(0,a.jsx)(l.Z,{title:(0,m.I)({id:"theme.CodeBlock.copy",message:"\u590D\u5236"}),children:(0,a.jsx)(c.ZP,{onClick:()=>T(e[P].prompt,e.id),children:D?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.Z,{})," ",(0,a.jsx)(m.Z,{id:"theme.CodeBlock.copied",children:"\u5DF2\u590D\u5236"})]}):(0,a.jsx)(x.Z,{})})})]})]}),(0,a.jsxs)("p",{className:w.Z.showcaseCardBody,style:{maxHeight:68},children:["\uD83D\uDC49 ",N]}),(0,a.jsxs)("div",{className:w.Z.descriptionWrapper,children:[(0,a.jsx)("p",{onClick:O?()=>{O&&M(s=>s===e[P].prompt?e[P].description:e[P].prompt)}:void 0,className:(0,i.Z)(w.Z.showcaseCardBody,{[w.Z.clickable]:O}),children:E?A:(0,I.$G)(A)}),!E&&A.length>I.uh&&(0,a.jsx)("div",{className:w.Z.gradientOverlay,children:(0,a.jsx)(l.Z,{title:(0,a.jsx)(m.Z,{children:"\u52A0\u8F7D\u66F4\u591A"}),children:(0,a.jsx)(j.Z,{onClick:()=>{B(!E)},className:w.Z.downIcon})})})]})]}),(0,a.jsxs)("ul",{className:(0,i.Z)("card__footer",w.Z.cardFooter),style:{listStyle:"none"},children:[(0,a.jsx)(F,{tags:e.tags}),e.website&&(0,a.jsx)("li",{style:{marginLeft:"auto"},children:(0,a.jsx)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)(Z.Z,{})})})]})]},L)})},48311:function(e,s,r){r.d(s,{Z:()=>S});var a=r(85893),t=r(67294),i=r(67026),l=r(30347),o=r(96025),n=r(83012),c=r(2933),d=r(90601),m=r(51712),h=r(87584),p=r(65049),u=r(5121),g=r(13632),x=r(42378),j=r(56130),Z=r(8567),f=r(32446),y=r(2989),w=r(6207),C=r(95684),v=r(45587),b=r(24285),I=r(53933),k=r(50792),F=r(90538),P=r(18446),L=r.n(P);let N=({item:e,isCard:s,currentLanguage:r,isFiltered:c,removeBookmark:g})=>{let{attributes:x,listeners:C,setNodeRef:I,transform:k,transition:P}=(0,v.nB)({id:e.id}),{copied:L,copyText:N,updateCopy:S}=(0,l.m)(),[_,E]=(0,t.useState)(!1),[B,D]=(0,t.useState)(s?e[r].prompt:e.description),T=s&&"en"!==r&&e[r].description!==e[r].prompt,O=(0,F.l5)(e),R=()=>{E(!_)},M=()=>{s?T&&D(s=>s===e[r].prompt?e[r].description:e[r].prompt):e.notes&&D(s=>s===e.description?e.notes:e.description)},A={transform:b.ux.Transform.toString(k),transition:P,cursor:c?"default":"grab"};return(0,a.jsxs)("li",{ref:I,className:"card shadow--md",style:A,children:[(0,a.jsxs)("div",{className:(0,i.Z)("card__body"),style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:(0,i.Z)(m.Z.showcaseCardHeader),children:[(0,a.jsx)("div",{className:`${m.Z.showcaseCardTitle} ${m.Z.shortEllipsis}`,...x,...c?{}:C,children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.Z,{href:"/prompt/"+e.id,className:m.Z.showcaseCardLink,children:[e[r].title," "]}),(0,a.jsx)("span",{className:m.Z.showcaseCardBody,children:O>0&&`\u{1F525}${(0,F.CZ)(O)}`})]}):(0,a.jsxs)("span",{className:m.Z.showcaseCardLink,children:[e.title," "]})}),(0,a.jsxs)(h.Z.Compact,{children:[(0,a.jsx)(p.Z,{title:(0,a.jsx)(o.Z,{children:"\u70B9\u51FB\u79FB\u9664\u6536\u85CF"}),children:(0,a.jsx)(u.ZP,{onClick:()=>g(e.id,!s),children:(0,a.jsx)(j.Z,{twoToneColor:"#eb2f96"})})}),(0,a.jsx)(p.Z,{title:(0,o.I)({id:"theme.CodeBlock.copy",message:"\u590D\u5236"}),children:(0,a.jsx)(u.ZP,{onClick:()=>{s?S(e[r].prompt,e.id):N(e.description)},children:L?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Z.Z,{})," ",(0,a.jsx)(o.Z,{id:"theme.CodeBlock.copied",children:"\u5DF2\u590D\u5236"})]}):(0,a.jsx)(f.Z,{})})})]})]}),s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:m.Z.showcaseCardBody,style:{maxHeight:68},...x,...c?{}:C,children:["\uD83D\uDC49 ",e[r].remark]}),(0,a.jsxs)("div",{className:m.Z.descriptionWrapper,children:[(0,a.jsx)("p",{onClick:T?M:void 0,className:(0,i.Z)(m.Z.showcaseCardBody,{[m.Z.clickable]:T}),children:_?B:(0,F.$G)(B)}),!_&&B.length>F.uh&&(0,a.jsx)("div",{className:m.Z.gradientOverlay,children:(0,a.jsx)(p.Z,{title:(0,a.jsx)(o.Z,{children:"\u52A0\u8F7D\u66F4\u591A"}),children:(0,a.jsx)(y.Z,{onClick:R,className:m.Z.downIcon})})})]})]}):(0,a.jsxs)(a.Fragment,{children:[e.remark&&(0,a.jsxs)("p",{className:m.Z.showcaseCardBody,style:{maxHeight:68},...x,...c?{}:C,children:["\uD83D\uDC49 ",e.remark]}),(0,a.jsxs)("div",{className:m.Z.descriptionWrapper,children:[(0,a.jsx)("p",{onClick:M,className:`${m.Z.showcaseCardBody} ${e.notes?m.Z.clickable:m.Z.nonClickable}`,children:_?B:(0,F.$G)(B)}),!_&&B.length>F.uh&&(0,a.jsx)("div",{className:m.Z.gradientOverlay,children:(0,a.jsx)(p.Z,{title:(0,a.jsx)(o.Z,{children:"\u52A0\u8F7D\u66F4\u591A"}),children:(0,a.jsx)(y.Z,{onClick:R,className:m.Z.downIcon})})})]})]})]}),!s&&(0,a.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},...x,...c?{}:C,children:(0,a.jsxs)("span",{style:{fontSize:"12px",color:"#999",marginLeft:"6px"},children:["@",e.owner]})})]}),s&&(0,a.jsxs)("ul",{className:(0,i.Z)("card__footer",m.Z.cardFooter),style:{listStyle:"none"},children:[(0,a.jsx)(d.N,{tags:e.tags}),e.website&&(0,a.jsx)("li",{style:{marginLeft:"auto"},children:(0,a.jsx)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)(w.Z,{})})})]})]})},S=t.memo(function({filteredCommus:e=[],filteredCards:s=[],isFiltered:r=!1}){let{userAuth:l,refreshUserAuth:o}=(0,t.useContext)(k.V),[n,d]=g.ZP.useMessage(),{i18n:m}=(0,c.Z)(),h=m.currentLocale.split("-")[0],[p,u]=(0,t.useState)([]),[j,Z]=(0,t.useState)([]),[f,y]=(0,t.useState)(!1),[w,b]=(0,t.useState)(null),F=(0,C.Dy)((0,C.VT)(C.we),(0,C.VT)(C.Lg,{coordinateGetter:v.is}));(0,t.useEffect)(()=>{if(!l?.data)return;let a=l.data?.favorites?.loves||[],t=l.data?.favorites?.commLoves||[];(async()=>{try{if(r)Z(e),u(s);else{let e=await (0,I.ni)("cards",a,h);u(e);let s=await (0,I.ni)("commus",t);Z(s)}}catch(e){console.error(e)}})()},[l,h,r,e,s]);let P=(0,t.useCallback)(async(e,s=!1)=>{try{let r=s?l.data.favorites.commLoves||[]:l.data.favorites.loves||[],a=l.data.favorites.id,t=r.indexOf(e);t>-1&&(r.splice(t,1),n.open({type:"success",content:"Removed from favorites successfully!"})),s&&localStorage.removeItem(`commus_${e}`),await (0,I.R3)(a,r,s),o()}catch(e){console.error(e)}},[l,o]);return((0,t.useEffect)(()=>{if(f){let e=j.map(e=>e.id),s=p.map(e=>e.id);(0,I.Bz)("commLoves",e),(0,I.Bz)("loves",s),(0,I.e4)("favorites.commLoves",e),(0,I.e4)("favorites.loves",s),y(!1)}},[j,p]),l?.data)?(0,a.jsxs)(a.Fragment,{children:[d,p?.length||j?.length?(0,a.jsx)(C.LB,{sensors:F,collisionDetection:C.pE,onDragStart:e=>{b(e.active.id)},onDragEnd:e=>{let{active:s,over:r}=e;r&&(s.id!==r.id&&(y(!0),j.some(e=>e.id===s.id)?Z(e=>{let a=e.findIndex(e=>e.id===s.id),t=e.findIndex(e=>e.id===r.id);return(0,v.Rp)(e,a,t)}):u(e=>{let a=e.findIndex(e=>e.id===s.id),t=e.findIndex(e=>e.id===r.id);return(0,v.Rp)(e,a,t)})),b(null))},children:(0,a.jsxs)("ul",{className:"clean-list showcaseList_Cwj2",children:[j?.length>0&&(0,a.jsx)(v.Fo,{items:j.map(e=>e.id),children:j.map(e=>(0,a.jsx)(N,{item:e,isCard:!1,currentLanguage:h,isFiltered:r,removeBookmark:P},e.id))}),p?.length>0&&(0,a.jsx)(v.Fo,{items:p.map(e=>e.id),children:p.map(e=>(0,a.jsx)(N,{item:e,isCard:!0,currentLanguage:h,isFiltered:r,removeBookmark:P},e.id))})]})}):(0,a.jsx)("ul",{className:"clean-list showcaseList_Cwj2",children:(0,a.jsx)("li",{className:"card shadow--md",children:(0,a.jsx)("div",{className:(0,i.Z)("card__body"),children:(0,a.jsx)("p",{children:"You haven't favorited any prompts yet."})})})})]}):(0,a.jsx)(x.Z,{})},function(e,s){return e.isFiltered===s.isFiltered&&L()(e.filteredCommus,s.filteredCommus)&&L()(e.filteredCards,s.filteredCards)})},36381:function(e,s,r){r.d(s,{Z:()=>D});var a=r(85893),t=r(67294),i=r(67026),l=r(96025),o=r(30347),n=r(66685),c=r(65049),d=r(5121),m=r(13632),h=r(70033),p=r(17713),u=r(42378),g=r(21589),x=r(96973),j=r(61874),Z=r(98344),f=r(8567),y=r(32446),w=r(2989),C=r(59840),v=r(6260),b=r(69485),I=r(95684),k=r(45587),F=r(24285),P=r(51712),L=r(90538),N=r(18446),S=r.n(N),_=r(53933),E=r(50792);let B=({UserPrompt:e,isFiltered:s,handleDeletePrompt:r,handleEditPrompt:m})=>{let{attributes:h,listeners:p,setNodeRef:u,transform:g,transition:x}=(0,k.nB)({id:e.id}),[j,b]=(0,t.useState)(!1),[I,N]=(0,t.useState)(e.description),{copied:S,copyText:_}=(0,o.m)(),E=I||e.description,B={transform:F.ux.Transform.toString(g),transition:x,cursor:s?"default":"grab"};return(0,a.jsx)("li",{ref:u,className:"card shadow--md",style:B,children:(0,a.jsxs)("div",{className:(0,i.Z)("card__body"),style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%"},children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:(0,i.Z)(P.Z.showcaseCardHeader),children:[(0,a.jsxs)("div",{className:`${P.Z.showcaseCardTitle} ${P.Z.shortEllipsisMy}`,...h,...s?{}:p,children:[(0,a.jsxs)("span",{className:P.Z.showcaseCardLink,style:{color:"var(--ifm-color-primary)"},children:[e.title," "]}),e.upvoteDifference>0&&(0,a.jsxs)(n.Z,{color:"green",children:["+",e.upvoteDifference]}),!1===e.share&&(0,a.jsx)(n.Z,{color:"blue",icon:(0,a.jsx)(Z.Z,{})})]}),(0,a.jsx)(c.Z,{title:(0,l.I)({id:"theme.CodeBlock.copy",message:"\u590D\u5236"}),children:(0,a.jsx)(d.ZP,{onClick:()=>_(e.description),children:S?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.Z,{})," ",(0,a.jsx)(l.Z,{id:"theme.CodeBlock.copied",children:"\u5DF2\u590D\u5236"})]}):(0,a.jsx)(y.Z,{})})})]}),e.remark&&(0,a.jsxs)("p",{className:P.Z.showcaseCardBody,style:{maxHeight:68},...h,...s?{}:p,children:["\uD83D\uDC49 ",e.remark]}),(0,a.jsxs)("div",{className:P.Z.descriptionWrapper,children:[(0,a.jsx)("p",{onClick:()=>{e.notes&&N(I===e.description?e.notes:e.description)},className:`${P.Z.showcaseCardBody} ${e.notes?P.Z.clickable:P.Z.nonClickable}`,children:j?E:(0,L.$G)(E)}),!j&&E.length>L.uh&&(0,a.jsx)("div",{className:P.Z.gradientOverlay,children:(0,a.jsx)(c.Z,{title:(0,a.jsx)(l.Z,{children:"\u52A0\u8F7D\u66F4\u591A"}),children:(0,a.jsx)(w.Z,{onClick:()=>{b(!j)},className:P.Z.downIcon})})})]})]}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},className:P.Z.nonClickable,children:[(0,a.jsx)(d.ZP,{icon:(0,a.jsx)(C.Z,{}),onClick:()=>r(e.id),children:(0,a.jsx)(l.Z,{id:"delete",children:"\u5220\u9664"})}),(0,a.jsx)(d.ZP,{icon:(0,a.jsx)(v.Z,{}),onClick:()=>m(e),children:(0,a.jsx)(l.Z,{id:"edit",children:"\u4FEE\u6539"})})]})]})})},D=t.memo(function({filteredCommus:e=[],isFiltered:s=!1}){let{userAuth:r,refreshUserAuth:o}=(0,t.useContext)(E.V),[n,c]=m.ZP.useMessage(),[Z,y]=(0,t.useState)([]),[w,C]=(0,t.useState)(!1),[v,F]=(0,t.useState)(!1),[L,N]=(0,t.useState)(!1),[S,D]=(0,t.useState)(null),[T]=h.Z.useForm(),O=(0,I.Dy)((0,I.VT)(I.we),(0,I.VT)(I.Lg,{coordinateGetter:k.is}));(0,t.useEffect)(()=>{if(!r?.data)return;let a=!0;return(async()=>{C(!0);try{if(s)y(e);else{let e=r.data?.userprompts||[],s=await (0,_.ni)("userprompts",e);a&&y(s)}}catch(e){console.error("Failed to fetch prompts:",e),a&&n.error((0,l.I)({id:"message.fetchError",message:"\u83B7\u53D6\u63D0\u793A\u8BCD\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"}))}finally{a&&C(!1)}})(),()=>{a=!1}},[r,s,e]);let R=(0,t.useCallback)(e=>{D(e.id),T.setFieldsValue(e),N(!0)},[T]),M=(0,t.useCallback)(async e=>{C(!0);try{await (0,_.Fu)(S,e),o(),n.success((0,l.I)({id:"message.success",message:"\u8BCD\u6761\u63D0\u4EA4\u6210\u529F\uFF01"})),N(!1),T.resetFields()}catch(e){console.error(e),(0,_._S)(),o(),n.error((0,l.I)({id:"message.error",message:"\u8BCD\u6761\u63D0\u4EA4\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"})),N(!1)}finally{C(!1)}},[S,o,T]),A=(0,t.useCallback)(e=>{p.Z.confirm({title:(0,a.jsx)(l.Z,{id:"message.deletePrompt.confirm.title",children:"Confirm Delete"}),content:(0,a.jsx)(l.Z,{id:"message.deletePrompt.confirm.content",children:"Are you sure you want to delete this prompt?"}),onOk:async()=>{C(!0);try{await (0,_.$j)(e),o(),n.success((0,l.I)({id:"message.deletePrompt.success",message:"Prompt successfully deleted!"}))}catch(e){console.error(e),(0,_._S)(),o(),n.error((0,l.I)({id:"message.deletePrompt.error",message:"Failed to delete prompt, please try again later."}))}finally{C(!1)}}})},[o]),$=(0,t.useCallback)(e=>{let{active:s,over:r}=e;s.id!==r?.id&&(F(!0),y(e=>{let a=e.findIndex(e=>e.id===s.id),t=e.findIndex(e=>e.id===r.id);return(0,k.Rp)(e,a,t)}))},[]);return((0,t.useEffect)(()=>{if(v&&Z.length>0){let e=Z.map(e=>e.id),s=e.map(e=>({id:e}));(0,_.e4)("userprompts",s),(0,_.k5)(e),F(!1)}},[Z,v]),r?.data)?(0,a.jsxs)(a.Fragment,{children:[c,w?(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:"2rem"},children:(0,a.jsx)(u.Z,{})}):(0,a.jsx)(I.LB,{sensors:O,collisionDetection:I.pE,onDragEnd:$,children:(0,a.jsx)("ul",{className:"clean-list showcaseList_Cwj2",children:Z&&0!==Z.length?(0,a.jsx)(k.Fo,{items:Z.map(e=>e.id),children:Z.map(e=>(0,a.jsx)(B,{UserPrompt:e,isFiltered:s,handleDeletePrompt:A,handleEditPrompt:R},e.id))}):(0,a.jsx)("li",{className:"card shadow--md",children:(0,a.jsx)("div",{className:(0,i.Z)("card__body",P.Z.cardBodyHeight),children:(0,a.jsx)("p",{children:(0,a.jsx)(l.Z,{id:"message.noPrompts",children:"\u5C1A\u672A\u63D0\u4EA4\u4EFB\u4F55\u63D0\u793A\u8BCD\uFF0C\u8BF7\u6DFB\u52A0\u63D0\u793A\u8BCD\u3002"})})})})})}),(0,a.jsx)(p.Z,{title:(0,l.I)({id:"modal.updateprompt.title",message:"\u66F4\u65B0\u5F53\u524D Prompt"}),open:L,footer:null,maskClosable:!1,onCancel:()=>{N(!1),T.resetFields()},children:(0,a.jsxs)(h.Z,{form:T,onFinish:M,children:[(0,a.jsx)(h.Z.Item,{name:"title",rules:[{required:!0,message:(0,l.I)({id:"message.addprompt.requiredTitle",message:"\u8BF7\u8F93\u5165\u63D0\u793A\u8BCD\u6807\u9898\uFF01"})}],children:(0,a.jsx)(g.Z,{placeholder:(0,l.I)({id:"input.addprompt.title",message:"\u63D0\u793A\u8BCD\u540D\u79F0"})})}),(0,a.jsx)(h.Z.Item,{name:"description",rules:[{required:!0,message:(0,l.I)({id:"message.addprompt.requiredDescription",message:"\u8BF7\u8F93\u5165\u63D0\u793A\u8BCD\u5185\u5BB9\uFF01"})}],children:(0,a.jsx)(g.Z.TextArea,{placeholder:(0,l.I)({id:"input.addprompt.description",message:"\u63D0\u793A\u8BCD\u5185\u5BB9"}),rows:4})}),(0,a.jsx)(h.Z.Item,{name:"remark",children:(0,a.jsx)(g.Z,{placeholder:(0,l.I)({id:"input.addprompt.remark",message:"\u63D0\u793A\u8BCD\u4F5C\u7528\uFF08\u975E\u5FC5\u586B\uFF09"})})}),(0,a.jsx)(h.Z.Item,{name:"notes",children:(0,a.jsx)(g.Z.TextArea,{placeholder:(0,l.I)({id:"input.addprompt.notes",message:"\u5907\u6CE8\uFF08\u975E\u5FC5\u586B\uFF09\uFF1A\u60A8\u53EF\u4EE5\u5728\u6B64\u63D0\u4F9B\u63D0\u793A\u8BCD\u7684\u6765\u6E90\u8BF4\u660E\uFF0C\u4EE5\u53CA\u8BE5\u63D0\u793A\u8BCD\u7684\u5176\u4ED6\u8BED\u8A00\u7248\u672C\u3002\u6B64\u5916\uFF0C\u5982\u679C\u60A8\u6709\u4EFB\u4F55\u5173\u4E8E\u8BE5\u63D0\u793A\u8BCD\u7684\u62D3\u5C55\u60F3\u6CD5\u548C\u9700\u6C42\uFF0C\u8BF7\u5728\u6B64\u8FDB\u884C\u8BF4\u660E\u3002"}),rows:3})}),(0,a.jsxs)(h.Z.Item,{name:"share",valuePropName:"checked",children:[(0,a.jsx)(x.Z,{defaultChecked:T.getFieldValue("share"),onChange:e=>{T.setFieldsValue({share:e})},checkedChildren:(0,a.jsx)(f.Z,{}),unCheckedChildren:(0,a.jsx)(b.Z,{})}),(0,a.jsxs)(j.Z.Text,{type:"secondary",children:[" ",(0,a.jsx)(l.Z,{id:"message.addprompt.submission",children:"\u60A8\u662F\u5426\u613F\u610F\u5C06\u8BE5\u63D0\u793A\u8BCD\u5206\u4EAB\u5230\u516C\u5F00\u9875\u9762\uFF1F"})]})]}),(0,a.jsx)(h.Z.Item,{children:(0,a.jsx)(d.ZP,{type:"primary",htmlType:"submit",loading:w,children:(0,a.jsx)(l.Z,{id:"button.updateprompt",children:"\u66F4\u65B0 Prompt"})})})]})})]}):(0,a.jsx)(u.Z,{})},function(e,s){return e.isFiltered===s.isFiltered&&S()(e.filteredCommus,s.filteredCommus)})},38355:function(e,s,r){r.d(s,{Z:()=>P});var a=r(85893),t=r(67294),i=r(57565),l=r(83012),o=r(70033),n=r(47890),c=r(17713),d=r(21589),m=r(96973),h=r(61874),p=r(5121),u=r(13632),g=r(87584),x=r(65049),j=r(42378),Z=r(17386),f=r(78204),y=r(6260),w=r(30210),C=r(29176),v=r(41904),b=r(96025),I=r(53933),k=r(50792);let F=({open:e,setOpen:s,onFinish:r,loading:i})=>{let[l]=o.Z.useForm();return t.useEffect(()=>{e||l.resetFields()},[e,l]),(0,a.jsx)(n.ZP,{theme:{components:{Form:{itemMarginBottom:12}}},children:(0,a.jsx)(c.Z,{title:(0,b.I)({id:"modal.addprompt.title",message:"\u6DFB\u52A0 Prompt\uFF08\u672C\u5185\u5BB9\u5C06\u51FA\u73B0\u5728\u300C\u6211\u7684\u63D0\u793A\u8BCD\u300D\u6807\u7B7E\u4E2D\uFF09"}),open:e,footer:null,maskClosable:!1,closable:!i,onCancel:()=>!i&&s(!1),children:(0,a.jsxs)(o.Z,{form:l,onFinish:e=>{r(e,l)},initialValues:{share:!0},children:[(0,a.jsx)(o.Z.Item,{name:"title",rules:[{required:!0,message:(0,b.I)({id:"message.addprompt.requiredTitle",message:"\u8BF7\u8F93\u5165\u63D0\u793A\u8BCD\u6807\u9898\uFF01"})}],children:(0,a.jsx)(d.Z,{placeholder:(0,b.I)({id:"input.addprompt.title",message:"\u63D0\u793A\u8BCD\u540D\u79F0"})})}),(0,a.jsx)(o.Z.Item,{name:"description",rules:[{required:!0,message:(0,b.I)({id:"message.addprompt.requiredDescription",message:"\u8BF7\u8F93\u5165\u63D0\u793A\u8BCD\u5185\u5BB9\uFF01"})}],children:(0,a.jsx)(d.Z.TextArea,{placeholder:(0,b.I)({id:"input.addprompt.description",message:"\u63D0\u793A\u8BCD\u5185\u5BB9"}),rows:6,maxLength:2e3,showCount:!0})}),(0,a.jsx)(o.Z.Item,{name:"remark",children:(0,a.jsx)(d.Z,{placeholder:(0,b.I)({id:"input.addprompt.remark",message:"\u63D0\u793A\u8BCD\u4F5C\u7528\uFF08\u975E\u5FC5\u586B\uFF09"})})}),(0,a.jsx)(o.Z.Item,{name:"notes",children:(0,a.jsx)(d.Z.TextArea,{placeholder:(0,b.I)({id:"input.addprompt.notes",message:"\u5907\u6CE8\uFF08\u975E\u5FC5\u586B\uFF09\uFF1A\u60A8\u53EF\u4EE5\u5728\u6B64\u63D0\u4F9B\u63D0\u793A\u8BCD\u7684\u6765\u6E90\u8BF4\u660E\uFF0C\u4EE5\u53CA\u8BE5\u63D0\u793A\u8BCD\u7684\u5176\u4ED6\u8BED\u8A00\u7248\u672C\u3002\u6B64\u5916\uFF0C\u5982\u679C\u60A8\u6709\u4EFB\u4F55\u5173\u4E8E\u8BE5\u63D0\u793A\u8BCD\u7684\u62D3\u5C55\u60F3\u6CD5\u548C\u9700\u6C42\uFF0C\u8BF7\u5728\u6B64\u8FDB\u884C\u8BF4\u660E\u3002"}),rows:4})}),(0,a.jsx)(o.Z.Item,{name:"share",valuePropName:"checked",children:(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(m.Z,{defaultChecked:!0,onChange:e=>{l.setFieldsValue({share:e})},checkedChildren:(0,b.I)({id:"input.addprompt.share.checked",message:"\u662F"}),unCheckedChildren:(0,b.I)({id:"input.addprompt.share.unchecked",message:"\u5426"})}),(0,a.jsx)(h.Z.Text,{type:"secondary",style:{marginLeft:8},children:(0,a.jsx)(b.Z,{id:"message.addprompt.submission",children:"\u60A8\u662F\u5426\u613F\u610F\u5C06\u8BE5\u63D0\u793A\u8BCD\u5206\u4EAB\u5230\u516C\u5F00\u9875\u9762\uFF1F"})})]})}),(0,a.jsx)(p.ZP,{htmlType:"submit",type:"primary",loading:i,block:!0,children:(0,a.jsx)(b.Z,{id:"button.addPrompt",children:"\u6DFB\u52A0 Prompt"})})]})})})},P=t.memo(({hideLinks:e={userCenter:!1,myFavorite:!1}})=>{let{userAuth:s,setUserAuth:r,refreshUserAuth:o}=(0,t.useContext)(k.V),[n,d]=(0,t.useState)(!1),[m,h]=(0,t.useState)(!1),[P,L]=u.ZP.useMessage(),N=(0,t.useCallback)(async()=>{await (0,I._S)(),o(),P.success((0,a.jsx)(b.Z,{id:"message.cache.cleared",children:"\u7F13\u5B58\u5DF2\u6E05\u9664"}))},[o]),S=(0,t.useCallback)(async(e,s)=>{h(!0);try{await (0,I.Xe)(e),o(),P.success((0,a.jsx)(b.Z,{id:"message.success",children:"\u8BCD\u6761\u63D0\u4EA4\u6210\u529F\uFF01"})),P.success((0,a.jsx)(b.Z,{id:"message.success1",children:"\u70B9\u51FB\u6807\u7B7E\u300C\u6211\u7684\u63D0\u793A\u8BCD\u300D\u67E5\u770B\u5DF2\u6DFB\u52A0\u7684\u81EA\u5B9A\u4E49\u63D0\u793A\u8BCD\u3002"})),s.resetFields(),d(!1)}catch(e){console.error(e),P.error((0,a.jsx)(b.Z,{id:"message.error",children:"\u8BCD\u6761\u63D0\u4EA4\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"}))}finally{h(!1)}},[o]),_=(0,t.useCallback)(async()=>{i.Z.canUseDOM&&(localStorage.removeItem("auth_token"),localStorage.removeItem("userAllInfo"),localStorage.removeItem("userAllInfoCacheExpiration")),r(null),window.location.reload()},[r]),E=(0,t.useMemo)(()=>(0,a.jsxs)(g.Z,{wrap:!0,size:"middle",children:[!e.userCenter&&(0,a.jsxs)(l.Z,{to:"/user",className:"button button--primary",children:[(0,a.jsx)(Z.Z,{})," ",(0,a.jsx)(b.Z,{id:"link.myaccount",children:"\u8D26\u53F7\u8BBE\u7F6E"})]}),!e.myFavorite&&(0,a.jsxs)(l.Z,{to:"/user/favorite",className:"button button--primary hideOnSmallScreen",children:[(0,a.jsx)(f.Z,{})," ",(0,a.jsx)(b.Z,{id:"link.user",children:"\u4E2A\u4EBA\u4E2D\u5FC3"})]}),(0,a.jsxs)("a",{className:"button button--primary",onClick:()=>d(!0),children:[(0,a.jsx)(y.Z,{})," ",(0,a.jsx)(b.Z,{id:"link.addprompt",children:"\u6DFB\u52A0\u63D0\u793A\u8BCD"})]}),(0,a.jsx)(x.Z,{title:(0,a.jsx)(b.Z,{id:"tooltip.clearCache",children:"\u82E5\u60A8\u5728\u5176\u4ED6\u8BBE\u5907\u66F4\u65B0\u4E86\u6536\u85CF\u6216\u63D0\u793A\u8BCD\uFF0C\u70B9\u51FB\u6E05\u9664\u7F13\u5B58\u4EE5\u540C\u6B65\u6700\u65B0\u5185\u5BB9\u3002"}),children:(0,a.jsx)(p.ZP,{icon:(0,a.jsx)(w.Z,{}),onClick:N,style:{color:"gray"},children:(0,a.jsx)("span",{className:"hideOnSmallScreen",children:(0,a.jsx)(b.Z,{id:"button.clearCache",children:"\u6E05\u9664\u7F13\u5B58"})})})}),(0,a.jsx)(p.ZP,{icon:(0,a.jsx)(C.Z,{}),onClick:()=>{c.Z.confirm({title:"Confirm Logout",content:"Click OK to log out.",onOk:_})},style:{color:"gray"},children:(0,a.jsx)("span",{className:"hideOnSmallScreen",children:(0,a.jsx)(b.Z,{id:"button.logout",children:"\u9000\u51FA\u767B\u5F55"})})})]}),[e,_]),B=(0,t.useMemo)(()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"button button--primary",onClick:()=>d(!0),style:{marginRight:"10px"},children:(0,a.jsx)(b.Z,{id:"button.login",children:"\u767B\u5F55"})}),(0,a.jsx)(l.Z,{className:"button button--primary",to:"/community-prompts",children:(0,a.jsx)(b.Z,{id:"showcase.header.button",children:"\uD83D\uDE4F \u5206\u4EAB\u4F60\u7684\u63D0\u793A\u8BCD"})})]}),[]);return void 0===s?(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50px"},children:(0,a.jsx)(j.Z,{size:"small"})}):(0,a.jsxs)(a.Fragment,{children:[L,s?(0,a.jsxs)(a.Fragment,{children:[E,(0,a.jsx)(F,{open:n,setOpen:d,onFinish:S,loading:m})]}):(0,a.jsxs)(a.Fragment,{children:[B,(0,a.jsx)(c.Z,{open:n,footer:null,onCancel:()=>d(!1),children:(0,a.jsx)(v.Z,{})})]})]})})},41904:function(e,s,r){r.d(s,{Z:()=>F});var a=r(85893),t=r(67294),i=r(61874),l=r(13632),o=r(70033),n=r(33357),c=r(21589),d=r(5121),m=r(87584),h=r(95005),p=r(25836),u=r(11070),g=r(97691),x=r(17386),j=r(98344),Z=r(60207),f=r(96025),y=r(57565),w=r(53933),C=r(80430);async function v(){try{return(await C.Z.get("https://api.newzone.top/strapi-google-auth/init")).data.url}catch(e){throw console.error("Error fetching Google authentication URL:",e),e}}async function b(e){try{return(await C.Z.post("https://gauth.aishort.top/strapi-google-auth/user-profile",{code:e},{timeout:3e4})).data.data}catch(e){if(console.error("Error authenticating user with Google:",e),"ECONNABORTED"===e.code)throw Error("Request timed out. Please try again.");throw e}}y.Z.canUseDOM&&localStorage.getItem("auth_token");let{Title:I}=i.Z,k={username:[{required:!0,message:(0,f.I)({id:"input.rules.username",message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D\u6216\u6CE8\u518C\u90AE\u7BB1\uFF01"})}],password:[{required:!0,message:(0,f.I)({id:"input.rules.password",message:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})},{min:6,message:(0,f.I)({id:"input.password.valid",message:"\u5BC6\u7801\u957F\u5EA6\u81F3\u5C11\u4E3A 6 \u4E2A\u5B57\u7B26"})}],email:[{required:!0,message:(0,f.I)({id:"input.rules.email",message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\uFF01"})},{type:"email",message:(0,f.I)({id:"input.email.valid",message:"\u8BF7\u8F93\u5165\u6709\u6548\u7684\u90AE\u7BB1\u5730\u5740\uFF01"})}]},F=()=>{let[e,s]=(0,t.useState)(!1),[r,i]=(0,t.useState)("1"),[C,F]=l.ZP.useMessage(),[P,L]=(0,t.useState)(Date.now()),[N]=o.Z.useForm(),[S]=o.Z.useForm(),[_]=o.Z.useForm(),[E]=o.Z.useForm(),B=(0,t.useCallback)(()=>{i("3")},[]),D=(0,t.useCallback)(()=>{i("4")},[]);(0,t.useEffect)(()=>{let e=async e=>{if(e.data.code){s(!0);try{let s=await b(e.data.code);O(s.user.username,s.token)}catch(e){C.error("Login failed: "+(e.message||"Unknown error"))}finally{s(!1)}}};return window.addEventListener("message",e,!1),()=>{window.removeEventListener("message",e)}},[C]);let T=async()=>{s(!0);try{let e=await v();if(e){let s=window.open(e,"_blank","location=yes,height=570,width=520,scrollbars=yes,status=yes");(!s||s.closed||void 0===s.closed)&&alert('Please disable your pop-up blocker and click the "Open" link again.')}else alert("Failed to generate Google Auth URL.")}catch(e){C.open({type:"error",content:"Error while attempting Google login: "+e.message})}finally{s(!1)}},O=(e,s)=>{y.Z.canUseDOM&&(localStorage.setItem("auth_token",s),window.postMessage({action:"login",username:e,jwt:s},"*"),setTimeout(()=>{window.location.reload()},500))},R=(0,t.useCallback)(async(e,r,t)=>{s(!0);try{let s=await r(e);O(s.data.user.username,s.data.jwt),C.success(t)}catch(e){try{"Request timed out. Please try again."===e.message?C.error(e.message):e.response?.status===400?C.error(e.response.data.error.message):e.response?.status===429?C.error("Requests are too frequent. Please try again later."):C.error((0,a.jsx)(f.Z,{id:"message.error",children:"\u53D1\u751F\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5"}))}catch(e){C.error((0,a.jsx)(f.Z,{id:"message.error",children:"\u5904\u7406\u9519\u8BEF\u65F6\u53D1\u751F\u9519\u8BEF"}))}}finally{s(!1)}},[C]),M=async e=>{R(e,w.x4,(0,a.jsx)(f.Z,{id:"message.loginSuccess",children:"\u767B\u5F55\u6210\u529F\uFF01"}))},A=async e=>{R(e,w.z2,(0,a.jsx)(f.Z,{id:"message.registerSuccess",children:"\u6CE8\u518C\u6210\u529F\uFF01"}))},$=async e=>{s(!0);try{await (0,w.gF)(e.email),C.success((0,a.jsx)(f.Z,{id:"message.forgotPassword.success",children:"\u5BC6\u7801\u91CD\u7F6E\u90AE\u4EF6\u5DF2\u53D1\u9001\uFF01"})),_.resetFields()}catch(e){console.error((0,f.I)({id:"error.forgotPassword",message:"Error sending forgot password email:"}),e),C.error((0,a.jsx)(f.Z,{id:"message.forgotPassword.error",children:"\u53D1\u9001\u5BC6\u7801\u91CD\u7F6E\u90AE\u4EF6\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"}))}finally{s(!1)}},H=async e=>{s(!0);let r=e.email;try{let e=/\S+@\S+\.\S+/.test(r)?{email:r}:{username:r};await (0,w.hj)(e),C.success((0,a.jsx)(f.Z,{id:"message.passwordlessLinkSent",children:"\u514D\u5BC6\u7801\u767B\u5F55\u94FE\u63A5\u5DF2\u53D1\u9001\u5230\u60A8\u7684\u90AE\u7BB1\uFF01"})),E.resetFields()}catch(e){console.error("Error sending passwordless login link:",e),C.error((0,a.jsx)(f.Z,{id:"message.errorSendingPasswordlessLink",children:"\u53D1\u9001\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u90AE\u7BB1\u6216\u7528\u6237\u540D"}))}finally{s(!1)}},q=[{key:"1",label:(0,a.jsx)(f.Z,{id:"tabs.login",children:"\u767B\u5F55"}),children:(0,a.jsxs)(o.Z,{form:N,onFinish:M,layout:"vertical",children:[(0,a.jsx)(o.Z.Item,{name:"username",rules:k.username,label:(0,a.jsx)(f.Z,{id:"input.username",children:"\u7528\u6237\u540D/\u90AE\u7BB1"}),children:(0,a.jsx)(c.Z,{autoComplete:"username",prefix:(0,a.jsx)(x.Z,{}),placeholder:(0,f.I)({id:"input.username",message:"\u7528\u6237\u540D/\u90AE\u7BB1"})})}),(0,a.jsx)(o.Z.Item,{name:"password",rules:k.password,label:(0,a.jsx)(f.Z,{id:"input.password",children:"\u5BC6\u7801"}),children:(0,a.jsx)(c.Z.Password,{autoComplete:"current-password",prefix:(0,a.jsx)(j.Z,{}),placeholder:(0,f.I)({id:"input.password",message:"\u5BC6\u7801"})})}),(0,a.jsx)(o.Z.Item,{children:(0,a.jsxs)(m.Z,{direction:"vertical",style:{width:"100%"},children:[(0,a.jsx)(d.ZP,{type:"primary",htmlType:"submit",loading:e,block:!0,children:(0,a.jsx)(f.Z,{id:"button.login",children:"\u767B\u5F55"})}),(0,a.jsx)(m.Z,{style:{width:"100%",justifyContent:"center"},children:(0,a.jsx)(d.ZP,{onClick:T,icon:(0,a.jsx)(Z.Z,{}),children:"Login via Google"})}),(0,a.jsxs)(m.Z,{style:{width:"100%",justifyContent:"space-between"},children:[(0,a.jsx)(d.ZP,{type:"link",onClick:B,style:{padding:0},children:(0,a.jsx)(f.Z,{id:"button.register",children:"\u6CE8\u518C"})}),(0,a.jsx)(d.ZP,{type:"link",onClick:D,style:{padding:0},children:(0,a.jsx)(f.Z,{id:"button.forgotPassword",children:"\u5FD8\u8BB0\u5BC6\u7801"})})]})]})})]})},{key:"2",label:(0,a.jsx)(f.Z,{id:"tabs.passwordlessLogin",children:"\u514D\u5BC6\u7801\u767B\u5F55"}),children:(0,a.jsxs)(o.Z,{form:E,onFinish:H,layout:"vertical",children:[(0,a.jsx)(n.Z,{message:(0,a.jsx)(f.Z,{id:"message.passwordlessLogin.info",children:"\u767B\u5F55\u94FE\u63A5\u5C06\u53D1\u9001\u81F3\u60A8\u7684\u90AE\u7BB1\uFF0C\u70B9\u51FB\u5373\u53EF\u767B\u5F55\uFF0C\u65E0\u9700\u8F93\u5165\u5BC6\u7801"}),type:"info",showIcon:!0,style:{marginBottom:16}}),(0,a.jsx)(o.Z.Item,{name:"email",rules:k.username,label:(0,a.jsx)(f.Z,{id:"input.username",children:"\u7528\u6237\u540D/\u90AE\u7BB1"}),children:(0,a.jsx)(c.Z,{autoComplete:"username",prefix:(0,a.jsx)(g.Z,{}),placeholder:(0,f.I)({id:"input.username",message:"\u7528\u6237\u540D/\u90AE\u7BB1"})})}),(0,a.jsx)(o.Z.Item,{children:(0,a.jsx)(d.ZP,{type:"primary",htmlType:"submit",loading:e,block:!0,children:(0,a.jsx)(f.Z,{id:"button.sendPasswordlessLink",children:"\u83B7\u53D6\u514D\u5BC6\u7801\u767B\u5F55\u94FE\u63A5"})})})]})},{key:"3",label:(0,a.jsx)(f.Z,{id:"button.register",children:"\u6CE8\u518C"}),children:(0,a.jsxs)(o.Z,{form:S,onFinish:A,layout:"vertical",children:[(0,a.jsx)(o.Z.Item,{name:"username",rules:k.username,label:(0,a.jsx)(f.Z,{id:"input.register.username",children:"\u7528\u6237\u540D"}),children:(0,a.jsx)(c.Z,{autoComplete:"username",prefix:(0,a.jsx)(x.Z,{}),placeholder:(0,f.I)({id:"input.register.username",message:"\u7528\u6237\u540D"})})}),(0,a.jsx)(o.Z.Item,{name:"email",rules:k.email,label:(0,a.jsx)(f.Z,{id:"input.email",children:"\u90AE\u7BB1"}),children:(0,a.jsx)(c.Z,{autoComplete:"email",prefix:(0,a.jsx)(g.Z,{}),placeholder:(0,f.I)({id:"input.email",message:"\u90AE\u7BB1"})})}),(0,a.jsx)(o.Z.Item,{name:"password",rules:k.password,label:(0,a.jsx)(f.Z,{id:"input.password",children:"\u5BC6\u7801"}),hasFeedback:!0,children:(0,a.jsx)(c.Z.Password,{autoComplete:"new-password",prefix:(0,a.jsx)(j.Z,{}),placeholder:(0,f.I)({id:"input.password",message:"\u5BC6\u7801"})})}),(0,a.jsx)(o.Z.Item,{name:"agreement",valuePropName:"checked",rules:[{validator:(e,s)=>s?Promise.resolve():Promise.reject(Error((0,f.I)({id:"agreement.rules",message:"\u4F7F\u7528\u524D\u987B\u540C\u610F\u670D\u52A1\u6761\u6B3E\u548C\u9690\u79C1\u653F\u7B56"})))}],children:(0,a.jsxs)(h.Z,{children:[(0,a.jsx)(f.Z,{id:"agreement.text",children:"\u70B9\u6B64\u540C\u610F"})," ",(0,a.jsx)("a",{href:"/docs/terms-of-service",children:(0,a.jsx)(f.Z,{id:"agreement.terms",children:"\u670D\u52A1\u6761\u6B3E"})})," ",(0,a.jsx)(f.Z,{id:"agreement.and",children:"\u548C"})," ",(0,a.jsx)("a",{href:"/docs/privacy-policy",children:(0,a.jsx)(f.Z,{id:"agreement.policy",children:"\u9690\u79C1\u653F\u7B56"})})]})}),(0,a.jsx)(o.Z.Item,{children:(0,a.jsx)(d.ZP,{type:"primary",htmlType:"submit",loading:e,block:!0,children:(0,a.jsx)(f.Z,{id:"button.register",children:"\u6CE8\u518C"})})})]})},{key:"4",label:(0,a.jsx)(f.Z,{id:"label.forgotPassword",children:"\u5FD8\u8BB0\u5BC6\u7801"}),children:(0,a.jsxs)(o.Z,{form:_,onFinish:$,layout:"vertical",children:[(0,a.jsx)(n.Z,{message:(0,a.jsx)(f.Z,{id:"message.forgotPassword.info",children:"\u91CD\u7F6E\u5BC6\u7801\u94FE\u63A5\u5C06\u53D1\u9001\u81F3\u60A8\u7684\u90AE\u7BB1"}),type:"info",showIcon:!0,style:{marginBottom:16}}),(0,a.jsx)(o.Z.Item,{name:"email",label:(0,a.jsx)(f.Z,{id:"input.email",children:"\u90AE\u7BB1"}),rules:k.email,children:(0,a.jsx)(c.Z,{autoComplete:"email",prefix:(0,a.jsx)(g.Z,{}),placeholder:(0,f.I)({id:"placeholder.email",message:"\u90AE\u7BB1"})})}),(0,a.jsx)(o.Z.Item,{children:(0,a.jsx)(d.ZP,{type:"primary",htmlType:"submit",loading:e,block:!0,children:(0,a.jsx)(f.Z,{id:"button.sendResetEmail",children:"\u53D1\u9001\u5BC6\u7801\u91CD\u7F6E\u90AE\u4EF6"})})})]})}];return(0,a.jsxs)(a.Fragment,{children:[F,(0,a.jsx)(p.Z,{title:(0,a.jsx)(I,{level:4,children:(0,a.jsx)(f.Z,{id:"card.welcome",children:"\u6B22\u8FCE"})}),style:{maxWidth:480,margin:"0 auto"},children:(0,a.jsx)(u.Z,{defaultActiveKey:"1",activeKey:r,onChange:e=>{i(e),L(Date.now()),N.resetFields(),S.resetFields(),_.resetFields(),E.resetFields()},items:q,destroyInactiveTabPane:!0},P)})]})}},74093:function(e,s,r){r.r(s),r.d(s,{default:()=>w});var a=r(85893),t=r(67294),i=r(67026),l=r(96025),o=r(32570),n=r(47890),c=r(20670),d=r(11070),m=r(78204),h=r(6260),p=r(19355),u=r(38355),g=r(36381),x=r(48311),j=r(84213),Z=r(50792),f=r(15640);let y=()=>{let[e,s]=(0,t.useState)("myprompts"),{filteredCommus:r,filteredCards:Z,isFiltered:y}=(0,j.lk)(e),w=(0,t.useCallback)(e=>{s(e)},[]),C="undefined"!=typeof document&&"dark"===document.documentElement.getAttribute("data-theme"),v=y&&0===Z.length&&0===r.length,b=(0,t.useMemo)(()=>[{key:"myfavor",label:(0,l.I)({message:"\u6536\u85CF"}),icon:(0,a.jsx)(m.Z,{}),children:!v&&(0,a.jsx)(x.Z,{filteredCommus:r,filteredCards:Z,isFiltered:y})},{key:"myprompts",label:(0,l.I)({id:"myprompt",message:"\u6211\u7684\u63D0\u793A\u8BCD"}),icon:(0,a.jsx)(h.Z,{}),children:!v&&(0,a.jsx)(g.Z,{filteredCommus:r,isFiltered:y})}],[r,Z,y,v]);return(0,a.jsx)(o.Z,{children:(0,a.jsx)("main",{className:"margin-vert--md",children:(0,a.jsx)(n.ZP,{theme:{...f.Z,algorithm:C?c.Z.darkAlgorithm:c.Z.defaultAlgorithm},children:(0,a.jsx)("section",{className:"margin-top--sm margin-bottom--sm",children:(0,a.jsxs)("div",{className:"container padding-vert--md",children:[(0,a.jsx)("div",{className:"text--center",children:(0,a.jsx)(u.Z,{hideLinks:{userCenter:!1,myFavorite:!0}})}),(0,a.jsx)("div",{className:(0,i.Z)("margin-bottom--md",p.Z.showcaseFavoriteHeader),children:(0,a.jsx)(j.ZP,{})}),(0,a.jsx)(d.Z,{activeKey:e,items:b,onChange:w}),v&&(0,a.jsx)(j.X6,{})]})})})})})},w=()=>(0,a.jsx)(Z.H,{children:(0,a.jsx)(y,{})})},45055:function(e,s,r){function a(e,s){let r=[...e];return r.sort((e,r)=>s(e)>s(r)?1:s(r)>s(e)?-1:0),r}function t(e,s){let r=e.indexOf(s);if(-1===r)return e.concat(s);let a=[...e];return a.splice(r,1),a}r.d(s,{$:()=>t,M:()=>a})}}]);