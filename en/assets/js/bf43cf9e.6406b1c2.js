"use strict";(self.webpackChunkchatgpt_shortcut=self.webpackChunkchatgpt_shortcut||[]).push([["4230"],{84385(e,n,t){t.r(n),t.d(n,{metadata:()=>o,default:()=>h,frontMatter:()=>i,contentTitle:()=>s,toc:()=>a,assets:()=>c});var o=JSON.parse('{"id":"deploy","title":"Deploy AI Short | Vercel, Docker & Cloudflare Setup","description":"Want to host your own AI prompt library? Deploy AI Short easily using Vercel, Docker, or Cloudflare. Includes config tips and auto-update scripts.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/deploy.md","sourceDirName":".","slug":"/deploy","permalink":"/en/docs/deploy","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"sidebar_label":"Deployment","title":"Deploy AI Short | Vercel, Docker & Cloudflare Setup","description":"Want to host your own AI prompt library? Deploy AI Short easily using Vercel, Docker, or Cloudflare. Includes config tips and auto-update scripts."},"sidebar":"docs","previous":{"title":"Firefox Extension Settings","permalink":"/en/docs/extension/firefox-extension-setting"},"next":{"title":"AiShort Privacy Policy","permalink":"/en/docs/privacy-policy"}}'),r=t(74848),l=t(28453);let i={sidebar_label:"Deployment",title:"Deploy AI Short | Vercel, Docker & Cloudflare Setup",description:"Want to host your own AI prompt library? Deploy AI Short easily using Vercel, Docker, or Cloudflare. Includes config tips and auto-update scripts."},s="Project Deployment",c={},a=[{value:"Configuration and Customization",id:"configuration-and-customization",level:2},{value:"Deployment Instructions",id:"deployment-instructions",level:2},{value:"Local Deployment",id:"local-deployment",level:3},{value:"Vercel Deployment",id:"vercel-deployment",level:3},{value:"Cloudflare Pages Deployment",id:"cloudflare-pages-deployment",level:3},{value:"Docker Deployment",id:"docker-deployment",level:3},{value:"Enable Sync Updates",id:"enable-sync-updates",level:2},{value:"Enable Auto Updates",id:"enable-auto-updates",level:3},{value:"Manual Code Update",id:"manual-code-update",level:3}];function d(e){let n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"project-deployment",children:"Project Deployment"})}),"\n",(0,r.jsx)(n.h2,{id:"configuration-and-customization",children:"Configuration and Customization"}),"\n",(0,r.jsx)(n.p,{children:"AI Short is an open-source project that allows you to freely modify the website title, description, prompts, and other content according to your needs. Below are common modification options and operation instructions:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Modify Website Title and Description"}),"\nTo change the website's title and description information, please edit the ",(0,r.jsx)(n.code,{children:"docusaurus.config.js"})," configuration file."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Modify Project Usage Instructions and Introduction"}),"\nThe project's usage instructions and introduction files are located in the ",(0,r.jsx)(n.code,{children:"docs"})," directory. Open the relevant files in that directory to make necessary modifications."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Modify Homepage Prompts"}),"\nHomepage prompts are stored in the ",(0,r.jsx)(n.code,{children:"src/data/prompt.json"})," file. If you need to modify prompts for a specific language, such as Chinese, you can directly edit the ",(0,r.jsx)(n.code,{children:"src/data/prompt_es.json"})," file. When adding a new prompt, the format is as follows:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "es": {\n    "title": "custom prompt",\n    "prompt": "custom prompt",\n    "description": "custom description",\n    "remark": "custom mark"\n  },\n  "website": null,\n  "tags": ["music"],\n  "id": 500,\n  "weight": 1\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note"}),": It is recommended to set the ",(0,r.jsx)(n.code,{children:"id"})," to 500 or above. Newly added prompts will not have an exclusive page or comment section. If you need to add an exclusive page for a prompt, you can copy the template file in the ",(0,r.jsx)(n.code,{children:"src/data/pages/prompt"})," directory for modification."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Custom Backend"}),"\nThe current project is connected to a shared backend system. If you wish to build your own backend, you can refer to the interface instructions in the ",(0,r.jsx)(n.code,{children:"src/api"})," folder."]}),"\n",(0,r.jsx)(n.p,{children:"API Module Structure:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"src/api/\n\u251C\u2500\u2500 index.ts       # Unified export entry\n\u251C\u2500\u2500 config.ts      # API URL configuration\n\u251C\u2500\u2500 client.ts      # Axios client (including auth interceptors)\n\u251C\u2500\u2500 auth.ts        # Auth API (Login/Register/OAuth)\n\u251C\u2500\u2500 prompts.ts     # Prompt CRUD + Search + Voting\n\u251C\u2500\u2500 favorites.ts   # Favorites operations\n\u251C\u2500\u2500 myspace.ts     # My Space data (Core data source)\n\u251C\u2500\u2500 comments.ts    # Comment system\n\u2514\u2500\u2500 user.ts        # User information\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Caching Mechanism"}),": The project uses ",(0,r.jsx)(n.code,{children:"lscache"})," combined with ETags to implement smart caching. When the server returns 304 Not Modified, local cached data is reused directly to reduce data transmission."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Multi-language Support and Deployment"}),"\nAfter completing multi-language modifications, you can use the ",(0,r.jsx)(n.code,{children:"CodeUpdateHandler.py"})," script for batch processing. Run the following command:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"python CodeUpdateHandler.py\n"})}),"\n",(0,r.jsxs)(n.p,{children:["This script will split the ",(0,r.jsx)(n.code,{children:"prompt.json"})," file according to preset rules and synchronously update the homepage and featured prompt pages for each language version."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"deployment-instructions",children:"Deployment Instructions"}),"\n",(0,r.jsx)(n.p,{children:"System Requirements:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://nodejs.org/",children:"Node.js 20.0"})," or later."]}),"\n",(0,r.jsx)(n.li,{children:"macOS, Windows (including WSL), and Linux are supported."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"local-deployment",children:"Local Deployment"}),"\n",(0,r.jsxs)(n.p,{children:["Ensure you have installed ",(0,r.jsx)(n.a,{href:"https://nodejs.org/",children:"Node.js"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"# Installation\nyarn\n\n# Local Development\nyarn start\n\n# Build: This command generates static content into the `build` directory\nyarn build\n\n# Update the `defaultLocale` in the `docusaurus.config.js` file, then perform a build for the desired language.\nyarn build --locale zh-Hans\nyarn build --locale zh-Hant\nyarn build --locale en\nyarn build --locale ja\nyarn build --locale ko\nyarn build --locale es\nyarn build --locale fr\nyarn build --locale de\nyarn build --locale it\nyarn build --locale ru\nyarn build --locale pt\nyarn build --locale hi\nyarn build --locale ar\nyarn build --locale bn\n\n# Deploy for multiple languages\nyarn build --locale zh-Hans && yarn build --locale en\n"})}),"\n",(0,r.jsx)(n.h3,{id:"vercel-deployment",children:"Vercel Deployment"}),"\n",(0,r.jsx)(n.p,{children:"Click the button below to one-click deploy ChatGPT-Shortcut to the Vercel platform:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Frockbenben%2FChatGPT-Shortcut%2Ftree%2Fmain",children:(0,r.jsx)(n.img,{src:"https://vercel.com/button",alt:"Vercel"})})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note"}),": The free version of Vercel may report an error due to insufficient memory. If you encounter this situation, you can choose to perform single-language deployment. Specific operations are as follows:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Enter the Vercel project you just deployed and open ",(0,r.jsx)(n.strong,{children:"Settings"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["In the ",(0,r.jsx)(n.strong,{children:"Build & Deployment"})," section, find ",(0,r.jsx)(n.strong,{children:"Build Command"}),", then click ",(0,r.jsx)(n.strong,{children:"Override"})," to the right."]}),"\n",(0,r.jsxs)(n.li,{children:["Modify the deployment command. For example, if you need to deploy the Chinese version, you can use ",(0,r.jsx)(n.code,{children:"yarn build --locale zh-Hans"}),"; if you need to deploy the Portuguese version, use ",(0,r.jsx)(n.code,{children:"yarn build --locale pt"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"cloudflare-pages-deployment",children:"Cloudflare Pages Deployment"}),"\n",(0,r.jsx)(n.p,{children:"Click the button or link below to Fork this project, then follow the instructions to deploy on Cloudflare Pages:"}),"\n",(0,r.jsxs)(n.p,{children:["\u{1F449} ",(0,r.jsx)(n.a,{href:"https://github.com/rockbenben/ChatGPT-Shortcut/fork",children:"Fork this project"})]}),"\n",(0,r.jsx)(n.p,{children:"Deployment Steps:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Log in to ",(0,r.jsx)(n.a,{href:"https://pages.cloudflare.com/",children:"Cloudflare Pages"})," and select ",(0,r.jsx)(n.strong,{children:'"Create a project"'}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Bind the repository you just Forked."}),"\n",(0,r.jsxs)(n.li,{children:["Configure build commands:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Build command"}),": ",(0,r.jsx)(n.code,{children:"yarn build --locale zh-Hans"})," (Choose the appropriate locale based on the language to be deployed, e.g., for Portuguese use ",(0,r.jsx)(n.code,{children:"yarn build --locale pt"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Output directory"}),": ",(0,r.jsx)(n.code,{children:"build"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:"Deploy"})," and wait for Cloudflare Pages to complete the build and deployment."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Cloudflare Pages will also automatically trigger builds and deployments every time you push new code."}),"\n",(0,r.jsx)(n.h3,{id:"docker-deployment",children:"Docker Deployment"}),"\n",(0,r.jsx)(n.p,{children:"If you are familiar with Docker, you can quickly deploy using the following command:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# ghcr.io\ndocker run -d -p 3000:3000 --name chatgpt-shortcut ghcr.io/rockbenben/chatgpt-shortcut:latest\n\n# docker hub\ndocker run -d -p 3000:3000 --name chatgpt-shortcut rockben/chatgpt-shortcut:latest\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Alternatively, you can also use ",(0,r.jsx)(n.code,{children:"docker-compose"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yml",children:'services:\n  chatgpt-shortcut:\n    container_name: chatgpt-shortcut\n    image: ghcr.io/rockbenben/chatgpt-shortcut:latest\n    ports:\n      - "3000:3000"\n    restart: unless-stopped\n'})}),"\n",(0,r.jsx)(n.h2,{id:"enable-sync-updates",children:"Enable Sync Updates"}),"\n",(0,r.jsx)(n.p,{children:"If you deployed your own project on Vercel with one click, you might encounter an issue where it always prompts that updates are available. This is because Vercel creates a new project for you by default instead of forking this project, causing update detection to fail. It is recommended to redeploy following these steps:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Delete the original repository;"}),"\n",(0,r.jsx)(n.li,{children:"Use the fork button in the top right corner of the page to fork this project;"}),"\n",(0,r.jsxs)(n.li,{children:["Reselect the project you just forked in the Import Git Repository section of the ",(0,r.jsx)(n.a,{href:"https://vercel.com/new",children:"Vercel New Project Page"})," and deploy."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"enable-auto-updates",children:"Enable Auto Updates"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"If you encounter an Upstream Sync execution error, please manually execute Sync Fork once!"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"After fetching the project, due to GitHub limitations, you need to manually enable Workflows in the Actions page of your forked project and enable the Upstream Sync Action. Once enabled, updates will be executed automatically every day:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://img.newzone.top/2023-05-19-11-57-59.png?imageMogr2/format/webp",alt:"Auto Update"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://img.newzone.top/2023-05-19-11-59-26.png?imageMogr2/format/webp",alt:"Enable Auto Update"})}),"\n",(0,r.jsx)(n.h3,{id:"manual-code-update",children:"Manual Code Update"}),"\n",(0,r.jsxs)(n.p,{children:["If you want to update immediately manually, you can view ",(0,r.jsx)(n.a,{href:"https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks/syncing-a-fork",children:"GitHub's documentation"})," to learn how to sync a forked project with upstream code."]}),"\n",(0,r.jsx)(n.p,{children:"You can give this project a star/watch, or follow the author to get notifications of new feature updates in time."})]})}function h(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453(e,n,t){t.d(n,{R:()=>i,x:()=>s});var o=t(96540);let r={},l=o.createContext(r);function i(e){let n=o.useContext(l);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),o.createElement(l.Provider,{value:n},e.children)}}}]);