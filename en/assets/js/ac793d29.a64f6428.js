"use strict";(self.webpackChunkchatgpt_shortcut=self.webpackChunkchatgpt_shortcut||[]).push([["650"],{50309(e,r,i){i.d(r,{O:()=>n,c:()=>a});var t=i(74848),s=i(96540),o=i(67202),l=i(13462);let a=(0,s.createContext)({userAuth:null,refreshUserAuth:()=>{},setUserAuth:()=>{},authLoading:!1});function n({children:e}){let[r,i]=(0,s.useState)(null),n="undefined"!=typeof window&&localStorage.getItem("auth_token"),[d,c]=(0,s.useState)(!!n),m=(0,s.useCallback)(async(e=!1)=>{if(!("undefined"!=typeof window&&localStorage.getItem("auth_token")))return void c(!1);e&&(0,o.clearMySpaceCache)(),(0,s.startTransition)(()=>c(!0));try{let e=await (0,o.xS)(),r=Array.isArray(e.customTags)?e.customTags:e.customTags?.definitions||[],t=(e.items||[]).filter(e=>null!=e.id&&void 0!==e.id||(console.warn("[AuthProvider] Filtered out invalid item with null ID:",e),!1)),a={...e,customTags:r,items:t,favorites:{id:e.favoriteId,loves:(0,l.$W)(t),commLoves:(0,l.VT)(t),customTags:{definitions:r,itemTags:e.customTags?.itemTags||{}}},userprompts:(0,l.Cu)(t)};(0,s.startTransition)(()=>i({data:a}))}catch(e){console.error("Failed to fetch user data:",e),(0,s.startTransition)(()=>i(null))}finally{(0,s.startTransition)(()=>c(!1))}},[]);(0,s.useEffect)(()=>{m()},[]);let h=(0,s.useMemo)(()=>({userAuth:r,setUserAuth:i,refreshUserAuth:m,authLoading:d}),[r,m,d]);return(0,t.jsx)(a.Provider,{value:h,children:e})}},26807(e,r,i){i.d(r,{FU:()=>a,c8:()=>l,ht:()=>o});var t=i(74848);i(96540);var s=i(30568);function o(e){return e>=50?{level:5,emoji:"\u{1F48E}",color:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",tagColor:"purple",icon:"crown",next:null}:e>=20?{level:4,emoji:"\u{1F3C6}",color:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",tagColor:"cyan",icon:"trophy",next:50}:e>=10?{level:3,emoji:"\u2B50",color:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",tagColor:"gold",icon:"star",next:20}:e>=3?{level:2,emoji:"\u{1F680}",color:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",tagColor:"blue",icon:"rocket",next:10}:e>=1?{level:1,emoji:"\u{1F31F}",color:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",tagColor:"orange",icon:"fire",next:3}:{level:0,emoji:"\u{1F331}",color:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",tagColor:"green",icon:"thunderbolt",next:1}}function l({level:e,emoji:r,showEmoji:i=!0}){return(0,t.jsxs)(t.Fragment,{children:[i&&r&&(0,t.jsxs)(t.Fragment,{children:[r," "]}),5===e&&(0,t.jsx)(s.A,{id:"level.diamond",children:"\u94BB\u77F3\u4F20\u8BF4"}),4===e&&(0,t.jsx)(s.A,{id:"level.platinum",children:"\u94C2\u91D1\u5927\u5E08"}),3===e&&(0,t.jsx)(s.A,{id:"level.gold",children:"\u9EC4\u91D1\u4E13\u5BB6"}),2===e&&(0,t.jsx)(s.A,{id:"level.silver",children:"\u767D\u94F6\u7CBE\u82F1"}),1===e&&(0,t.jsx)(s.A,{id:"level.bronze",children:"\u9752\u94DC\u65B0\u661F"}),0===e&&(0,t.jsx)(s.A,{id:"level.newcomer",children:"\u840C\u65B0\u63A2\u7D22\u8005"})]})}function a({level:e}){return(0,t.jsxs)(t.Fragment,{children:[5===e&&(0,t.jsx)(s.A,{id:"level.diamond.desc",children:"\u9876\u7EA7\u8D21\u732E\u8005\uFF0C\u793E\u533A\u4F20\u5947\uFF01"}),4===e&&(0,t.jsx)(s.A,{id:"level.platinum.desc",children:"\u8D44\u6DF1\u4E13\u5BB6\uFF0C\u5F71\u54CD\u529B\u975E\u51E1\uFF01"}),3===e&&(0,t.jsx)(s.A,{id:"level.gold.desc",children:"\u7ECF\u9A8C\u4E30\u5BCC\uFF0C\u503C\u5F97\u4FE1\u8D56\uFF01"}),2===e&&(0,t.jsx)(s.A,{id:"level.silver.desc",children:"\u6D3B\u8DC3\u8D21\u732E\u8005\uFF0C\u6301\u7EED\u6210\u957F\u4E2D\uFF01"}),1===e&&(0,t.jsx)(s.A,{id:"level.bronze.desc",children:"\u5DF2\u8FC8\u51FA\u7B2C\u4E00\u6B65\uFF0C\u7EE7\u7EED\u52A0\u6CB9\uFF01"}),0===e&&(0,t.jsx)(s.A,{id:"level.newcomer.desc",children:"\u5206\u4EAB\u7B2C\u4E00\u4E2A\u63D0\u793A\u8BCD\uFF0C\u5F00\u542F\u521B\u4F5C\u4E4B\u65C5\uFF01"})]})}},45856(e,r,i){i.r(r),i.d(r,{default:()=>X});var t=i(74848),s=i(96540),o=i(30568),l=i(95310),a=i(21085),n=i(10898),d=i(24301),c=i(71024),m=i(35710),h=i(89986),x=i(84073),p=i(47152),u=i(16370),g=i(36813),j=i(21751),y=i(52930),A=i(9643),f=i(68101),w=i(65232),v=i(50400),b=i(66845),S=i(57486),k=i(13147),P=i(55021),T=i(85489),C=i(76164),z=i(17055),B=i(6365),$=i(7769),R=i(58573),M=i(83301),F=i(17047),O=i(20156),I=i(26385),E=i(61381),L=i(79785),U=i(56304),D=i(51757),q=i(53159),N=i(7710),W=i(47770),G=i(46029),J=i(50309),V=i(26807),_=i(91831),H=i(67202),Y=i(13462);let{Title:Z,Text:K}=d.A,Q=()=>{let e,r,i,d,Q,{userAuth:X,refreshUserAuth:ee}=(0,s.useContext)(J.c),{message:er,modal:ei}=c.A.useApp(),{token:et}=m.A.useToken(),{i18n:es}=(0,n.A)(),eo=es.currentLocale.split("-")[0],[el,ea]=(0,s.useState)(null),[en,ed]=(0,s.useState)(!0),[ec,em]=(0,s.useState)(!1),[eh,ex]=(0,s.useState)(!1),[ep,eu]=(0,s.useState)(""),[eg]=h.A.useForm(),[ej]=h.A.useForm(),ey=(0,s.useRef)(null),[eA,ef]=(0,s.useState)(!1),ew=(0,s.useCallback)(async()=>{ed(!0);try{let e=await (0,_.n)();e&&(ea(e.data),eu(e.data.username))}catch(e){console.error("Failed to fetch user info:",e)}finally{ed(!1)}},[]);(0,s.useEffect)(()=>{ew()},[ew]),(0,s.useEffect)(()=>{if(!en&&!el){let e=setTimeout(()=>{window.location.href="/"},2e3);return()=>clearTimeout(e)}},[en,el]);let ev=(0,s.useCallback)(async()=>{try{let e=X?.data?.items?.filter(e=>"prompt"===e.type)||[],r=X?.data?.items?.filter(e=>"favorite"===e.type)||[];if(0===e.length&&0===r.length)return void er.warning((0,t.jsx)(o.A,{id:"message.export.noPrompts",children:"\u6682\u65E0\u63D0\u793A\u8BCD\u53EF\u5BFC\u51FA"}));let i=e.map(e=>e.id),s=r.filter(e=>"card"===e.source).map(e=>e.id),l=r.filter(e=>"community"===e.source).map(e=>e.id),[a,n,d]=await Promise.all([i.length>0?(0,H.oO)("userprompts",i):[],s.length>0?(0,H.oO)("cards",s):[],l.length>0?(0,H.oO)("commus",l):[]]),c=[...n.map(e=>{let r=e[eo]||e.zh||e.en||{};return{id:e.id,source:"card",...r.title&&{title:r.title},...r.prompt&&{prompt:r.prompt},...r.remark&&{remark:r.remark}}}),...d.map(e=>({id:e.id,source:"community",...e.title&&{title:e.title},...e.description&&{prompt:e.description},...e.remark&&{remark:e.remark}}))],m={exportTime:new Date().toISOString(),prompts:a.map(e=>({id:e.id,title:e.title,prompt:e.description,...e.remark&&{remark:e.remark},...e.notes&&{notes:e.notes},share:e.share})),favorites:{card:s,community:l},...c.length>0&&{favoriteDetails:c}},h=JSON.stringify(m,null,2),x=new Blob([h],{type:"application/json"}),p=URL.createObjectURL(x),u=document.createElement("a");u.href=p,u.download=`my-prompts-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(p),er.success((0,t.jsx)(o.A,{id:"message.export.success",children:"\u63D0\u793A\u8BCD\u5BFC\u51FA\u6210\u529F\uFF01"}))}catch(e){console.error("Export error:",e),er.error((0,t.jsx)(o.A,{id:"message.export.error",children:"\u5BFC\u51FA\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"}))}},[X,er,eo]),eb=(0,s.useCallback)(async()=>{try{(0,H.Yd)(),(0,H.clearMySpaceCache)(),await ew(),er.success((0,t.jsx)(o.A,{id:"message.cache.cleared",children:"\u7F13\u5B58\u5DF2\u6E05\u9664\uFF0C\u6570\u636E\u5DF2\u5237\u65B0"}))}catch(e){console.error("Clear cache error:",e),er.error((0,t.jsx)(o.A,{id:"message.cache.clearError",children:"\u6E05\u9664\u7F13\u5B58\u5931\u8D25"}))}},[ew,er]),eS=(0,s.useCallback)(async e=>{let r=e.target.files?.[0];if(r){e.target.value="";try{let e=await r.text(),i=JSON.parse(e),s=[],l={card:[],community:[]};Array.isArray(i)?s=i:i.prompts?(s=i.prompts,i.favorites&&(l.card=i.favorites.card||[],l.community=i.favorites.community||[])):i.title&&(i.prompt||i.description)&&(s=[i]),s=s.map(e=>({...e,prompt:e.prompt||e.description||""})).filter(e=>e.title&&e.prompt);let a=l.card.length>0||l.community.length>0;if(0===s.length&&!a)return void er.error((0,t.jsx)(o.A,{id:"message.import.invalid",children:"\u65E0\u6548\u7684\u6570\u636E\u683C\u5F0F"}));ef(!0);let n=X?.data?.userprompts?.map(e=>e.id)||[],d=X?.data?.favorites?.id,c=s.filter(e=>e.id&&n.includes(e.id)).map(e=>e.id),m={};if(c.length>0)try{m=(await (0,H.oO)("userprompts",c)).reduce((e,r)=>(e[r.id]=r,e),{})}catch{}let h=0,x=0,p=s.map(async e=>{if(e.id&&n.includes(e.id)){let r=m[e.id];return r&&r.title===e.title&&r.description===e.prompt&&(r.remark||"")===(e.remark||"")&&(r.notes||"")===(e.notes||"")&&r.share===(e.share??!1)?{status:"skipped"}:(await (0,H.qj)(e.id,{title:e.title,description:e.prompt,remark:e.remark,notes:e.notes,share:e.share??!1}),{status:"success"})}return e.id?(await (0,H.vA)({title:e.title,description:e.prompt,remark:e.remark,notes:e.notes,share:!1}),{status:"success"}):(await (0,H.vA)({title:e.title,description:e.prompt,remark:e.remark,notes:e.notes,share:e.share??!0}),{status:"success"})});for(let e of(await Promise.allSettled(p)))"fulfilled"===e.status?"skipped"!==e.value.status&&h++:x++;if(a){let e=X?.data?.items||[],r=[{importIds:l.card,isCommunity:!1,derive:Y.$W},{importIds:l.community,isCommunity:!0,derive:Y.VT}].map(async({importIds:r,isCommunity:i,derive:t})=>{if(0===r.length)return!1;let s=t(e),o=[...new Set([...s,...r])];return o.length!==s.length&&(d?await (0,H.O)(d,o,i):await (0,H.vN)(o,i),!0)}),i=await Promise.allSettled(r);h+=i.filter(e=>"fulfilled"===e.status&&e.value).length}ef(!1),0===x?er.success((0,t.jsx)(o.A,{id:"message.import.success",children:"\u5BFC\u5165\u6210\u529F\uFF01"})):h>0?er.warning(`${(0,o.T)({id:"message.import.partial",message:"\u90E8\u5206\u5BFC\u5165\u6210\u529F"})} (${h}/${h+x})`):er.error((0,t.jsx)(o.A,{id:"message.import.failed",children:"\u5BFC\u5165\u5931\u8D25"})),await ee(!0)}catch(e){ef(!1),console.error("Import error:",e),er.error((0,t.jsx)(o.A,{id:"message.import.parseError",children:"JSON \u89E3\u6790\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u6587\u4EF6\u683C\u5F0F"}))}}},[X,er,ee]),ek=async()=>{if(!ep.trim())return void er.error("Username cannot be empty");if(ep===el?.username)return void ex(!1);em(!0);try{await (0,H.kZ)(ep),await ew(),er.success("Username updated successfully!"),ex(!1)}catch(r){console.error("Error updating username:",r);let e=r?.response?.data?.error?.message||"Unknown error";er.error(`Failed to update username: ${e}`)}finally{em(!1)}},eP=async e=>{em(!0);try{await (0,H.ec)(e),er.success((0,t.jsx)(o.A,{id:"message.success.passwordChanged",children:"\u5BC6\u7801\u4FEE\u6539\u6210\u529F\uFF01"})),eg.resetFields()}catch(e){console.error("Error changing password:",e),er.error((0,t.jsx)(o.A,{id:"message.error.passwordChangeFailed",children:"\u5BC6\u7801\u4FEE\u6539\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"}))}finally{em(!1)}},eT=async e=>{em(!0);try{await (0,H.BD)(e.email),er.success((0,t.jsx)(o.A,{id:"message.success.forgotPassword",children:"\u5BC6\u7801\u91CD\u7F6E\u90AE\u4EF6\u5DF2\u53D1\u9001\uFF01"})),ej.resetFields()}catch(e){console.error("Error sending forgot password email:",e),er.error((0,t.jsx)(o.A,{id:"message.error.forgotPassword",children:"\u53D1\u9001\u5BC6\u7801\u91CD\u7F6E\u90AE\u4EF6\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"}))}finally{em(!1)}};return en||!el?(0,t.jsx)(a.A,{title:(0,o.T)({id:"link.myAccount",message:"\u6211\u7684\u8D26\u6237"}),children:(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:(0,t.jsx)(x.A,{size:"large"})})}):(0,t.jsxs)(a.A,{title:(0,o.T)({id:"link.myAccount",message:"\u6211\u7684\u8D26\u6237"}),children:[(0,t.jsx)("main",{style:{minHeight:"calc(100vh - 60px)",padding:"24px 0"},children:(0,t.jsx)(p.A,{justify:"center",children:(0,t.jsx)(u.A,{xs:24,sm:22,md:20,lg:16,xl:14,children:(0,t.jsxs)(g.A,{orientation:"vertical",size:"large",style:{width:"100%"},children:[(0,t.jsx)(j.A,{style:{borderRadius:et.borderRadiusLG,border:`1px solid ${et.colorBorderSecondary}`,boxShadow:et.boxShadowTertiary},styles:{body:{padding:"12px 24px"}},children:(0,t.jsx)(y.A,{justify:"space-between",align:"center",children:(0,t.jsx)(A.A,{itemRender:(e,r,i,s)=>i.indexOf(e)!==i.length-1&&e.path?(0,t.jsx)(l.A,{to:e.path,style:{color:"var(--ifm-color-primary)"},children:e.title}):(0,t.jsx)("span",{children:e.title}),items:[{path:"/",title:(0,t.jsxs)(y.A,{align:"center",gap:4,children:[(0,t.jsx)(T.A,{}),(0,t.jsx)("span",{children:(0,t.jsx)(o.A,{id:"link.home",children:"\u9996\u9875"})})]})},{title:(0,t.jsx)(o.A,{id:"link.myAccount",children:"\u7528\u6237\u4E2D\u5FC3"})}]})})}),(0,t.jsxs)(p.A,{gutter:[24,24],children:[(0,t.jsx)(u.A,{xs:24,md:10,children:(0,t.jsx)(j.A,{style:{height:"100%",borderRadius:et.borderRadiusLG,border:`1px solid ${et.colorBorderSecondary}`,boxShadow:et.boxShadowTertiary},title:(0,t.jsxs)(g.A,{children:[(0,t.jsx)(C.A,{style:{color:et.colorPrimary}}),(0,t.jsx)(o.A,{id:"title.userInfo",children:"\u7528\u6237\u4FE1\u606F"})]}),children:(e=X?.data?.userprompts?.filter(e=>e.share).length||0,i=(r=(0,V.ht)(e)).next?Math.min(100,Math.round(e/r.next*100)):100,d=r.next?r.next-e:0,Q={crown:(0,t.jsx)(z.A,{}),trophy:(0,t.jsx)(B.A,{}),star:(0,t.jsx)($.A,{}),rocket:(0,t.jsx)(R.A,{}),fire:(0,t.jsx)(M.A,{}),thunderbolt:(0,t.jsx)(F.A,{})},(0,t.jsxs)(y.A,{vertical:!0,align:"center",gap:0,children:[(0,t.jsxs)("div",{style:{position:"relative",padding:4,borderRadius:"50%",background:r.color,marginBottom:16},children:[(0,t.jsx)(f.A,{size:88,icon:(0,t.jsx)(C.A,{}),style:{backgroundColor:et.colorBgContainer,color:et.colorPrimary,fontSize:36,border:`3px solid ${et.colorBgContainer}`}}),(0,t.jsx)("div",{style:{position:"absolute",bottom:0,right:0,background:et.colorBgContainer,borderRadius:"50%",padding:4,boxShadow:et.boxShadow},children:(0,t.jsx)("span",{style:{fontSize:20,color:et.colorPrimary},children:Q[r.icon]})})]}),eh?(0,t.jsxs)(g.A.Compact,{style:{width:"100%",maxWidth:240,marginBottom:8},children:[(0,t.jsx)(w.A,{value:ep,onChange:e=>eu(e.target.value),onPressEnter:ek,autoFocus:!0}),(0,t.jsx)(v.Ay,{type:"primary",icon:(0,t.jsx)(O.A,{}),onClick:ek,loading:ec}),(0,t.jsx)(v.Ay,{icon:(0,t.jsx)(I.A,{}),onClick:()=>ex(!1)})]}):(0,t.jsxs)(y.A,{align:"center",gap:8,style:{marginBottom:4},children:[(0,t.jsx)(Z,{level:4,style:{margin:0},children:el.username}),(0,t.jsx)(v.Ay,{type:"text",icon:(0,t.jsx)(I.A,{}),onClick:()=>{eu(el?.username||""),ex(!0)},size:"small",style:{color:et.colorTextSecondary}})]}),(0,t.jsxs)(K,{type:"secondary",style:{fontSize:et.fontSizeSM},children:[(0,t.jsx)(E.A,{style:{marginRight:4}}),el.email]}),(0,t.jsx)(b.A,{color:r.tagColor,style:{marginTop:16,padding:"6px 16px",fontSize:et.fontSize,fontWeight:600,borderRadius:et.borderRadiusLG},children:(0,t.jsx)(V.c8,{level:r.level,emoji:r.emoji})}),(0,t.jsx)(K,{type:"secondary",style:{marginTop:8,fontSize:et.fontSizeSM,textAlign:"center"},children:(0,t.jsx)(V.FU,{level:r.level})}),(0,t.jsx)(j.A,{size:"small",style:{width:"100%",marginTop:20,border:`1px solid ${et.colorPrimaryBorder}`},styles:{body:{textAlign:"center",background:`linear-gradient(135deg, ${et.colorPrimaryBg} 0%, ${et.colorBgContainer} 100%)`}},children:(0,t.jsx)(S.A,{title:(0,t.jsxs)(g.A,{style:{color:et.colorTextSecondary},children:[(0,t.jsx)(L.A,{}),(0,t.jsx)(o.A,{id:"stat.sharedPrompts",children:"\u5DF2\u5206\u4EAB\u63D0\u793A\u8BCD"})]}),value:e,valueStyle:{color:et.colorPrimary,fontSize:32,fontWeight:700}})}),r.next&&(0,t.jsxs)(y.A,{vertical:!0,gap:8,style:{width:"100%",marginTop:16},children:[(0,t.jsxs)(y.A,{justify:"space-between",children:[(0,t.jsx)(K,{type:"secondary",style:{fontSize:et.fontSizeSM},children:(0,t.jsx)(o.A,{id:"progress.toNextLevel",children:"\u8DDD\u79BB\u4E0B\u4E00\u7B49\u7EA7"})}),(0,t.jsx)(K,{strong:!0,style:{fontSize:et.fontSizeSM,color:et.colorPrimary},children:d})]}),(0,t.jsx)(k.A,{percent:i,strokeColor:{"0%":et.colorPrimary,"100%":et.colorPrimaryActive},trailColor:et.colorBorderSecondary,showInfo:!1}),(0,t.jsxs)(K,{type:"secondary",style:{fontSize:12,textAlign:"center"},children:[(0,t.jsx)(o.A,{id:"progress.encourage",children:"\u7EE7\u7EED\u5206\u4EAB\uFF0C\u89E3\u9501\u66F4\u9AD8\u7B49\u7EA7\uFF01"})," \u{1F3AF}"]})]}),!r.next&&e>0&&(0,t.jsx)(j.A,{size:"small",style:{width:"100%",marginTop:16,border:`1px solid ${et.colorSuccessBorder}`},styles:{body:{textAlign:"center",background:`linear-gradient(135deg, ${et.colorSuccessBg} 0%, ${et.colorBgContainer} 100%)`}},children:(0,t.jsxs)(K,{strong:!0,style:{color:et.colorSuccess},children:["\u{1F389} ",(0,t.jsx)(o.A,{id:"level.max.congrats",children:"\u606D\u559C\u8FBE\u6210\u6700\u9AD8\u7B49\u7EA7\uFF01\u4F60\u662F\u793E\u533A\u7684\u4F20\u5947\u8D21\u732E\u8005\uFF01"})]})})]}))})}),(0,t.jsx)(u.A,{xs:24,md:14,children:(0,t.jsx)(j.A,{style:{height:"100%",borderRadius:et.borderRadiusLG,border:`1px solid ${et.colorBorderSecondary}`,boxShadow:et.boxShadowTertiary},title:(0,t.jsxs)(g.A,{children:[(0,t.jsx)(U.A,{style:{color:et.colorPrimary}}),(0,t.jsx)(o.A,{id:"title.security",children:"\u5B89\u5168\u8BBE\u7F6E"})]}),extra:(0,t.jsx)(v.Ay,{type:"link",onClick:()=>{ei.confirm({title:(0,t.jsxs)(g.A,{children:[(0,t.jsx)(E.A,{style:{color:et.colorPrimary}}),(0,t.jsx)(o.A,{id:"modal.forgotPassword.title",children:"\u5FD8\u8BB0\u5BC6\u7801"})]}),icon:null,content:(0,t.jsxs)("div",{style:{marginTop:16},children:[(0,t.jsx)(K,{type:"secondary",style:{display:"block",marginBottom:16},children:(0,t.jsx)(o.A,{id:"message.forgotPassword.info",children:"\u6211\u4EEC\u4F1A\u5411\u60A8\u7684\u6CE8\u518C\u90AE\u7BB1\u53D1\u9001\u4E00\u5C01\u5305\u542B\u91CD\u7F6E\u94FE\u63A5\u7684\u90AE\u4EF6\u3002"})}),(0,t.jsx)(h.A,{form:ej,layout:"vertical",children:(0,t.jsx)(h.A.Item,{name:"email",label:(0,t.jsx)(o.A,{id:"placeholder.email",children:"\u90AE\u7BB1"}),rules:[{required:!0,message:(0,o.T)({id:"validation.email.required",message:"\u8BF7\u8F93\u5165\u60A8\u7684\u90AE\u7BB1\uFF01"})},{type:"email",message:(0,o.T)({id:"validation.email.invalid",message:"\u8BF7\u8F93\u5165\u6709\u6548\u7684\u90AE\u7BB1\u5730\u5740\uFF01"})}],initialValue:el?.email||"",children:(0,t.jsx)(w.A,{prefix:(0,t.jsx)(E.A,{style:{color:et.colorTextDescription}}),placeholder:(0,o.T)({id:"placeholder.email",message:"\u90AE\u7BB1"}),size:"large"})})})]}),onOk:async()=>{try{await ej.validateFields();let e=ej.getFieldsValue();await eT(e)}catch(e){return Promise.reject(e)}},okText:(0,t.jsx)(o.A,{id:"action.sendResetEmail",children:"\u53D1\u9001\u91CD\u7F6E\u90AE\u4EF6"}),cancelText:(0,t.jsx)(o.A,{id:"action.cancel",children:"\u53D6\u6D88"}),centered:!0,width:480})},children:(0,t.jsx)(o.A,{id:"action.forgotPassword",children:"\u5FD8\u8BB0\u5BC6\u7801\uFF1F"})}),children:(0,t.jsxs)(h.A,{form:eg,onFinish:eP,layout:"vertical",requiredMark:!1,children:[(0,t.jsx)(h.A.Item,{name:"currentPassword",label:(0,t.jsx)(o.A,{id:"placeholder.currentPassword",children:"\u5F53\u524D\u5BC6\u7801"}),rules:[{required:!0,message:(0,o.T)({id:"validation.currentPassword.required",message:"\u8BF7\u8F93\u5165\u5F53\u524D\u5BC6\u7801\uFF01"})}],children:(0,t.jsx)(w.A.Password,{prefix:(0,t.jsx)(D.A,{style:{color:et.colorTextDescription}}),placeholder:(0,o.T)({id:"placeholder.currentPassword",message:"\u5F53\u524D\u5BC6\u7801"}),size:"large"})}),(0,t.jsx)(h.A.Item,{name:"newPassword",label:(0,t.jsx)(o.A,{id:"placeholder.newPassword",children:"\u65B0\u5BC6\u7801"}),rules:[{required:!0,message:(0,o.T)({id:"input.newPassword",message:"\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801\uFF01"})},{min:6,message:(0,o.T)({id:"validation.password.length",message:"\u5BC6\u7801\u957F\u5EA6\u81F3\u5C11\u4E3A 6 \u4E2A\u5B57\u7B26"})}],children:(0,t.jsx)(w.A.Password,{prefix:(0,t.jsx)(D.A,{style:{color:et.colorTextDescription}}),placeholder:(0,o.T)({id:"placeholder.newPassword",message:"\u65B0\u5BC6\u7801"}),size:"large"})}),(0,t.jsx)(h.A.Item,{name:"confirmPassword",label:(0,t.jsx)(o.A,{id:"placeholder.confirmPassword",children:"\u786E\u8BA4\u65B0\u5BC6\u7801"}),dependencies:["newPassword"],rules:[{required:!0,message:(0,o.T)({id:"validation.confirmPassword.required",message:"\u8BF7\u786E\u8BA4\u65B0\u5BC6\u7801\uFF01"})},({getFieldValue:e})=>({validator:(r,i)=>i&&e("newPassword")!==i?Promise.reject(Error((0,o.T)({id:"validation.password.match",message:"\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4\uFF01"}))):Promise.resolve()})],children:(0,t.jsx)(w.A.Password,{prefix:(0,t.jsx)(D.A,{style:{color:et.colorTextDescription}}),placeholder:(0,o.T)({id:"placeholder.confirmPassword",message:"\u786E\u8BA4\u65B0\u5BC6\u7801"}),size:"large"})}),(0,t.jsx)(h.A.Item,{style:{marginBottom:0},children:(0,t.jsx)(v.Ay,{type:"primary",htmlType:"submit",loading:ec,block:!0,size:"large",children:(0,t.jsx)(o.A,{id:"action.changePassword",children:"\u4FEE\u6539\u5BC6\u7801"})})})]})})})]}),(0,t.jsx)(j.A,{style:{borderRadius:et.borderRadiusLG,border:`1px solid ${et.colorBorderSecondary}`,boxShadow:et.boxShadowTertiary},title:(0,t.jsxs)(g.A,{children:[(0,t.jsx)(q.A,{style:{color:et.colorPrimary}}),(0,t.jsx)(o.A,{id:"title.dataManagement",children:"\u6570\u636E\u7BA1\u7406"})]}),children:(0,t.jsxs)(g.A,{direction:"vertical",size:"middle",style:{width:"100%"},children:[(0,t.jsxs)(y.A,{justify:"space-between",align:"center",style:{padding:`${et.paddingSM}px 0`,borderBottom:`1px solid ${et.colorBorderSecondary}`},children:[(0,t.jsxs)(y.A,{align:"center",gap:et.marginMD,children:[(0,t.jsx)(f.A,{icon:(0,t.jsx)(N.A,{}),style:{backgroundColor:et.colorPrimaryBg,color:et.colorPrimary,border:`1px solid ${et.colorPrimaryBorder}`}}),(0,t.jsxs)("div",{children:[(0,t.jsx)(K,{strong:!0,children:(0,t.jsx)(o.A,{id:"button.exportPrompts",children:"\u5BFC\u51FA\u63D0\u793A\u8BCD"})}),(0,t.jsx)("br",{}),(0,t.jsx)(K,{type:"secondary",style:{fontSize:et.fontSizeSM},children:(0,t.jsx)(o.A,{id:"description.exportPrompts.short",children:"\u5BFC\u51FA\u4E3A JSON \u6587\u4EF6\uFF0C\u65B9\u4FBF\u5907\u4EFD"})})]})]}),(0,t.jsx)(v.Ay,{icon:(0,t.jsx)(N.A,{}),onClick:ev,disabled:!X?.data?.items?.some(e=>"prompt"===e.type||"favorite"===e.type),children:(0,t.jsx)(o.A,{id:"button.export",children:"\u5BFC\u51FA\u6570\u636E"})})]}),(0,t.jsxs)(y.A,{justify:"space-between",align:"center",style:{padding:`${et.paddingSM}px 0`,borderBottom:`1px solid ${et.colorBorderSecondary}`},children:[(0,t.jsxs)(y.A,{align:"center",gap:et.marginMD,children:[(0,t.jsx)(f.A,{icon:(0,t.jsx)(W.A,{}),style:{backgroundColor:et.colorPrimaryBg,color:et.colorPrimary,border:`1px solid ${et.colorPrimaryBorder}`}}),(0,t.jsxs)("div",{children:[(0,t.jsx)(K,{strong:!0,children:(0,t.jsx)(o.A,{id:"button.importPrompts",children:"\u5BFC\u5165\u63D0\u793A\u8BCD"})}),(0,t.jsx)("br",{}),(0,t.jsx)(K,{type:"secondary",style:{fontSize:et.fontSizeSM},children:(0,t.jsx)(o.A,{id:"description.importPrompts.short",children:"\u4ECE JSON \u6587\u4EF6\u5BFC\u5165\u63D0\u793A\u8BCD\u548C\u6536\u85CF"})})]})]}),(0,t.jsx)(v.Ay,{icon:(0,t.jsx)(W.A,{}),loading:eA,onClick:()=>ey.current?.click(),children:(0,t.jsx)(o.A,{id:"button.import",children:"\u5BFC\u5165\u6570\u636E"})})]}),(0,t.jsxs)(y.A,{justify:"space-between",align:"center",style:{padding:`${et.paddingSM}px 0`},children:[(0,t.jsxs)(y.A,{align:"center",gap:et.marginMD,children:[(0,t.jsx)(f.A,{icon:(0,t.jsx)(G.A,{}),style:{backgroundColor:et.colorPrimaryBg,color:et.colorPrimary,border:`1px solid ${et.colorPrimaryBorder}`}}),(0,t.jsxs)("div",{children:[(0,t.jsx)(K,{strong:!0,children:(0,t.jsx)(o.A,{id:"button.clearCache",children:"\u6E05\u9664\u7F13\u5B58"})}),(0,t.jsx)("br",{}),(0,t.jsx)(K,{type:"secondary",style:{fontSize:et.fontSizeSM},children:(0,t.jsx)(o.A,{id:"description.clearCache.short",children:"\u5237\u65B0\u672C\u5730\u7F13\u5B58\u6570\u636E"})})]})]}),(0,t.jsx)(P.A,{title:(0,t.jsx)(o.A,{id:"modal.clearCache.title",children:"\u786E\u8BA4\u6E05\u9664\u7F13\u5B58\uFF1F"}),description:(0,t.jsxs)("div",{children:[(0,t.jsx)(K,{children:(0,t.jsx)(o.A,{id:"modal.clearCache.content",children:"\u7CFB\u7EDF\u4F7F\u7528 ETag \u6280\u672F\u81EA\u52A8\u7BA1\u7406\u7F13\u5B58\uFF0C\u901A\u5E38\u65E0\u9700\u624B\u52A8\u6E05\u9664\u3002"})}),(0,t.jsx)("br",{}),(0,t.jsx)(K,{type:"warning",children:(0,t.jsx)(o.A,{id:"modal.clearCache.warning",children:"\u6E05\u9664\u540E\u5C06\u91CD\u65B0\u52A0\u8F7D\u6240\u6709\u6570\u636E\u3002"})})]}),onConfirm:eb,okText:(0,t.jsx)(o.A,{id:"button.confirm",children:"\u786E\u8BA4\u6E05\u9664"}),okButtonProps:{danger:!0},cancelText:(0,t.jsx)(o.A,{id:"action.cancel",children:"\u53D6\u6D88"}),placement:"topRight",children:(0,t.jsx)(v.Ay,{danger:!0,icon:(0,t.jsx)(G.A,{}),children:(0,t.jsx)(o.A,{id:"button.clearAllCache",children:"\u6E05\u9664\u6240\u6709\u7F13\u5B58"})})})]})]})})]})})})}),(0,t.jsx)("input",{type:"file",ref:ey,accept:".json",style:{display:"none"},onChange:eS})]})},X=()=>(0,t.jsx)(J.O,{children:(0,t.jsx)(c.A,{children:(0,t.jsx)(Q,{})})})},13462(e,r,i){function t(e){return e.filter(e=>"favorite"===e.type&&"card"===e.source).map(e=>e.id)}function s(e){return e.filter(e=>"favorite"===e.type&&"community"===e.source).map(e=>e.id)}function o(e){return e.filter(e=>"prompt"===e.type&&"userprompt"===e.source).map(e=>({id:e.id,share:e.share??!1,updatedAt:e.updatedAt}))}i.d(r,{$W:()=>t,Cu:()=>o,VT:()=>s})}}]);